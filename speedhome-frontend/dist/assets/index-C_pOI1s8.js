function w1(n,r){for(var a=0;a<r.length;a++){const o=r[a];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in n)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(n,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();function Rc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lm={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function N1(){if(Og)return lo;Og=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(o,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var f in c)f!=="key"&&(d[f]=c[f])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:m,ref:c!==void 0?c:null,props:d}}return lo.Fragment=r,lo.jsx=a,lo.jsxs=a,lo}var Pg;function S1(){return Pg||(Pg=1,lm.exports=N1()),lm.exports}var e=S1(),om={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function _1(){if(Lg)return Le;Lg=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,v={};function _(C,H,V){this.props=C,this.context=H,this.refs=v,this.updater=V||S}_.prototype.isReactComponent={},_.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=_.prototype;function E(C,H,V){this.props=C,this.context=H,this.refs=v,this.updater=V||S}var D=E.prototype=new k;D.constructor=E,N(D,_.prototype),D.isPureReactComponent=!0;var L=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function $(C,H,V,X,se,le){return V=le.ref,{$$typeof:n,type:C,key:H,ref:V!==void 0?V:null,props:le}}function O(C,H){return $(C.type,H,void 0,void 0,void 0,C.props)}function T(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function P(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return H[V]})}var F=/\/+/g;function J(C,H){return typeof C=="object"&&C!==null&&C.key!=null?P(""+C.key):H.toString(36)}function Z(){}function oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Z,Z):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,H,V,X,se){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var ye=!1;if(C===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(C.$$typeof){case n:case r:ye=!0;break;case y:return ye=C._init,ae(ye(C._payload),H,V,X,se)}}if(ye)return se=se(C),ye=X===""?"."+J(C,0):X,L(se)?(V="",ye!=null&&(V=ye.replace(F,"$&/")+"/"),ae(se,H,V,"",function(ie){return ie})):se!=null&&(T(se)&&(se=O(se,V+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(F,"$&/")+"/")+ye)),H.push(se)),1;ye=0;var ce=X===""?".":X+":";if(L(C))for(var he=0;he<C.length;he++)X=C[he],le=ce+J(X,he),ye+=ae(X,H,V,le,se);else if(he=w(C),typeof he=="function")for(C=he.call(C),he=0;!(X=C.next()).done;)X=X.value,le=ce+J(X,he++),ye+=ae(X,H,V,le,se);else if(le==="object"){if(typeof C.then=="function")return ae(oe(C),H,V,X,se);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ye}function U(C,H,V){if(C==null)return C;var X=[],se=0;return ae(C,X,"","",function(le){return H.call(V,le,se++)}),X}function G(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Y=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function xe(){}return Le.Children={map:U,forEach:function(C,H,V){U(C,function(){H.apply(this,arguments)},V)},count:function(C){var H=0;return U(C,function(){H++}),H},toArray:function(C){return U(C,function(H){return H})||[]},only:function(C){if(!T(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Le.Component=_,Le.Fragment=a,Le.Profiler=c,Le.PureComponent=E,Le.StrictMode=o,Le.Suspense=g,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Le.__COMPILER_RUNTIME={__proto__:null,c:function(C){return M.H.useMemoCache(C)}},Le.cache=function(C){return function(){return C.apply(null,arguments)}},Le.cloneElement=function(C,H,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var X=N({},C.props),se=C.key,le=void 0;if(H!=null)for(ye in H.ref!==void 0&&(le=void 0),H.key!==void 0&&(se=""+H.key),H)!z.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(X[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)X.children=V;else if(1<ye){for(var ce=Array(ye),he=0;he<ye;he++)ce[he]=arguments[he+2];X.children=ce}return $(C.type,se,void 0,void 0,le,X)},Le.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},Le.createElement=function(C,H,V){var X,se={},le=null;if(H!=null)for(X in H.key!==void 0&&(le=""+H.key),H)z.call(H,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(se[X]=H[X]);var ye=arguments.length-2;if(ye===1)se.children=V;else if(1<ye){for(var ce=Array(ye),he=0;he<ye;he++)ce[he]=arguments[he+2];se.children=ce}if(C&&C.defaultProps)for(X in ye=C.defaultProps,ye)se[X]===void 0&&(se[X]=ye[X]);return $(C,le,void 0,void 0,null,se)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(C){return{$$typeof:f,render:C}},Le.isValidElement=T,Le.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:G}},Le.memo=function(C,H){return{$$typeof:x,type:C,compare:H===void 0?null:H}},Le.startTransition=function(C){var H=M.T,V={};M.T=V;try{var X=C(),se=M.S;se!==null&&se(V,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(xe,Y)}catch(le){Y(le)}finally{M.T=H}},Le.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Le.use=function(C){return M.H.use(C)},Le.useActionState=function(C,H,V){return M.H.useActionState(C,H,V)},Le.useCallback=function(C,H){return M.H.useCallback(C,H)},Le.useContext=function(C){return M.H.useContext(C)},Le.useDebugValue=function(){},Le.useDeferredValue=function(C,H){return M.H.useDeferredValue(C,H)},Le.useEffect=function(C,H,V){var X=M.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(C,H)},Le.useId=function(){return M.H.useId()},Le.useImperativeHandle=function(C,H,V){return M.H.useImperativeHandle(C,H,V)},Le.useInsertionEffect=function(C,H){return M.H.useInsertionEffect(C,H)},Le.useLayoutEffect=function(C,H){return M.H.useLayoutEffect(C,H)},Le.useMemo=function(C,H){return M.H.useMemo(C,H)},Le.useOptimistic=function(C,H){return M.H.useOptimistic(C,H)},Le.useReducer=function(C,H,V){return M.H.useReducer(C,H,V)},Le.useRef=function(C){return M.H.useRef(C)},Le.useState=function(C){return M.H.useState(C)},Le.useSyncExternalStore=function(C,H,V){return M.H.useSyncExternalStore(C,H,V)},Le.useTransition=function(){return M.H.useTransition()},Le.version="19.1.0",Le}var Ug;function mf(){return Ug||(Ug=1,om.exports=_1()),om.exports}var p=mf();const He=Rc(p),jy=w1({__proto__:null,default:He},[p]);var im={exports:{}},oo={},cm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function E1(){return zg||(zg=1,function(n){function r(U,G){var Y=U.length;U.push(G);e:for(;0<Y;){var xe=Y-1>>>1,C=U[xe];if(0<c(C,G))U[xe]=G,U[Y]=C,Y=xe;else break e}}function a(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var G=U[0],Y=U.pop();if(Y!==G){U[0]=Y;e:for(var xe=0,C=U.length,H=C>>>1;xe<H;){var V=2*(xe+1)-1,X=U[V],se=V+1,le=U[se];if(0>c(X,Y))se<C&&0>c(le,X)?(U[xe]=le,U[se]=Y,xe=se):(U[xe]=X,U[V]=Y,xe=V);else if(se<C&&0>c(le,Y))U[xe]=le,U[se]=Y,xe=se;else break e}}return G}function c(U,G){var Y=U.sortIndex-G.sortIndex;return Y!==0?Y:U.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,f=m.now();n.unstable_now=function(){return m.now()-f}}var g=[],x=[],y=1,b=null,w=3,S=!1,N=!1,v=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(U){for(var G=a(x);G!==null;){if(G.callback===null)o(x);else if(G.startTime<=U)o(x),G.sortIndex=G.expirationTime,r(g,G);else break;G=a(x)}}function M(U){if(v=!1,L(U),!N)if(a(g)!==null)N=!0,z||(z=!0,J());else{var G=a(x);G!==null&&ae(M,G.startTime-U)}}var z=!1,$=-1,O=5,T=-1;function P(){return _?!0:!(n.unstable_now()-T<O)}function F(){if(_=!1,z){var U=n.unstable_now();T=U;var G=!0;try{e:{N=!1,v&&(v=!1,E($),$=-1),S=!0;var Y=w;try{t:{for(L(U),b=a(g);b!==null&&!(b.expirationTime>U&&P());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,w=b.priorityLevel;var C=xe(b.expirationTime<=U);if(U=n.unstable_now(),typeof C=="function"){b.callback=C,L(U),G=!0;break t}b===a(g)&&o(g),L(U)}else o(g);b=a(g)}if(b!==null)G=!0;else{var H=a(x);H!==null&&ae(M,H.startTime-U),G=!1}}break e}finally{b=null,w=Y,S=!1}G=void 0}}finally{G?J():z=!1}}}var J;if(typeof D=="function")J=function(){D(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,oe=Z.port2;Z.port1.onmessage=F,J=function(){oe.postMessage(null)}}else J=function(){k(F,0)};function ae(U,G){$=k(function(){U(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(U){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var Y=w;w=G;try{return U()}finally{w=Y}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=w;w=U;try{return G()}finally{w=Y}},n.unstable_scheduleCallback=function(U,G,Y){var xe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?xe+Y:xe):Y=xe,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Y+C,U={id:y++,callback:G,priorityLevel:U,startTime:Y,expirationTime:C,sortIndex:-1},Y>xe?(U.sortIndex=Y,r(x,U),a(g)===null&&U===a(x)&&(v?(E($),$=-1):v=!0,ae(M,Y-xe))):(U.sortIndex=C,r(g,U),N||S||(N=!0,z||(z=!0,J()))),U},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(U){var G=w;return function(){var Y=w;w=G;try{return U.apply(this,arguments)}finally{w=Y}}}}(dm)),dm}var Bg;function C1(){return Bg||(Bg=1,cm.exports=E1()),cm.exports}var um={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function k1(){if($g)return ns;$g=1;var n=mf();function r(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,x,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:x,implementation:y}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ns.createPortal=function(g,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return d(g,x,null,y)},ns.flushSync=function(g){var x=m.T,y=o.p;try{if(m.T=null,o.p=2,g)return g()}finally{m.T=x,o.p=y,o.d.f()}},ns.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(g,x))},ns.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},ns.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var y=x.as,b=f(y,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,S=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?o.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},ns.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=f(x.as,x.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(g)},ns.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,b=f(y,x.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},ns.preloadModule=function(g,x){if(typeof g=="string")if(x){var y=f(x.as,x.crossOrigin);o.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(g)},ns.requestFormReset=function(g){o.d.r(g)},ns.unstable_batchedUpdates=function(g,x){return g(x)},ns.useFormState=function(g,x,y){return m.H.useFormState(g,x,y)},ns.useFormStatus=function(){return m.H.useHostTransitionStatus()},ns.version="19.1.0",ns}var Fg;function wy(){if(Fg)return um.exports;Fg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),um.exports=k1(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function R1(){if(Hg)return oo;Hg=1;var n=C1(),r=mf(),a=wy();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function m(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(d(t)!==t)throw Error(o(188))}function g(t){var s=t.alternate;if(!s){if(s=d(t),s===null)throw Error(o(188));return s!==t?null:t}for(var l=t,i=s;;){var u=l.return;if(u===null)break;var h=u.alternate;if(h===null){if(i=u.return,i!==null){l=i;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===l)return f(u),t;if(h===i)return f(u),s;h=h.sibling}throw Error(o(188))}if(l.return!==i.return)l=u,i=h;else{for(var j=!1,R=u.child;R;){if(R===l){j=!0,l=u,i=h;break}if(R===i){j=!0,i=u,l=h;break}R=R.sibling}if(!j){for(R=h.child;R;){if(R===l){j=!0,l=h,i=u;break}if(R===i){j=!0,i=h,l=u;break}R=R.sibling}if(!j)throw Error(o(189))}}if(l.alternate!==i)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case D:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case L:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:oe(t.type)||"Memo";case O:s=t._payload,t=t._init;try{return oe(t(s))}catch{}}return null}var ae=Array.isArray,U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},xe=[],C=-1;function H(t){return{current:t}}function V(t){0>C||(t.current=xe[C],xe[C]=null,C--)}function X(t,s){C++,xe[C]=t.current,t.current=s}var se=H(null),le=H(null),ye=H(null),ce=H(null);function he(t,s){switch(X(ye,s),X(le,t),X(se,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?ig(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=ig(s),t=cg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(se),X(se,t)}function ie(){V(se),V(le),V(ye)}function be(t){t.memoizedState!==null&&X(ce,t);var s=se.current,l=cg(s,t.type);s!==l&&(X(le,t),X(se,l))}function ke(t){le.current===t&&(V(se),V(le)),ce.current===t&&(V(ce),to._currentValue=Y)}var Re=Object.prototype.hasOwnProperty,Qe=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,_t=n.unstable_shouldYield,At=n.unstable_requestPaint,qe=n.unstable_now,rt=n.unstable_getCurrentPriorityLevel,Wt=n.unstable_ImmediatePriority,Jt=n.unstable_UserBlockingPriority,ve=n.unstable_NormalPriority,Ve=n.unstable_LowPriority,dt=n.unstable_IdlePriority,ut=n.log,Et=n.unstable_setDisableYieldValue,q=null,ge=null;function ne(t){if(typeof ut=="function"&&Et(t),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(q,t)}catch{}}var Se=Math.clz32?Math.clz32:Bt,Ae=Math.log,Ke=Math.LN2;function Bt(t){return t>>>=0,t===0?32:31-(Ae(t)/Ke|0)|0}var ds=256,os=4194304;function Ns(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $t(t,s,l){var i=t.pendingLanes;if(i===0)return 0;var u=0,h=t.suspendedLanes,j=t.pingedLanes;t=t.warmLanes;var R=i&134217727;return R!==0?(i=R&~h,i!==0?u=Ns(i):(j&=R,j!==0?u=Ns(j):l||(l=R&~t,l!==0&&(u=Ns(l))))):(R=i&~h,R!==0?u=Ns(R):j!==0?u=Ns(j):l||(l=i&~t,l!==0&&(u=Ns(l)))),u===0?0:s!==0&&s!==u&&(s&h)===0&&(h=u&-u,l=s&-s,h>=l||h===32&&(l&4194048)!==0)?s:u}function us(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ot(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(){var t=ds;return ds<<=1,(ds&4194048)===0&&(ds=256),t}function Jr(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function Pt(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function A(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function de(t,s,l,i,u,h){var j=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var R=t.entanglements,B=t.expirationTimes,Q=t.hiddenUpdates;for(l=j&~l;0<l;){var ue=31-Se(l),fe=1<<ue;R[ue]=0,B[ue]=-1;var ee=Q[ue];if(ee!==null)for(Q[ue]=null,ue=0;ue<ee.length;ue++){var te=ee[ue];te!==null&&(te.lane&=-536870913)}l&=~fe}i!==0&&pe(t,i,0),h!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=h&~(j&~s))}function pe(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var i=31-Se(s);t.entangledLanes|=s,t.entanglements[i]=t.entanglements[i]|1073741824|l&4194090}function Oe(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var i=31-Se(l),u=1<<i;u&s|t[i]&s&&(t[i]|=s),l&=~u}}function _e(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bn(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:kg(t.type))}function uw(t,s){var l=G.p;try{return G.p=t,s()}finally{G.p=l}}var Hn=Math.random().toString(36).slice(2),ts="__reactFiber$"+Hn,ms="__reactProps$"+Hn,ea="__reactContainer$"+Hn,Qc="__reactEvents$"+Hn,mw="__reactListeners$"+Hn,fw="__reactHandles$"+Hn,Kf="__reactResources$"+Hn,ml="__reactMarker$"+Hn;function Jc(t){delete t[ts],delete t[ms],delete t[Qc],delete t[mw],delete t[fw]}function ta(t){var s=t[ts];if(s)return s;for(var l=t.parentNode;l;){if(s=l[ea]||l[ts]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=fg(t);t!==null;){if(l=t[ts])return l;t=fg(t)}return s}t=l,l=t.parentNode}return null}function sa(t){if(t=t[ts]||t[ea]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function fl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function na(t){var s=t[Kf];return s||(s=t[Kf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ft(t){t[ml]=!0}var Zf=new Set,Qf={};function jr(t,s){ra(t,s),ra(t+"Capture",s)}function ra(t,s){for(Qf[t]=s,t=0;t<s.length;t++)Zf.add(s[t])}var hw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jf={},eh={};function pw(t){return Re.call(eh,t)?!0:Re.call(Jf,t)?!1:hw.test(t)?eh[t]=!0:(Jf[t]=!0,!1)}function Po(t,s,l){if(pw(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function Lo(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function vn(t,s,l,i){if(i===null)t.removeAttribute(l);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+i)}}var ed,th;function aa(t){if(ed===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ed=s&&s[1]||"",th=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ed+t+th}var td=!1;function sd(t,s){if(!t||td)return"";td=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var ee=te}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(te){ee=te}t.call(fe.prototype)}}else{try{throw Error()}catch(te){ee=te}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),j=h[0],R=h[1];if(j&&R){var B=j.split(`
`),Q=R.split(`
`);for(u=i=0;i<B.length&&!B[i].includes("DetermineComponentFrameRoot");)i++;for(;u<Q.length&&!Q[u].includes("DetermineComponentFrameRoot");)u++;if(i===B.length||u===Q.length)for(i=B.length-1,u=Q.length-1;1<=i&&0<=u&&B[i]!==Q[u];)u--;for(;1<=i&&0<=u;i--,u--)if(B[i]!==Q[u]){if(i!==1||u!==1)do if(i--,u--,0>u||B[i]!==Q[u]){var ue=`
`+B[i].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=i&&0<=u);break}}}finally{td=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?aa(l):""}function xw(t){switch(t.tag){case 26:case 27:case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return sd(t.type,!1);case 11:return sd(t.type.render,!1);case 1:return sd(t.type,!0);case 31:return aa("Activity");default:return""}}function sh(t){try{var s="";do s+=xw(t),t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ls(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gw(t){var s=nh(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),i=""+t[s];if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return u.call(this)},set:function(j){i=""+j,h.call(this,j)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(j){i=""+j},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Uo(t){t._valueTracker||(t._valueTracker=gw(t))}function rh(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),i="";return t&&(i=nh(t)?t.checked?"true":"false":t.value),t=i,t!==l?(s.setValue(t),!0):!1}function zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yw=/[\n"\\]/g;function Us(t){return t.replace(yw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function nd(t,s,l,i,u,h,j,R){t.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.type=j:t.removeAttribute("type"),s!=null?j==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ls(s)):t.value!==""+Ls(s)&&(t.value=""+Ls(s)):j!=="submit"&&j!=="reset"||t.removeAttribute("value"),s!=null?rd(t,j,Ls(s)):l!=null?rd(t,j,Ls(l)):i!=null&&t.removeAttribute("value"),u==null&&h!=null&&(t.defaultChecked=!!h),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Ls(R):t.removeAttribute("name")}function ah(t,s,l,i,u,h,j,R){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||s!=null))return;l=l!=null?""+Ls(l):"",s=s!=null?""+Ls(s):l,R||s===t.value||(t.value=s),t.defaultValue=s}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=R?t.checked:!!i,t.defaultChecked=!!i,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(t.name=j)}function rd(t,s,l){s==="number"&&zo(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function la(t,s,l,i){if(t=t.options,s){s={};for(var u=0;u<l.length;u++)s["$"+l[u]]=!0;for(l=0;l<t.length;l++)u=s.hasOwnProperty("$"+t[l].value),t[l].selected!==u&&(t[l].selected=u),u&&i&&(t[l].defaultSelected=!0)}else{for(l=""+Ls(l),s=null,u=0;u<t.length;u++){if(t[u].value===l){t[u].selected=!0,i&&(t[u].defaultSelected=!0);return}s!==null||t[u].disabled||(s=t[u])}s!==null&&(s.selected=!0)}}function lh(t,s,l){if(s!=null&&(s=""+Ls(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+Ls(l):""}function oh(t,s,l,i){if(s==null){if(i!=null){if(l!=null)throw Error(o(92));if(ae(i)){if(1<i.length)throw Error(o(93));i=i[0]}l=i}l==null&&(l=""),s=l}l=Ls(s),t.defaultValue=l,i=t.textContent,i===l&&i!==""&&i!==null&&(t.value=i)}function oa(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var bw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(t,s,l){var i=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?i?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":i?t.setProperty(s,l):typeof l!="number"||l===0||bw.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function ch(t,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,l!=null){for(var i in l)!l.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var u in s)i=s[u],s.hasOwnProperty(u)&&l[u]!==i&&ih(t,u,i)}else for(var h in s)s.hasOwnProperty(h)&&ih(t,h,s[h])}function ad(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(t){return jw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ld=null;function od(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ia=null,ca=null;function dh(t){var s=sa(t);if(s&&(t=s.stateNode)){var l=t[ms]||null;e:switch(t=s.stateNode,s.type){case"input":if(nd(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Us(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var i=l[s];if(i!==t&&i.form===t.form){var u=i[ms]||null;if(!u)throw Error(o(90));nd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<l.length;s++)i=l[s],i.form===t.form&&rh(i)}break e;case"textarea":lh(t,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&la(t,!!l.multiple,s,!1)}}}var id=!1;function uh(t,s,l){if(id)return t(s,l);id=!0;try{var i=t(s);return i}finally{if(id=!1,(ia!==null||ca!==null)&&(Si(),ia&&(s=ia,t=ca,ca=ia=null,dh(s),t)))for(s=0;s<t.length;s++)dh(t[s])}}function hl(t,s){var l=t.stateNode;if(l===null)return null;var i=l[ms]||null;if(i===null)return null;l=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=!1;if(jn)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){cd=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{cd=!1}var qn=null,dd=null,$o=null;function mh(){if($o)return $o;var t,s=dd,l=s.length,i,u="value"in qn?qn.value:qn.textContent,h=u.length;for(t=0;t<l&&s[t]===u[t];t++);var j=l-t;for(i=1;i<=j&&s[l-i]===u[h-i];i++);return $o=u.slice(t,1<i?1-i:void 0)}function Fo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ho(){return!0}function fh(){return!1}function fs(t){function s(l,i,u,h,j){this._reactName=l,this._targetInst=u,this.type=i,this.nativeEvent=h,this.target=j,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(l=t[R],this[R]=l?l(h):h[R]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ho:fh,this.isPropagationStopped=fh,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),s}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=fs(wr),xl=y({},wr,{view:0,detail:0}),ww=fs(xl),ud,md,gl,Io=y({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(ud=t.screenX-gl.screenX,md=t.screenY-gl.screenY):md=ud=0,gl=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:md}}),hh=fs(Io),Nw=y({},Io,{dataTransfer:0}),Sw=fs(Nw),_w=y({},xl,{relatedTarget:0}),fd=fs(_w),Ew=y({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cw=fs(Ew),kw=y({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rw=fs(kw),Tw=y({},wr,{data:0}),ph=fs(Tw),Aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ow(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mw[t])?!!s[t]:!1}function hd(){return Ow}var Pw=y({},xl,{key:function(t){if(t.key){var s=Aw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(t){return t.type==="keypress"?Fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lw=fs(Pw),Uw=y({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=fs(Uw),zw=y({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),Bw=fs(zw),$w=y({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fw=fs($w),Hw=y({},Io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=fs(Hw),Iw=y({},wr,{newState:0,oldState:0}),Vw=fs(Iw),Yw=[9,13,27,32],pd=jn&&"CompositionEvent"in window,yl=null;jn&&"documentMode"in document&&(yl=document.documentMode);var Gw=jn&&"TextEvent"in window&&!yl,gh=jn&&(!pd||yl&&8<yl&&11>=yl),yh=" ",bh=!1;function vh(t,s){switch(t){case"keyup":return Yw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function Ww(t,s){switch(t){case"compositionend":return jh(s);case"keypress":return s.which!==32?null:(bh=!0,yh);case"textInput":return t=s.data,t===yh&&bh?null:t;default:return null}}function Xw(t,s){if(da)return t==="compositionend"||!pd&&vh(t,s)?(t=mh(),$o=dd=qn=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gh&&s.locale!=="ko"?null:s.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Kw[t.type]:s==="textarea"}function Nh(t,s,l,i){ia?ca?ca.push(i):ca=[i]:ia=i,s=Ti(s,"onChange"),0<s.length&&(l=new qo("onChange","change",null,l,i),t.push({event:l,listeners:s}))}var bl=null,vl=null;function Zw(t){ng(t,0)}function Vo(t){var s=fl(t);if(rh(s))return t}function Sh(t,s){if(t==="change")return s}var _h=!1;if(jn){var xd;if(jn){var gd="oninput"in document;if(!gd){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),gd=typeof Eh.oninput=="function"}xd=gd}else xd=!1;_h=xd&&(!document.documentMode||9<document.documentMode)}function Ch(){bl&&(bl.detachEvent("onpropertychange",kh),vl=bl=null)}function kh(t){if(t.propertyName==="value"&&Vo(vl)){var s=[];Nh(s,vl,t,od(t)),uh(Zw,s)}}function Qw(t,s,l){t==="focusin"?(Ch(),bl=s,vl=l,bl.attachEvent("onpropertychange",kh)):t==="focusout"&&Ch()}function Jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(vl)}function eN(t,s){if(t==="click")return Vo(s)}function tN(t,s){if(t==="input"||t==="change")return Vo(s)}function sN(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ss=typeof Object.is=="function"?Object.is:sN;function jl(t,s){if(Ss(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),i=Object.keys(s);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var u=l[i];if(!Re.call(s,u)||!Ss(t[u],s[u]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Th(t,s){var l=Rh(t);t=0;for(var i;l;){if(l.nodeType===3){if(i=t+l.textContent.length,t<=s&&i>=s)return{node:l,offset:s-t};t=i}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rh(l)}}function Ah(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ah(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Dh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=zo(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=zo(t.document)}return s}function yd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var nN=jn&&"documentMode"in document&&11>=document.documentMode,ua=null,bd=null,wl=null,vd=!1;function Mh(t,s,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vd||ua==null||ua!==zo(i)||(i=ua,"selectionStart"in i&&yd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wl&&jl(wl,i)||(wl=i,i=Ti(bd,"onSelect"),0<i.length&&(s=new qo("onSelect","select",null,s,l),t.push({event:s,listeners:i}),s.target=ua)))}function Nr(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var ma={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},jd={},Oh={};jn&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Sr(t){if(jd[t])return jd[t];if(!ma[t])return t;var s=ma[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in Oh)return jd[t]=s[l];return t}var Ph=Sr("animationend"),Lh=Sr("animationiteration"),Uh=Sr("animationstart"),rN=Sr("transitionrun"),aN=Sr("transitionstart"),lN=Sr("transitioncancel"),zh=Sr("transitionend"),Bh=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Vs(t,s){Bh.set(t,s),jr(s,[t])}var $h=new WeakMap;function zs(t,s){if(typeof t=="object"&&t!==null){var l=$h.get(t);return l!==void 0?l:(s={value:t,source:s,stack:sh(s)},$h.set(t,s),s)}return{value:t,source:s,stack:sh(s)}}var Bs=[],fa=0,Nd=0;function Yo(){for(var t=fa,s=Nd=fa=0;s<t;){var l=Bs[s];Bs[s++]=null;var i=Bs[s];Bs[s++]=null;var u=Bs[s];Bs[s++]=null;var h=Bs[s];if(Bs[s++]=null,i!==null&&u!==null){var j=i.pending;j===null?u.next=u:(u.next=j.next,j.next=u),i.pending=u}h!==0&&Fh(l,u,h)}}function Go(t,s,l,i){Bs[fa++]=t,Bs[fa++]=s,Bs[fa++]=l,Bs[fa++]=i,Nd|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Sd(t,s,l,i){return Go(t,s,l,i),Wo(t)}function ha(t,s){return Go(t,null,null,s),Wo(t)}function Fh(t,s,l){t.lanes|=l;var i=t.alternate;i!==null&&(i.lanes|=l);for(var u=!1,h=t.return;h!==null;)h.childLanes|=l,i=h.alternate,i!==null&&(i.childLanes|=l),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(u=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,u&&s!==null&&(u=31-Se(l),t=h.hiddenUpdates,i=t[u],i===null?t[u]=[s]:i.push(s),s.lane=l|536870912),h):null}function Wo(t){if(50<Gl)throw Gl=0,Tu=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var pa={};function oN(t,s,l,i){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(t,s,l,i){return new oN(t,s,l,i)}function _d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wn(t,s){var l=t.alternate;return l===null?(l=_s(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Hh(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Xo(t,s,l,i,u,h){var j=0;if(i=t,typeof t=="function")_d(t)&&(j=1);else if(typeof t=="string")j=c1(t,l,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=_s(31,l,s,u),t.elementType=T,t.lanes=h,t;case N:return _r(l.children,u,h,s);case v:j=8,u|=24;break;case _:return t=_s(12,l,s,u|2),t.elementType=_,t.lanes=h,t;case M:return t=_s(13,l,s,u),t.elementType=M,t.lanes=h,t;case z:return t=_s(19,l,s,u),t.elementType=z,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case D:j=10;break e;case E:j=9;break e;case L:j=11;break e;case $:j=14;break e;case O:j=16,i=null;break e}j=29,l=Error(o(130,t===null?"null":typeof t,"")),i=null}return s=_s(j,l,s,u),s.elementType=t,s.type=i,s.lanes=h,s}function _r(t,s,l,i){return t=_s(7,t,i,s),t.lanes=l,t}function Ed(t,s,l){return t=_s(6,t,null,s),t.lanes=l,t}function Cd(t,s,l){return s=_s(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var xa=[],ga=0,Ko=null,Zo=0,$s=[],Fs=0,Er=null,Nn=1,Sn="";function Cr(t,s){xa[ga++]=Zo,xa[ga++]=Ko,Ko=t,Zo=s}function qh(t,s,l){$s[Fs++]=Nn,$s[Fs++]=Sn,$s[Fs++]=Er,Er=t;var i=Nn;t=Sn;var u=32-Se(i)-1;i&=~(1<<u),l+=1;var h=32-Se(s)+u;if(30<h){var j=u-u%5;h=(i&(1<<j)-1).toString(32),i>>=j,u-=j,Nn=1<<32-Se(s)+u|l<<u|i,Sn=h+t}else Nn=1<<h|l<<u|i,Sn=t}function kd(t){t.return!==null&&(Cr(t,1),qh(t,1,0))}function Rd(t){for(;t===Ko;)Ko=xa[--ga],xa[ga]=null,Zo=xa[--ga],xa[ga]=null;for(;t===Er;)Er=$s[--Fs],$s[Fs]=null,Sn=$s[--Fs],$s[Fs]=null,Nn=$s[--Fs],$s[Fs]=null}var is=null,bt=null,Xe=!1,kr=null,nn=!1,Td=Error(o(519));function Rr(t){var s=Error(o(418,""));throw _l(zs(s,t)),Td}function Ih(t){var s=t.stateNode,l=t.type,i=t.memoizedProps;switch(s[ts]=t,s[ms]=i,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Fe(Xl[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),ah(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Uo(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),oh(s,i.value,i.defaultValue,i.children),Uo(s)}l=i.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||i.suppressHydrationWarning===!0||og(s.textContent,l)?(i.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),i.onScroll!=null&&Fe("scroll",s),i.onScrollEnd!=null&&Fe("scrollend",s),i.onClick!=null&&(s.onclick=Ai),s=!0):s=!1,s||Rr(t)}function Vh(t){for(is=t.return;is;)switch(is.tag){case 5:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:is=is.return}}function Nl(t){if(t!==is)return!1;if(!Xe)return Vh(t),Xe=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Yu(t.type,t.memoizedProps)),l=!l),l&&bt&&Rr(t),Vh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(s===0){bt=Gs(t.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;t=t.nextSibling}bt=null}}else s===27?(s=bt,ar(t.type)?(t=Ku,Ku=null,bt=t):bt=s):bt=is?Gs(t.stateNode.nextSibling):null;return!0}function Sl(){bt=is=null,Xe=!1}function Yh(){var t=kr;return t!==null&&(xs===null?xs=t:xs.push.apply(xs,t),kr=null),t}function _l(t){kr===null?kr=[t]:kr.push(t)}var Ad=H(null),Tr=null,_n=null;function In(t,s,l){X(Ad,s._currentValue),s._currentValue=l}function En(t){t._currentValue=Ad.current,V(Ad)}function Dd(t,s,l){for(;t!==null;){var i=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),t===l)break;t=t.return}}function Md(t,s,l,i){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){var j=u.child;h=h.firstContext;e:for(;h!==null;){var R=h;h=u;for(var B=0;B<s.length;B++)if(R.context===s[B]){h.lanes|=l,R=h.alternate,R!==null&&(R.lanes|=l),Dd(h.return,l,t),i||(j=null);break e}h=R.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(o(341));j.lanes|=l,h=j.alternate,h!==null&&(h.lanes|=l),Dd(j,l,t),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===t){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function El(t,s,l,i){t=null;for(var u=s,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(o(387));if(j=j.memoizedProps,j!==null){var R=u.type;Ss(u.pendingProps.value,j.value)||(t!==null?t.push(R):t=[R])}}else if(u===ce.current){if(j=u.alternate,j===null)throw Error(o(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(to):t=[to])}u=u.return}t!==null&&Md(s,t,l,i),s.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!Ss(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){Tr=t,_n=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ss(t){return Gh(Tr,t)}function Jo(t,s){return Tr===null&&Ar(t),Gh(t,s)}function Gh(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},_n===null){if(t===null)throw Error(o(308));_n=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else _n=_n.next=s;return l}var iN=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,i){t.push(i)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},cN=n.unstable_scheduleCallback,dN=n.unstable_NormalPriority,Lt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new iN,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&cN(dN,function(){t.controller.abort()})}var kl=null,Pd=0,ya=0,ba=null;function uN(t,s){if(kl===null){var l=kl=[];Pd=0,ya=Uu(),ba={status:"pending",value:void 0,then:function(i){l.push(i)}}}return Pd++,s.then(Wh,Wh),s}function Wh(){if(--Pd===0&&kl!==null){ba!==null&&(ba.status="fulfilled");var t=kl;kl=null,ya=0,ba=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function mN(t,s){var l=[],i={status:"pending",value:null,reason:null,then:function(u){l.push(u)}};return t.then(function(){i.status="fulfilled",i.value=s;for(var u=0;u<l.length;u++)(0,l[u])(s)},function(u){for(i.status="rejected",i.reason=u,u=0;u<l.length;u++)(0,l[u])(void 0)}),i}var Xh=U.S;U.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&uN(t,s),Xh!==null&&Xh(t,s)};var Dr=H(null);function Ld(){var t=Dr.current;return t!==null?t:it.pooledCache}function ei(t,s){s===null?X(Dr,Dr.current):X(Dr,s.pool)}function Kh(){var t=Ld();return t===null?null:{parent:Lt._currentValue,pool:t}}var Rl=Error(o(460)),Zh=Error(o(474)),ti=Error(o(542)),Ud={then:function(){}};function Qh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function si(){}function Jh(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(si,si),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,tp(t),t;default:if(typeof s.status=="string")s.then(si,si);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(i){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=i}},function(i){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,tp(t),t}throw Tl=s,Rl}}var Tl=null;function ep(){if(Tl===null)throw Error(o(459));var t=Tl;return Tl=null,t}function tp(t){if(t===Rl||t===ti)throw Error(o(483))}var Vn=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(t,s,l){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Je&2)!==0){var u=i.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s,s=Wo(t),Fh(t,null,l),s}return Go(t,i,s,l),Wo(t)}function Al(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var i=s.lanes;i&=t.pendingLanes,l|=i,s.lanes=l,Oe(t,l)}}function $d(t,s){var l=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var u=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?u=h=j:h=h.next=j,l=l.next}while(l!==null);h===null?u=h=s:h=h.next=s}else u=h=s;l={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var Fd=!1;function Dl(){if(Fd){var t=ba;if(t!==null)throw t}}function Ml(t,s,l,i){Fd=!1;var u=t.updateQueue;Vn=!1;var h=u.firstBaseUpdate,j=u.lastBaseUpdate,R=u.shared.pending;if(R!==null){u.shared.pending=null;var B=R,Q=B.next;B.next=null,j===null?h=Q:j.next=Q,j=B;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,R=ue.lastBaseUpdate,R!==j&&(R===null?ue.firstBaseUpdate=Q:R.next=Q,ue.lastBaseUpdate=B))}if(h!==null){var fe=u.baseState;j=0,ue=Q=B=null,R=h;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(Ie&ee)===ee:(i&ee)===ee){ee!==0&&ee===ya&&(Fd=!0),ue!==null&&(ue=ue.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var De=t,Ce=R;ee=s;var nt=l;switch(Ce.tag){case 1:if(De=Ce.payload,typeof De=="function"){fe=De.call(nt,fe,ee);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ce.payload,ee=typeof De=="function"?De.call(nt,fe,ee):De,ee==null)break e;fe=y({},fe,ee);break e;case 2:Vn=!0}}ee=R.callback,ee!==null&&(t.flags|=64,te&&(t.flags|=8192),te=u.callbacks,te===null?u.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ue===null?(Q=ue=te,B=fe):ue=ue.next=te,j|=ee;if(R=R.next,R===null){if(R=u.shared.pending,R===null)break;te=R,R=te.next,te.next=null,u.lastBaseUpdate=te,u.shared.pending=null}}while(!0);ue===null&&(B=fe),u.baseState=B,u.firstBaseUpdate=Q,u.lastBaseUpdate=ue,h===null&&(u.shared.lanes=0),tr|=j,t.lanes=j,t.memoizedState=fe}}function sp(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function np(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)sp(l[t],s)}var va=H(null),ni=H(0);function rp(t,s){t=Mn,X(ni,t),X(va,s),Mn=t|s.baseLanes}function Hd(){X(ni,Mn),X(va,va.current)}function qd(){Mn=ni.current,V(va),V(ni)}var Wn=0,Ue=null,tt=null,Dt=null,ri=!1,ja=!1,Mr=!1,ai=0,Ol=0,wa=null,fN=0;function Ct(){throw Error(o(321))}function Id(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Ss(t[l],s[l]))return!1;return!0}function Vd(t,s,l,i,u,h){return Wn=h,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=t===null||t.memoizedState===null?Fp:Hp,Mr=!1,h=l(i,u),Mr=!1,ja&&(h=lp(s,l,i,u)),ap(t),h}function ap(t){U.H=ui;var s=tt!==null&&tt.next!==null;if(Wn=0,Dt=tt=Ue=null,ri=!1,Ol=0,wa=null,s)throw Error(o(300));t===null||Ht||(t=t.dependencies,t!==null&&Qo(t)&&(Ht=!0))}function lp(t,s,l,i){Ue=t;var u=0;do{if(ja&&(wa=null),Ol=0,ja=!1,25<=u)throw Error(o(301));if(u+=1,Dt=tt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=vN,h=s(l,i)}while(ja);return h}function hN(){var t=U.H,s=t.useState()[0];return s=typeof s.then=="function"?Pl(s):s,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ue.flags|=1024),s}function Yd(){var t=ai!==0;return ai=0,t}function Gd(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function Wd(t){if(ri){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ri=!1}Wn=0,Dt=tt=Ue=null,ja=!1,Ol=ai=0,wa=null}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ue.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Mt(){if(tt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var s=Dt===null?Ue.memoizedState:Dt.next;if(s!==null)Dt=s,tt=t;else{if(t===null)throw Ue.alternate===null?Error(o(467)):Error(o(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?Ue.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(t){var s=Ol;return Ol+=1,wa===null&&(wa=[]),t=Jh(wa,t,s),s=Ue,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Fp:Hp),t}function li(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pl(t);if(t.$$typeof===D)return ss(t)}throw Error(o(438,String(t)))}function Kd(t){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var i=Ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Xd(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),i=0;i<t;i++)l[i]=P;return s.index++,l}function Cn(t,s){return typeof s=="function"?s(t):s}function oi(t){var s=Mt();return Zd(s,tt,t)}function Zd(t,s,l){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=l;var u=t.baseQueue,h=i.pending;if(h!==null){if(u!==null){var j=u.next;u.next=h.next,h.next=j}s.baseQueue=u=h,i.pending=null}if(h=t.baseState,u===null)t.memoizedState=h;else{s=u.next;var R=j=null,B=null,Q=s,ue=!1;do{var fe=Q.lane&-536870913;if(fe!==Q.lane?(Ie&fe)===fe:(Wn&fe)===fe){var ee=Q.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),fe===ya&&(ue=!0);else if((Wn&ee)===ee){Q=Q.next,ee===ya&&(ue=!0);continue}else fe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=fe,j=h):B=B.next=fe,Ue.lanes|=ee,tr|=ee;fe=Q.action,Mr&&l(h,fe),h=Q.hasEagerState?Q.eagerState:l(h,fe)}else ee={lane:fe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=ee,j=h):B=B.next=ee,Ue.lanes|=fe,tr|=fe;Q=Q.next}while(Q!==null&&Q!==s);if(B===null?j=h:B.next=R,!Ss(h,t.memoizedState)&&(Ht=!0,ue&&(l=ba,l!==null)))throw l;t.memoizedState=h,t.baseState=j,t.baseQueue=B,i.lastRenderedState=h}return u===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Qd(t){var s=Mt(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var i=l.dispatch,u=l.pending,h=s.memoizedState;if(u!==null){l.pending=null;var j=u=u.next;do h=t(h,j.action),j=j.next;while(j!==u);Ss(h,s.memoizedState)||(Ht=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),l.lastRenderedState=h}return[h,i]}function op(t,s,l){var i=Ue,u=Mt(),h=Xe;if(h){if(l===void 0)throw Error(o(407));l=l()}else l=s();var j=!Ss((tt||u).memoizedState,l);j&&(u.memoizedState=l,Ht=!0),u=u.queue;var R=dp.bind(null,i,u,t);if(Ll(2048,8,R,[t]),u.getSnapshot!==s||j||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,Na(9,ii(),cp.bind(null,i,u,l,s),null),it===null)throw Error(o(349));h||(Wn&124)!==0||ip(i,s,l)}return l}function ip(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=Xd(),Ue.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function cp(t,s,l,i){s.value=l,s.getSnapshot=i,up(s)&&mp(t)}function dp(t,s,l){return l(function(){up(s)&&mp(t)})}function up(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Ss(t,l)}catch{return!0}}function mp(t){var s=ha(t,2);s!==null&&Ts(s,t,2)}function Jd(t){var s=hs();if(typeof t=="function"){var l=t;if(t=l(),Mr){ne(!0);try{l()}finally{ne(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:t},s}function fp(t,s,l,i){return t.baseState=l,Zd(t,tt,typeof i=="function"?i:Cn)}function pN(t,s,l,i,u){if(di(t))throw Error(o(485));if(t=s.action,t!==null){var h={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){h.listeners.push(j)}};U.T!==null?l(!0):h.isTransition=!1,i(h),l=s.pending,l===null?(h.next=s.pending=h,hp(s,h)):(h.next=l.next,s.pending=l.next=h)}}function hp(t,s){var l=s.action,i=s.payload,u=t.state;if(s.isTransition){var h=U.T,j={};U.T=j;try{var R=l(u,i),B=U.S;B!==null&&B(j,R),pp(t,s,R)}catch(Q){eu(t,s,Q)}finally{U.T=h}}else try{h=l(u,i),pp(t,s,h)}catch(Q){eu(t,s,Q)}}function pp(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(i){xp(t,s,i)},function(i){return eu(t,s,i)}):xp(t,s,l)}function xp(t,s,l){s.status="fulfilled",s.value=l,gp(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,hp(t,l)))}function eu(t,s,l){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=l,gp(s),s=s.next;while(s!==i)}t.action=null}function gp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function yp(t,s){return s}function bp(t,s){if(Xe){var l=it.formState;if(l!==null){e:{var i=Ue;if(Xe){if(bt){t:{for(var u=bt,h=nn;u.nodeType!==8;){if(!h){u=null;break t}if(u=Gs(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){bt=Gs(u.nextSibling),i=u.data==="F!";break e}}Rr(i)}i=!1}i&&(s=l[0])}}return l=hs(),l.memoizedState=l.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:s},l.queue=i,l=zp.bind(null,Ue,i),i.dispatch=l,i=Jd(!1),h=au.bind(null,Ue,!1,i.queue),i=hs(),u={state:s,dispatch:null,action:t,pending:null},i.queue=u,l=pN.bind(null,Ue,u,h,l),u.dispatch=l,i.memoizedState=t,[s,l,!1]}function vp(t){var s=Mt();return jp(s,tt,t)}function jp(t,s,l){if(s=Zd(t,s,yp)[0],t=oi(Cn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=Pl(s)}catch(j){throw j===Rl?ti:j}else i=s;s=Mt();var u=s.queue,h=u.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,Na(9,ii(),xN.bind(null,u,l),null)),[i,h,t]}function xN(t,s){t.action=s}function wp(t){var s=Mt(),l=tt;if(l!==null)return jp(s,l,t);Mt(),s=s.memoizedState,l=Mt();var i=l.queue.dispatch;return l.memoizedState=t,[s,i,!1]}function Na(t,s,l,i){return t={tag:t,create:l,deps:i,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Xd(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(i=l.next,l.next=t,t.next=i,s.lastEffect=t),t}function ii(){return{destroy:void 0,resource:void 0}}function Np(){return Mt().memoizedState}function ci(t,s,l,i){var u=hs();i=i===void 0?null:i,Ue.flags|=t,u.memoizedState=Na(1|s,ii(),l,i)}function Ll(t,s,l,i){var u=Mt();i=i===void 0?null:i;var h=u.memoizedState.inst;tt!==null&&i!==null&&Id(i,tt.memoizedState.deps)?u.memoizedState=Na(s,h,l,i):(Ue.flags|=t,u.memoizedState=Na(1|s,h,l,i))}function Sp(t,s){ci(8390656,8,t,s)}function _p(t,s){Ll(2048,8,t,s)}function Ep(t,s){return Ll(4,2,t,s)}function Cp(t,s){return Ll(4,4,t,s)}function kp(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Rp(t,s,l){l=l!=null?l.concat([t]):null,Ll(4,4,kp.bind(null,s,t),l)}function tu(){}function Tp(t,s){var l=Mt();s=s===void 0?null:s;var i=l.memoizedState;return s!==null&&Id(s,i[1])?i[0]:(l.memoizedState=[t,s],t)}function Ap(t,s){var l=Mt();s=s===void 0?null:s;var i=l.memoizedState;if(s!==null&&Id(s,i[1]))return i[0];if(i=t(),Mr){ne(!0);try{t()}finally{ne(!1)}}return l.memoizedState=[i,s],i}function su(t,s,l){return l===void 0||(Wn&1073741824)!==0?t.memoizedState=s:(t.memoizedState=l,t=Ox(),Ue.lanes|=t,tr|=t,l)}function Dp(t,s,l,i){return Ss(l,s)?l:va.current!==null?(t=su(t,l,i),Ss(t,s)||(Ht=!0),t):(Wn&42)===0?(Ht=!0,t.memoizedState=l):(t=Ox(),Ue.lanes|=t,tr|=t,s)}function Mp(t,s,l,i,u){var h=G.p;G.p=h!==0&&8>h?h:8;var j=U.T,R={};U.T=R,au(t,!1,s,l);try{var B=u(),Q=U.S;if(Q!==null&&Q(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=mN(B,i);Ul(t,s,ue,Rs(t))}else Ul(t,s,i,Rs(t))}catch(fe){Ul(t,s,{then:function(){},status:"rejected",reason:fe},Rs())}finally{G.p=h,U.T=j}}function gN(){}function nu(t,s,l,i){if(t.tag!==5)throw Error(o(476));var u=Op(t).queue;Mp(t,u,s,Y,l===null?gN:function(){return Pp(t),l(i)})}function Op(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:Y},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Pp(t){var s=Op(t).next.queue;Ul(t,s,{},Rs())}function ru(){return ss(to)}function Lp(){return Mt().memoizedState}function Up(){return Mt().memoizedState}function yN(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=Rs();t=Yn(l);var i=Gn(s,t,l);i!==null&&(Ts(i,s,l),Al(i,s,l)),s={cache:Od()},t.payload=s;return}s=s.return}}function bN(t,s,l){var i=Rs();l={lane:i,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},di(t)?Bp(s,l):(l=Sd(t,s,l,i),l!==null&&(Ts(l,t,i),$p(l,s,i)))}function zp(t,s,l){var i=Rs();Ul(t,s,l,i)}function Ul(t,s,l,i){var u={lane:i,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(di(t))Bp(s,u);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var j=s.lastRenderedState,R=h(j,l);if(u.hasEagerState=!0,u.eagerState=R,Ss(R,j))return Go(t,s,u,0),it===null&&Yo(),!1}catch{}finally{}if(l=Sd(t,s,u,i),l!==null)return Ts(l,t,i),$p(l,s,i),!0}return!1}function au(t,s,l,i){if(i={lane:2,revertLane:Uu(),action:i,hasEagerState:!1,eagerState:null,next:null},di(t)){if(s)throw Error(o(479))}else s=Sd(t,l,i,2),s!==null&&Ts(s,t,2)}function di(t){var s=t.alternate;return t===Ue||s!==null&&s===Ue}function Bp(t,s){ja=ri=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function $p(t,s,l){if((l&4194048)!==0){var i=s.lanes;i&=t.pendingLanes,l|=i,s.lanes=l,Oe(t,l)}}var ui={readContext:ss,use:li,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Fp={readContext:ss,use:li,useCallback:function(t,s){return hs().memoizedState=[t,s===void 0?null:s],t},useContext:ss,useEffect:Sp,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,ci(4194308,4,kp.bind(null,s,t),l)},useLayoutEffect:function(t,s){return ci(4194308,4,t,s)},useInsertionEffect:function(t,s){ci(4,2,t,s)},useMemo:function(t,s){var l=hs();s=s===void 0?null:s;var i=t();if(Mr){ne(!0);try{t()}finally{ne(!1)}}return l.memoizedState=[i,s],i},useReducer:function(t,s,l){var i=hs();if(l!==void 0){var u=l(s);if(Mr){ne(!0);try{l(s)}finally{ne(!1)}}}else u=s;return i.memoizedState=i.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},i.queue=t,t=t.dispatch=bN.bind(null,Ue,t),[i.memoizedState,t]},useRef:function(t){var s=hs();return t={current:t},s.memoizedState=t},useState:function(t){t=Jd(t);var s=t.queue,l=zp.bind(null,Ue,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:tu,useDeferredValue:function(t,s){var l=hs();return su(l,t,s)},useTransition:function(){var t=Jd(!1);return t=Mp.bind(null,Ue,t.queue,!0,!1),hs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var i=Ue,u=hs();if(Xe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),it===null)throw Error(o(349));(Ie&124)!==0||ip(i,s,l)}u.memoizedState=l;var h={value:l,getSnapshot:s};return u.queue=h,Sp(dp.bind(null,i,h,t),[t]),i.flags|=2048,Na(9,ii(),cp.bind(null,i,h,l,s),null),l},useId:function(){var t=hs(),s=it.identifierPrefix;if(Xe){var l=Sn,i=Nn;l=(i&~(1<<32-Se(i)-1)).toString(32)+l,s=""+s+"R"+l,l=ai++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=fN++,s=""+s+"r"+l.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:ru,useFormState:bp,useActionState:bp,useOptimistic:function(t){var s=hs();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=au.bind(null,Ue,!0,l),l.dispatch=s,[t,s]},useMemoCache:Kd,useCacheRefresh:function(){return hs().memoizedState=yN.bind(null,Ue)}},Hp={readContext:ss,use:li,useCallback:Tp,useContext:ss,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Ap,useReducer:oi,useRef:Np,useState:function(){return oi(Cn)},useDebugValue:tu,useDeferredValue:function(t,s){var l=Mt();return Dp(l,tt.memoizedState,t,s)},useTransition:function(){var t=oi(Cn)[0],s=Mt().memoizedState;return[typeof t=="boolean"?t:Pl(t),s]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:ru,useFormState:vp,useActionState:vp,useOptimistic:function(t,s){var l=Mt();return fp(l,tt,t,s)},useMemoCache:Kd,useCacheRefresh:Up},vN={readContext:ss,use:li,useCallback:Tp,useContext:ss,useEffect:_p,useImperativeHandle:Rp,useInsertionEffect:Ep,useLayoutEffect:Cp,useMemo:Ap,useReducer:Qd,useRef:Np,useState:function(){return Qd(Cn)},useDebugValue:tu,useDeferredValue:function(t,s){var l=Mt();return tt===null?su(l,t,s):Dp(l,tt.memoizedState,t,s)},useTransition:function(){var t=Qd(Cn)[0],s=Mt().memoizedState;return[typeof t=="boolean"?t:Pl(t),s]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:ru,useFormState:wp,useActionState:wp,useOptimistic:function(t,s){var l=Mt();return tt!==null?fp(l,tt,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:Up},Sa=null,zl=0;function mi(t){var s=zl;return zl+=1,Sa===null&&(Sa=[]),Jh(Sa,t,s)}function Bl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function fi(t,s){throw s.$$typeof===b?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function qp(t){var s=t._init;return s(t._payload)}function Ip(t){function s(W,I){if(t){var K=W.deletions;K===null?(W.deletions=[I],W.flags|=16):K.push(I)}}function l(W,I){if(!t)return null;for(;I!==null;)s(W,I),I=I.sibling;return null}function i(W){for(var I=new Map;W!==null;)W.key!==null?I.set(W.key,W):I.set(W.index,W),W=W.sibling;return I}function u(W,I){return W=wn(W,I),W.index=0,W.sibling=null,W}function h(W,I,K){return W.index=K,t?(K=W.alternate,K!==null?(K=K.index,K<I?(W.flags|=67108866,I):K):(W.flags|=67108866,I)):(W.flags|=1048576,I)}function j(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function R(W,I,K,me){return I===null||I.tag!==6?(I=Ed(K,W.mode,me),I.return=W,I):(I=u(I,K),I.return=W,I)}function B(W,I,K,me){var je=K.type;return je===N?ue(W,I,K.props.children,me,K.key):I!==null&&(I.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&qp(je)===I.type)?(I=u(I,K.props),Bl(I,K),I.return=W,I):(I=Xo(K.type,K.key,K.props,null,W.mode,me),Bl(I,K),I.return=W,I)}function Q(W,I,K,me){return I===null||I.tag!==4||I.stateNode.containerInfo!==K.containerInfo||I.stateNode.implementation!==K.implementation?(I=Cd(K,W.mode,me),I.return=W,I):(I=u(I,K.children||[]),I.return=W,I)}function ue(W,I,K,me,je){return I===null||I.tag!==7?(I=_r(K,W.mode,me,je),I.return=W,I):(I=u(I,K),I.return=W,I)}function fe(W,I,K){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ed(""+I,W.mode,K),I.return=W,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return K=Xo(I.type,I.key,I.props,null,W.mode,K),Bl(K,I),K.return=W,K;case S:return I=Cd(I,W.mode,K),I.return=W,I;case O:var me=I._init;return I=me(I._payload),fe(W,I,K)}if(ae(I)||J(I))return I=_r(I,W.mode,K,null),I.return=W,I;if(typeof I.then=="function")return fe(W,mi(I),K);if(I.$$typeof===D)return fe(W,Jo(W,I),K);fi(W,I)}return null}function ee(W,I,K,me){var je=I!==null?I.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return je!==null?null:R(W,I,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===je?B(W,I,K,me):null;case S:return K.key===je?Q(W,I,K,me):null;case O:return je=K._init,K=je(K._payload),ee(W,I,K,me)}if(ae(K)||J(K))return je!==null?null:ue(W,I,K,me,null);if(typeof K.then=="function")return ee(W,I,mi(K),me);if(K.$$typeof===D)return ee(W,I,Jo(W,K),me);fi(W,K)}return null}function te(W,I,K,me,je){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return W=W.get(K)||null,R(I,W,""+me,je);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return W=W.get(me.key===null?K:me.key)||null,B(I,W,me,je);case S:return W=W.get(me.key===null?K:me.key)||null,Q(I,W,me,je);case O:var Be=me._init;return me=Be(me._payload),te(W,I,K,me,je)}if(ae(me)||J(me))return W=W.get(K)||null,ue(I,W,me,je,null);if(typeof me.then=="function")return te(W,I,K,mi(me),je);if(me.$$typeof===D)return te(W,I,K,Jo(I,me),je);fi(I,me)}return null}function De(W,I,K,me){for(var je=null,Be=null,Ee=I,Te=I=0,It=null;Ee!==null&&Te<K.length;Te++){Ee.index>Te?(It=Ee,Ee=null):It=Ee.sibling;var Ye=ee(W,Ee,K[Te],me);if(Ye===null){Ee===null&&(Ee=It);break}t&&Ee&&Ye.alternate===null&&s(W,Ee),I=h(Ye,I,Te),Be===null?je=Ye:Be.sibling=Ye,Be=Ye,Ee=It}if(Te===K.length)return l(W,Ee),Xe&&Cr(W,Te),je;if(Ee===null){for(;Te<K.length;Te++)Ee=fe(W,K[Te],me),Ee!==null&&(I=h(Ee,I,Te),Be===null?je=Ee:Be.sibling=Ee,Be=Ee);return Xe&&Cr(W,Te),je}for(Ee=i(Ee);Te<K.length;Te++)It=te(Ee,W,Te,K[Te],me),It!==null&&(t&&It.alternate!==null&&Ee.delete(It.key===null?Te:It.key),I=h(It,I,Te),Be===null?je=It:Be.sibling=It,Be=It);return t&&Ee.forEach(function(dr){return s(W,dr)}),Xe&&Cr(W,Te),je}function Ce(W,I,K,me){if(K==null)throw Error(o(151));for(var je=null,Be=null,Ee=I,Te=I=0,It=null,Ye=K.next();Ee!==null&&!Ye.done;Te++,Ye=K.next()){Ee.index>Te?(It=Ee,Ee=null):It=Ee.sibling;var dr=ee(W,Ee,Ye.value,me);if(dr===null){Ee===null&&(Ee=It);break}t&&Ee&&dr.alternate===null&&s(W,Ee),I=h(dr,I,Te),Be===null?je=dr:Be.sibling=dr,Be=dr,Ee=It}if(Ye.done)return l(W,Ee),Xe&&Cr(W,Te),je;if(Ee===null){for(;!Ye.done;Te++,Ye=K.next())Ye=fe(W,Ye.value,me),Ye!==null&&(I=h(Ye,I,Te),Be===null?je=Ye:Be.sibling=Ye,Be=Ye);return Xe&&Cr(W,Te),je}for(Ee=i(Ee);!Ye.done;Te++,Ye=K.next())Ye=te(Ee,W,Te,Ye.value,me),Ye!==null&&(t&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Te:Ye.key),I=h(Ye,I,Te),Be===null?je=Ye:Be.sibling=Ye,Be=Ye);return t&&Ee.forEach(function(j1){return s(W,j1)}),Xe&&Cr(W,Te),je}function nt(W,I,K,me){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var je=K.key;I!==null;){if(I.key===je){if(je=K.type,je===N){if(I.tag===7){l(W,I.sibling),me=u(I,K.props.children),me.return=W,W=me;break e}}else if(I.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&qp(je)===I.type){l(W,I.sibling),me=u(I,K.props),Bl(me,K),me.return=W,W=me;break e}l(W,I);break}else s(W,I);I=I.sibling}K.type===N?(me=_r(K.props.children,W.mode,me,K.key),me.return=W,W=me):(me=Xo(K.type,K.key,K.props,null,W.mode,me),Bl(me,K),me.return=W,W=me)}return j(W);case S:e:{for(je=K.key;I!==null;){if(I.key===je)if(I.tag===4&&I.stateNode.containerInfo===K.containerInfo&&I.stateNode.implementation===K.implementation){l(W,I.sibling),me=u(I,K.children||[]),me.return=W,W=me;break e}else{l(W,I);break}else s(W,I);I=I.sibling}me=Cd(K,W.mode,me),me.return=W,W=me}return j(W);case O:return je=K._init,K=je(K._payload),nt(W,I,K,me)}if(ae(K))return De(W,I,K,me);if(J(K)){if(je=J(K),typeof je!="function")throw Error(o(150));return K=je.call(K),Ce(W,I,K,me)}if(typeof K.then=="function")return nt(W,I,mi(K),me);if(K.$$typeof===D)return nt(W,I,Jo(W,K),me);fi(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,I!==null&&I.tag===6?(l(W,I.sibling),me=u(I,K),me.return=W,W=me):(l(W,I),me=Ed(K,W.mode,me),me.return=W,W=me),j(W)):l(W,I)}return function(W,I,K,me){try{zl=0;var je=nt(W,I,K,me);return Sa=null,je}catch(Ee){if(Ee===Rl||Ee===ti)throw Ee;var Be=_s(29,Ee,null,W.mode);return Be.lanes=me,Be.return=W,Be}finally{}}}var _a=Ip(!0),Vp=Ip(!1),Hs=H(null),rn=null;function Xn(t){var s=t.alternate;X(Ut,Ut.current&1),X(Hs,t),rn===null&&(s===null||va.current!==null||s.memoizedState!==null)&&(rn=t)}function Yp(t){if(t.tag===22){if(X(Ut,Ut.current),X(Hs,t),rn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(rn=t)}}else Kn()}function Kn(){X(Ut,Ut.current),X(Hs,Hs.current)}function kn(t){V(Hs),rn===t&&(rn=null),V(Ut)}var Ut=H(0);function hi(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Xu(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function lu(t,s,l,i){s=t.memoizedState,l=l(i,s),l=l==null?s:y({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ou={enqueueSetState:function(t,s,l){t=t._reactInternals;var i=Rs(),u=Yn(i);u.payload=s,l!=null&&(u.callback=l),s=Gn(t,u,i),s!==null&&(Ts(s,t,i),Al(s,t,i))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var i=Rs(),u=Yn(i);u.tag=1,u.payload=s,l!=null&&(u.callback=l),s=Gn(t,u,i),s!==null&&(Ts(s,t,i),Al(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=Rs(),i=Yn(l);i.tag=2,s!=null&&(i.callback=s),s=Gn(t,i,l),s!==null&&(Ts(s,t,l),Al(s,t,l))}};function Gp(t,s,l,i,u,h,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,h,j):s.prototype&&s.prototype.isPureReactComponent?!jl(l,i)||!jl(u,h):!0}function Wp(t,s,l,i){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,i),s.state!==t&&ou.enqueueReplaceState(s,s.state,null)}function Or(t,s){var l=s;if("ref"in s){l={};for(var i in s)i!=="ref"&&(l[i]=s[i])}if(t=t.defaultProps){l===s&&(l=y({},l));for(var u in t)l[u]===void 0&&(l[u]=t[u])}return l}var pi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xp(t){pi(t)}function Kp(t){console.error(t)}function Zp(t){pi(t)}function xi(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function Qp(t,s,l){try{var i=t.onCaughtError;i(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function iu(t,s,l){return l=Yn(l),l.tag=3,l.payload={element:null},l.callback=function(){xi(t,s)},l}function Jp(t){return t=Yn(t),t.tag=3,t}function ex(t,s,l,i){var u=l.type.getDerivedStateFromError;if(typeof u=="function"){var h=i.value;t.payload=function(){return u(h)},t.callback=function(){Qp(s,l,i)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(t.callback=function(){Qp(s,l,i),typeof u!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})})}function jN(t,s,l,i,u){if(l.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=l.alternate,s!==null&&El(s,l,u,!0),l=Hs.current,l!==null){switch(l.tag){case 13:return rn===null?Du():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=u,i===Ud?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([i]):s.add(i),Ou(t,i,u)),!1;case 22:return l.flags|=65536,i===Ud?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([i]):l.add(i)),Ou(t,i,u)),!1}throw Error(o(435,l.tag))}return Ou(t,i,u),Du(),!1}if(Xe)return s=Hs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,i!==Td&&(t=Error(o(422),{cause:i}),_l(zs(t,l)))):(i!==Td&&(s=Error(o(423),{cause:i}),_l(zs(s,l))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,i=zs(i,l),u=iu(t.stateNode,i,u),$d(t,u),vt!==4&&(vt=2)),!1;var h=Error(o(520),{cause:i});if(h=zs(h,l),Yl===null?Yl=[h]:Yl.push(h),vt!==4&&(vt=2),s===null)return!0;i=zs(i,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=u&-u,l.lanes|=t,t=iu(l.stateNode,i,t),$d(l,t),!1;case 1:if(s=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sr===null||!sr.has(h))))return l.flags|=65536,u&=-u,l.lanes|=u,u=Jp(u),ex(u,t,l,i),$d(l,u),!1}l=l.return}while(l!==null);return!1}var tx=Error(o(461)),Ht=!1;function Xt(t,s,l,i){s.child=t===null?Vp(s,null,l,i):_a(s,t.child,l,i)}function sx(t,s,l,i,u){l=l.render;var h=s.ref;if("ref"in i){var j={};for(var R in i)R!=="ref"&&(j[R]=i[R])}else j=i;return Ar(s),i=Vd(t,s,l,j,h,u),R=Yd(),t!==null&&!Ht?(Gd(t,s,u),Rn(t,s,u)):(Xe&&R&&kd(s),s.flags|=1,Xt(t,s,i,u),s.child)}function nx(t,s,l,i,u){if(t===null){var h=l.type;return typeof h=="function"&&!_d(h)&&h.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=h,rx(t,s,h,i,u)):(t=Xo(l.type,null,i,s,s.mode,u),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!xu(t,u)){var j=h.memoizedProps;if(l=l.compare,l=l!==null?l:jl,l(j,i)&&t.ref===s.ref)return Rn(t,s,u)}return s.flags|=1,t=wn(h,i),t.ref=s.ref,t.return=s,s.child=t}function rx(t,s,l,i,u){if(t!==null){var h=t.memoizedProps;if(jl(h,i)&&t.ref===s.ref)if(Ht=!1,s.pendingProps=i=h,xu(t,u))(t.flags&131072)!==0&&(Ht=!0);else return s.lanes=t.lanes,Rn(t,s,u)}return cu(t,s,l,i,u)}function ax(t,s,l){var i=s.pendingProps,u=i.children,h=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if((s.flags&128)!==0){if(i=h!==null?h.baseLanes|l:l,t!==null){for(u=s.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;s.childLanes=h&~i}else s.childLanes=0,s.child=null;return lx(t,s,i,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ei(s,h!==null?h.cachePool:null),h!==null?rp(s,h):Hd(),Yp(s);else return s.lanes=s.childLanes=536870912,lx(t,s,h!==null?h.baseLanes|l:l,l)}else h!==null?(ei(s,h.cachePool),rp(s,h),Kn(),s.memoizedState=null):(t!==null&&ei(s,null),Hd(),Kn());return Xt(t,s,u,l),s.child}function lx(t,s,l,i){var u=Ld();return u=u===null?null:{parent:Lt._currentValue,pool:u},s.memoizedState={baseLanes:l,cachePool:u},t!==null&&ei(s,null),Hd(),Yp(s),t!==null&&El(t,s,i,!0),null}function gi(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function cu(t,s,l,i,u){return Ar(s),l=Vd(t,s,l,i,void 0,u),i=Yd(),t!==null&&!Ht?(Gd(t,s,u),Rn(t,s,u)):(Xe&&i&&kd(s),s.flags|=1,Xt(t,s,l,u),s.child)}function ox(t,s,l,i,u,h){return Ar(s),s.updateQueue=null,l=lp(s,i,l,u),ap(t),i=Yd(),t!==null&&!Ht?(Gd(t,s,h),Rn(t,s,h)):(Xe&&i&&kd(s),s.flags|=1,Xt(t,s,l,h),s.child)}function ix(t,s,l,i,u){if(Ar(s),s.stateNode===null){var h=pa,j=l.contextType;typeof j=="object"&&j!==null&&(h=ss(j)),h=new l(i,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ou,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=i,h.state=s.memoizedState,h.refs={},zd(s),j=l.contextType,h.context=typeof j=="object"&&j!==null?ss(j):pa,h.state=s.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(lu(s,l,j,i),h.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(j=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),j!==h.state&&ou.enqueueReplaceState(h,h.state,null),Ml(s,i,h,u),Dl(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(t===null){h=s.stateNode;var R=s.memoizedProps,B=Or(l,R);h.props=B;var Q=h.context,ue=l.contextType;j=pa,typeof ue=="object"&&ue!==null&&(j=ss(ue));var fe=l.getDerivedStateFromProps;ue=typeof fe=="function"||typeof h.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ue||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(R||Q!==j)&&Wp(s,h,i,j),Vn=!1;var ee=s.memoizedState;h.state=ee,Ml(s,i,h,u),Dl(),Q=s.memoizedState,R||ee!==Q||Vn?(typeof fe=="function"&&(lu(s,l,fe,i),Q=s.memoizedState),(B=Vn||Gp(s,l,B,i,ee,Q,j))?(ue||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=Q),h.props=i,h.state=Q,h.context=j,i=B):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{h=s.stateNode,Bd(t,s),j=s.memoizedProps,ue=Or(l,j),h.props=ue,fe=s.pendingProps,ee=h.context,Q=l.contextType,B=pa,typeof Q=="object"&&Q!==null&&(B=ss(Q)),R=l.getDerivedStateFromProps,(Q=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(j!==fe||ee!==B)&&Wp(s,h,i,B),Vn=!1,ee=s.memoizedState,h.state=ee,Ml(s,i,h,u),Dl();var te=s.memoizedState;j!==fe||ee!==te||Vn||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof R=="function"&&(lu(s,l,R,i),te=s.memoizedState),(ue=Vn||Gp(s,l,ue,i,ee,te,B)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(Q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,te,B),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,te,B)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||j===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=te),h.props=i,h.state=te,h.context=B,i=ue):(typeof h.componentDidUpdate!="function"||j===t.memoizedProps&&ee===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ee===t.memoizedState||(s.flags|=1024),i=!1)}return h=i,gi(t,s),i=(s.flags&128)!==0,h||i?(h=s.stateNode,l=i&&typeof l.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&i?(s.child=_a(s,t.child,null,u),s.child=_a(s,null,l,u)):Xt(t,s,l,u),s.memoizedState=h.state,t=s.child):t=Rn(t,s,u),t}function cx(t,s,l,i){return Sl(),s.flags|=256,Xt(t,s,l,i),s.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(t){return{baseLanes:t,cachePool:Kh()}}function mu(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=qs),t}function dx(t,s,l){var i=s.pendingProps,u=!1,h=(s.flags&128)!==0,j;if((j=h)||(j=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),j&&(u=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,t===null){if(Xe){if(u?Xn(s):Kn(),Xe){var R=bt,B;if(B=R){e:{for(B=R,R=nn;B.nodeType!==8;){if(!R){R=null;break e}if(B=Gs(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(s.memoizedState={dehydrated:R,treeContext:Er!==null?{id:Nn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},B=_s(18,null,null,0),B.stateNode=R,B.return=s,s.child=B,is=s,bt=null,B=!0):B=!1}B||Rr(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Xu(R)?s.lanes=32:s.lanes=536870912,null;kn(s)}return R=i.children,i=i.fallback,u?(Kn(),u=s.mode,R=yi({mode:"hidden",children:R},u),i=_r(i,u,l,null),R.return=s,i.return=s,R.sibling=i,s.child=R,u=s.child,u.memoizedState=uu(l),u.childLanes=mu(t,j,l),s.memoizedState=du,i):(Xn(s),fu(s,R))}if(B=t.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(h)s.flags&256?(Xn(s),s.flags&=-257,s=hu(t,s,l)):s.memoizedState!==null?(Kn(),s.child=t.child,s.flags|=128,s=null):(Kn(),u=i.fallback,R=s.mode,i=yi({mode:"visible",children:i.children},R),u=_r(u,R,l,null),u.flags|=2,i.return=s,u.return=s,i.sibling=u,s.child=i,_a(s,t.child,null,l),i=s.child,i.memoizedState=uu(l),i.childLanes=mu(t,j,l),s.memoizedState=du,s=u);else if(Xn(s),Xu(R)){if(j=R.nextSibling&&R.nextSibling.dataset,j)var Q=j.dgst;j=Q,i=Error(o(419)),i.stack="",i.digest=j,_l({value:i,source:null,stack:null}),s=hu(t,s,l)}else if(Ht||El(t,s,l,!1),j=(l&t.childLanes)!==0,Ht||j){if(j=it,j!==null&&(i=l&-l,i=(i&42)!==0?1:_e(i),i=(i&(j.suspendedLanes|l))!==0?0:i,i!==0&&i!==B.retryLane))throw B.retryLane=i,ha(t,i),Ts(j,t,i),tx;R.data==="$?"||Du(),s=hu(t,s,l)}else R.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=B.treeContext,bt=Gs(R.nextSibling),is=s,Xe=!0,kr=null,nn=!1,t!==null&&($s[Fs++]=Nn,$s[Fs++]=Sn,$s[Fs++]=Er,Nn=t.id,Sn=t.overflow,Er=s),s=fu(s,i.children),s.flags|=4096);return s}return u?(Kn(),u=i.fallback,R=s.mode,B=t.child,Q=B.sibling,i=wn(B,{mode:"hidden",children:i.children}),i.subtreeFlags=B.subtreeFlags&65011712,Q!==null?u=wn(Q,u):(u=_r(u,R,l,null),u.flags|=2),u.return=s,i.return=s,i.sibling=u,s.child=i,i=u,u=s.child,R=t.child.memoizedState,R===null?R=uu(l):(B=R.cachePool,B!==null?(Q=Lt._currentValue,B=B.parent!==Q?{parent:Q,pool:Q}:B):B=Kh(),R={baseLanes:R.baseLanes|l,cachePool:B}),u.memoizedState=R,u.childLanes=mu(t,j,l),s.memoizedState=du,i):(Xn(s),l=t.child,t=l.sibling,l=wn(l,{mode:"visible",children:i.children}),l.return=s,l.sibling=null,t!==null&&(j=s.deletions,j===null?(s.deletions=[t],s.flags|=16):j.push(t)),s.child=l,s.memoizedState=null,l)}function fu(t,s){return s=yi({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function yi(t,s){return t=_s(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hu(t,s,l){return _a(s,t.child,null,l),t=fu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function ux(t,s,l){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s),Dd(t.return,s,l)}function pu(t,s,l,i,u){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:u}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=l,h.tailMode=u)}function mx(t,s,l){var i=s.pendingProps,u=i.revealOrder,h=i.tail;if(Xt(t,s,i.children,l),i=Ut.current,(i&2)!==0)i=i&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,l,s);else if(t.tag===19)ux(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(X(Ut,i),u){case"forwards":for(l=s.child,u=null;l!==null;)t=l.alternate,t!==null&&hi(t)===null&&(u=l),l=l.sibling;l=u,l===null?(u=s.child,s.child=null):(u=l.sibling,l.sibling=null),pu(s,!1,u,l,h);break;case"backwards":for(l=null,u=s.child,s.child=null;u!==null;){if(t=u.alternate,t!==null&&hi(t)===null){s.child=u;break}t=u.sibling,u.sibling=l,l=u,u=t}pu(s,!0,l,null,h);break;case"together":pu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rn(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),tr|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(El(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,l=wn(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=wn(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function xu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function wN(t,s,l){switch(s.tag){case 3:he(s,s.stateNode.containerInfo),In(s,Lt,t.memoizedState.cache),Sl();break;case 27:case 5:be(s);break;case 4:he(s,s.stateNode.containerInfo);break;case 10:In(s,s.type,s.memoizedProps.value);break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?(Xn(s),s.flags|=128,null):(l&s.child.childLanes)!==0?dx(t,s,l):(Xn(s),t=Rn(t,s,l),t!==null?t.sibling:null);Xn(s);break;case 19:var u=(t.flags&128)!==0;if(i=(l&s.childLanes)!==0,i||(El(t,s,l,!1),i=(l&s.childLanes)!==0),u){if(i)return mx(t,s,l);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(Ut,Ut.current),i)break;return null;case 22:case 23:return s.lanes=0,ax(t,s,l);case 24:In(s,Lt,t.memoizedState.cache)}return Rn(t,s,l)}function fx(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ht=!0;else{if(!xu(t,l)&&(s.flags&128)===0)return Ht=!1,wN(t,s,l);Ht=(t.flags&131072)!==0}else Ht=!1,Xe&&(s.flags&1048576)!==0&&qh(s,Zo,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var i=s.elementType,u=i._init;if(i=u(i._payload),s.type=i,typeof i=="function")_d(i)?(t=Or(i,t),s.tag=1,s=ix(null,s,i,t,l)):(s.tag=0,s=cu(null,s,i,t,l));else{if(i!=null){if(u=i.$$typeof,u===L){s.tag=11,s=sx(null,s,i,t,l);break e}else if(u===$){s.tag=14,s=nx(null,s,i,t,l);break e}}throw s=oe(i)||i,Error(o(306,s,""))}}return s;case 0:return cu(t,s,s.type,s.pendingProps,l);case 1:return i=s.type,u=Or(i,s.pendingProps),ix(t,s,i,u,l);case 3:e:{if(he(s,s.stateNode.containerInfo),t===null)throw Error(o(387));i=s.pendingProps;var h=s.memoizedState;u=h.element,Bd(t,s),Ml(s,i,null,l);var j=s.memoizedState;if(i=j.cache,In(s,Lt,i),i!==h.cache&&Md(s,[Lt],l,!0),Dl(),i=j.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=cx(t,s,i,l);break e}else if(i!==u){u=zs(Error(o(424)),s),_l(u),s=cx(t,s,i,l);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Gs(t.firstChild),is=s,Xe=!0,kr=null,nn=!0,l=Vp(s,null,i,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Sl(),i===u){s=Rn(t,s,l);break e}Xt(t,s,i,l)}s=s.child}return s;case 26:return gi(t,s),t===null?(l=gg(s.type,null,s.pendingProps,null))?s.memoizedState=l:Xe||(l=s.type,t=s.pendingProps,i=Di(ye.current).createElement(l),i[ts]=s,i[ms]=t,Zt(i,l,t),Ft(i),s.stateNode=i):s.memoizedState=gg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return be(s),t===null&&Xe&&(i=s.stateNode=hg(s.type,s.pendingProps,ye.current),is=s,nn=!0,u=bt,ar(s.type)?(Ku=u,bt=Gs(i.firstChild)):bt=u),Xt(t,s,s.pendingProps.children,l),gi(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Xe&&((u=i=bt)&&(i=KN(i,s.type,s.pendingProps,nn),i!==null?(s.stateNode=i,is=s,bt=Gs(i.firstChild),nn=!1,u=!0):u=!1),u||Rr(s)),be(s),u=s.type,h=s.pendingProps,j=t!==null?t.memoizedProps:null,i=h.children,Yu(u,h)?i=null:j!==null&&Yu(u,j)&&(s.flags|=32),s.memoizedState!==null&&(u=Vd(t,s,hN,null,null,l),to._currentValue=u),gi(t,s),Xt(t,s,i,l),s.child;case 6:return t===null&&Xe&&((t=l=bt)&&(l=ZN(l,s.pendingProps,nn),l!==null?(s.stateNode=l,is=s,bt=null,t=!0):t=!1),t||Rr(s)),null;case 13:return dx(t,s,l);case 4:return he(s,s.stateNode.containerInfo),i=s.pendingProps,t===null?s.child=_a(s,null,i,l):Xt(t,s,i,l),s.child;case 11:return sx(t,s,s.type,s.pendingProps,l);case 7:return Xt(t,s,s.pendingProps,l),s.child;case 8:return Xt(t,s,s.pendingProps.children,l),s.child;case 12:return Xt(t,s,s.pendingProps.children,l),s.child;case 10:return i=s.pendingProps,In(s,s.type,i.value),Xt(t,s,i.children,l),s.child;case 9:return u=s.type._context,i=s.pendingProps.children,Ar(s),u=ss(u),i=i(u),s.flags|=1,Xt(t,s,i,l),s.child;case 14:return nx(t,s,s.type,s.pendingProps,l);case 15:return rx(t,s,s.type,s.pendingProps,l);case 19:return mx(t,s,l);case 31:return i=s.pendingProps,l=s.mode,i={mode:i.mode,children:i.children},t===null?(l=yi(i,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=wn(t.child,i),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ax(t,s,l);case 24:return Ar(s),i=ss(Lt),t===null?(u=Ld(),u===null&&(u=it,h=Od(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=l),u=h),s.memoizedState={parent:i,cache:u},zd(s),In(s,Lt,u)):((t.lanes&l)!==0&&(Bd(t,s),Ml(s,null,null,l),Dl()),u=t.memoizedState,h=s.memoizedState,u.parent!==i?(u={parent:i,cache:i},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),In(s,Lt,i)):(i=h.cache,In(s,Lt,i),i!==u.cache&&Md(s,[Lt],l,!0))),Xt(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Tn(t){t.flags|=4}function hx(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wg(s)){if(s=Hs.current,s!==null&&((Ie&4194048)===Ie?rn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==rn))throw Tl=Ud,Zh;t.flags|=8192}}function bi(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Jr():536870912,t.lanes|=s,Ra|=s)}function $l(t,s){if(!Xe)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ft(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,i=0;if(s)for(var u=t.child;u!==null;)l|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)l|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=i,t.childLanes=l,s}function NN(t,s,l){var i=s.pendingProps;switch(Rd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return l=s.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),En(Lt),ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Nl(s)?Tn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yh())),ft(s),null;case 26:return l=s.memoizedState,t===null?(Tn(s),l!==null?(ft(s),hx(s,l)):(ft(s),s.flags&=-16777217)):l?l!==t.memoizedState?(Tn(s),ft(s),hx(s,l)):(ft(s),s.flags&=-16777217):(t.memoizedProps!==i&&Tn(s),ft(s),s.flags&=-16777217),null;case 27:ke(s),l=ye.current;var u=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Tn(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return ft(s),null}t=se.current,Nl(s)?Ih(s):(t=hg(u,i,l),s.stateNode=t,Tn(s))}return ft(s),null;case 5:if(ke(s),l=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Tn(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return ft(s),null}if(t=se.current,Nl(s))Ih(s);else{switch(u=Di(ye.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?u.createElement("select",{is:i.is}):u.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?u.createElement(l,{is:i.is}):u.createElement(l)}}t[ts]=s,t[ms]=i;e:for(u=s.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s.stateNode=t;e:switch(Zt(t,l,i),l){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Tn(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==i&&Tn(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(o(166));if(t=ye.current,Nl(s)){if(t=s.stateNode,l=s.memoizedProps,i=null,u=is,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}t[ts]=s,t=!!(t.nodeValue===l||i!==null&&i.suppressHydrationWarning===!0||og(t.nodeValue,l)),t||Rr(s)}else t=Di(t).createTextNode(i),t[ts]=s,s.stateNode=t}return ft(s),null;case 13:if(i=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Nl(s),i!==null&&i.dehydrated!==null){if(t===null){if(!u)throw Error(o(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[ts]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),u=!1}else u=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(kn(s),s):(kn(s),null)}if(kn(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=i!==null,t=t!==null&&t.memoizedState!==null,l){i=s.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool);var h=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==u&&(i.flags|=2048)}return l!==t&&l&&(s.child.flags|=8192),bi(s,s.updateQueue),ft(s),null;case 4:return ie(),t===null&&Fu(s.stateNode.containerInfo),ft(s),null;case 10:return En(s.type),ft(s),null;case 19:if(V(Ut),u=s.memoizedState,u===null)return ft(s),null;if(i=(s.flags&128)!==0,h=u.rendering,h===null)if(i)$l(u,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=hi(t),h!==null){for(s.flags|=128,$l(u,!1),t=h.updateQueue,s.updateQueue=t,bi(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)Hh(l,t),l=l.sibling;return X(Ut,Ut.current&1|2),s.child}t=t.sibling}u.tail!==null&&qe()>wi&&(s.flags|=128,i=!0,$l(u,!1),s.lanes=4194304)}else{if(!i)if(t=hi(h),t!==null){if(s.flags|=128,i=!0,t=t.updateQueue,s.updateQueue=t,bi(s,t),$l(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Xe)return ft(s),null}else 2*qe()-u.renderingStartTime>wi&&l!==536870912&&(s.flags|=128,i=!0,$l(u,!1),s.lanes=4194304);u.isBackwards?(h.sibling=s.child,s.child=h):(t=u.last,t!==null?t.sibling=h:s.child=h,u.last=h)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=qe(),s.sibling=null,t=Ut.current,X(Ut,i?t&1|2:t&1),s):(ft(s),null);case 22:case 23:return kn(s),qd(),i=s.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(l&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),l=s.updateQueue,l!==null&&bi(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(s.flags|=2048),t!==null&&V(Dr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),En(Lt),ft(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function SN(t,s){switch(Rd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return En(Lt),ie(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ke(s),null;case 13:if(kn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Sl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return V(Ut),null;case 4:return ie(),null;case 10:return En(s.type),null;case 22:case 23:return kn(s),qd(),t!==null&&V(Dr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return En(Lt),null;case 25:return null;default:return null}}function px(t,s){switch(Rd(s),s.tag){case 3:En(Lt),ie();break;case 26:case 27:case 5:ke(s);break;case 4:ie();break;case 13:kn(s);break;case 19:V(Ut);break;case 10:En(s.type);break;case 22:case 23:kn(s),qd(),t!==null&&V(Dr);break;case 24:En(Lt)}}function Fl(t,s){try{var l=s.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var u=i.next;l=u;do{if((l.tag&t)===t){i=void 0;var h=l.create,j=l.inst;i=h(),j.destroy=i}l=l.next}while(l!==u)}}catch(R){at(s,s.return,R)}}function Zn(t,s,l){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var h=u.next;i=h;do{if((i.tag&t)===t){var j=i.inst,R=j.destroy;if(R!==void 0){j.destroy=void 0,u=s;var B=l,Q=R;try{Q()}catch(ue){at(u,B,ue)}}}i=i.next}while(i!==h)}}catch(ue){at(s,s.return,ue)}}function xx(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{np(s,l)}catch(i){at(t,t.return,i)}}}function gx(t,s,l){l.props=Or(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(i){at(t,s,i)}}function Hl(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof l=="function"?t.refCleanup=l(i):l.current=i}}catch(u){at(t,s,u)}}function an(t,s){var l=t.ref,i=t.refCleanup;if(l!==null)if(typeof i=="function")try{i()}catch(u){at(t,s,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(u){at(t,s,u)}else l.current=null}function yx(t){var s=t.type,l=t.memoizedProps,i=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break e;case"img":l.src?i.src=l.src:l.srcSet&&(i.srcset=l.srcSet)}}catch(u){at(t,t.return,u)}}function gu(t,s,l){try{var i=t.stateNode;VN(i,t.type,l,s),i[ms]=s}catch(u){at(t,t.return,u)}}function bx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,s,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ai));else if(i!==4&&(i===27&&ar(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(bu(t,s,l),t=t.sibling;t!==null;)bu(t,s,l),t=t.sibling}function vi(t,s,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(i!==4&&(i===27&&ar(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(vi(t,s,l),t=t.sibling;t!==null;)vi(t,s,l),t=t.sibling}function vx(t){var s=t.stateNode,l=t.memoizedProps;try{for(var i=t.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Zt(s,i,l),s[ts]=t,s[ms]=l}catch(h){at(t,t.return,h)}}var An=!1,kt=!1,vu=!1,jx=typeof WeakSet=="function"?WeakSet:Set,qt=null;function _N(t,s){if(t=t.containerInfo,Iu=zi,t=Dh(t),yd(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var u=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var j=0,R=-1,B=-1,Q=0,ue=0,fe=t,ee=null;t:for(;;){for(var te;fe!==l||u!==0&&fe.nodeType!==3||(R=j+u),fe!==h||i!==0&&fe.nodeType!==3||(B=j+i),fe.nodeType===3&&(j+=fe.nodeValue.length),(te=fe.firstChild)!==null;)ee=fe,fe=te;for(;;){if(fe===t)break t;if(ee===l&&++Q===u&&(R=j),ee===h&&++ue===i&&(B=j),(te=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=te}l=R===-1||B===-1?null:{start:R,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vu={focusedElem:t,selectionRange:l},zi=!1,qt=s;qt!==null;)if(s=qt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,qt=t;else for(;qt!==null;){switch(s=qt,h=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,l=s,u=h.memoizedProps,h=h.memoizedState,i=l.stateNode;try{var De=Or(l.type,u,l.elementType===l.type);t=i.getSnapshotBeforeUpdate(De,h),i.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){at(l,l.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)Wu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,qt=t;break}qt=s.return}}function wx(t,s,l){var i=l.flags;switch(l.tag){case 0:case 11:case 15:Qn(t,l),i&4&&Fl(5,l);break;case 1:if(Qn(t,l),i&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(j){at(l,l.return,j)}else{var u=Or(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(u,s,t.__reactInternalSnapshotBeforeUpdate)}catch(j){at(l,l.return,j)}}i&64&&xx(l),i&512&&Hl(l,l.return);break;case 3:if(Qn(t,l),i&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{np(t,s)}catch(j){at(l,l.return,j)}}break;case 27:s===null&&i&4&&vx(l);case 26:case 5:Qn(t,l),s===null&&i&4&&yx(l),i&512&&Hl(l,l.return);break;case 12:Qn(t,l);break;case 13:Qn(t,l),i&4&&_x(t,l),i&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=ON.bind(null,l),QN(t,l))));break;case 22:if(i=l.memoizedState!==null||An,!i){s=s!==null&&s.memoizedState!==null||kt,u=An;var h=kt;An=i,(kt=s)&&!h?Jn(t,l,(l.subtreeFlags&8772)!==0):Qn(t,l),An=u,kt=h}break;case 30:break;default:Qn(t,l)}}function Nx(t){var s=t.alternate;s!==null&&(t.alternate=null,Nx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Jc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,ps=!1;function Dn(t,s,l){for(l=l.child;l!==null;)Sx(t,s,l),l=l.sibling}function Sx(t,s,l){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(q,l)}catch{}switch(l.tag){case 26:kt||an(l,s),Dn(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:kt||an(l,s);var i=mt,u=ps;ar(l.type)&&(mt=l.stateNode,ps=!1),Dn(t,s,l),Zl(l.stateNode),mt=i,ps=u;break;case 5:kt||an(l,s);case 6:if(i=mt,u=ps,mt=null,Dn(t,s,l),mt=i,ps=u,mt!==null)if(ps)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(l.stateNode)}catch(h){at(l,s,h)}else try{mt.removeChild(l.stateNode)}catch(h){at(l,s,h)}break;case 18:mt!==null&&(ps?(t=mt,mg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),ao(t)):mg(mt,l.stateNode));break;case 4:i=mt,u=ps,mt=l.stateNode.containerInfo,ps=!0,Dn(t,s,l),mt=i,ps=u;break;case 0:case 11:case 14:case 15:kt||Zn(2,l,s),kt||Zn(4,l,s),Dn(t,s,l);break;case 1:kt||(an(l,s),i=l.stateNode,typeof i.componentWillUnmount=="function"&&gx(l,s,i)),Dn(t,s,l);break;case 21:Dn(t,s,l);break;case 22:kt=(i=kt)||l.memoizedState!==null,Dn(t,s,l),kt=i;break;default:Dn(t,s,l)}}function _x(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(l){at(s,s.return,l)}}function EN(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new jx),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new jx),s;default:throw Error(o(435,t.tag))}}function ju(t,s){var l=EN(t);s.forEach(function(i){var u=PN.bind(null,t,i);l.has(i)||(l.add(i),i.then(u,u))})}function Es(t,s){var l=s.deletions;if(l!==null)for(var i=0;i<l.length;i++){var u=l[i],h=t,j=s,R=j;e:for(;R!==null;){switch(R.tag){case 27:if(ar(R.type)){mt=R.stateNode,ps=!1;break e}break;case 5:mt=R.stateNode,ps=!1;break e;case 3:case 4:mt=R.stateNode.containerInfo,ps=!0;break e}R=R.return}if(mt===null)throw Error(o(160));Sx(h,j,u),mt=null,ps=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ex(s,t),s=s.sibling}var Ys=null;function Ex(t,s){var l=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Es(s,t),Cs(t),i&4&&(Zn(3,t,t.return),Fl(3,t),Zn(5,t,t.return));break;case 1:Es(s,t),Cs(t),i&512&&(kt||l===null||an(l,l.return)),i&64&&An&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?i:l.concat(i))));break;case 26:var u=Ys;if(Es(s,t),Cs(t),i&512&&(kt||l===null||an(l,l.return)),i&4){var h=l!==null?l.memoizedState:null;if(i=t.memoizedState,l===null)if(i===null)if(t.stateNode===null){e:{i=t.type,l=t.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":h=u.getElementsByTagName("title")[0],(!h||h[ml]||h[ts]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(i),u.head.insertBefore(h,u.querySelector("head > title"))),Zt(h,i,l),h[ts]=t,Ft(h),i=h;break e;case"link":var j=vg("link","href",u).get(i+(l.href||""));if(j){for(var R=0;R<j.length;R++)if(h=j[R],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(R,1);break t}}h=u.createElement(i),Zt(h,i,l),u.head.appendChild(h);break;case"meta":if(j=vg("meta","content",u).get(i+(l.content||""))){for(R=0;R<j.length;R++)if(h=j[R],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(R,1);break t}}h=u.createElement(i),Zt(h,i,l),u.head.appendChild(h);break;default:throw Error(o(468,i))}h[ts]=t,Ft(h),i=h}t.stateNode=i}else jg(u,t.type,t.stateNode);else t.stateNode=bg(u,i,t.memoizedProps);else h!==i?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,i===null?jg(u,t.type,t.stateNode):bg(u,i,t.memoizedProps)):i===null&&t.stateNode!==null&&gu(t,t.memoizedProps,l.memoizedProps)}break;case 27:Es(s,t),Cs(t),i&512&&(kt||l===null||an(l,l.return)),l!==null&&i&4&&gu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Es(s,t),Cs(t),i&512&&(kt||l===null||an(l,l.return)),t.flags&32){u=t.stateNode;try{oa(u,"")}catch(te){at(t,t.return,te)}}i&4&&t.stateNode!=null&&(u=t.memoizedProps,gu(t,u,l!==null?l.memoizedProps:u)),i&1024&&(vu=!0);break;case 6:if(Es(s,t),Cs(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,l=t.stateNode;try{l.nodeValue=i}catch(te){at(t,t.return,te)}}break;case 3:if(Pi=null,u=Ys,Ys=Mi(s.containerInfo),Es(s,t),Ys=u,Cs(t),i&4&&l!==null&&l.memoizedState.isDehydrated)try{ao(s.containerInfo)}catch(te){at(t,t.return,te)}vu&&(vu=!1,Cx(t));break;case 4:i=Ys,Ys=Mi(t.stateNode.containerInfo),Es(s,t),Cs(t),Ys=i;break;case 12:Es(s,t),Cs(t);break;case 13:Es(s,t),Cs(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Cu=qe()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ju(t,i)));break;case 22:u=t.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Q=An,ue=kt;if(An=Q||u,kt=ue||B,Es(s,t),kt=ue,An=Q,Cs(t),i&8192)e:for(s=t.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(l===null||B||An||kt||Pr(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(h=B.stateNode,u)j=h.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{R=B.stateNode;var fe=B.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){at(B,B.return,te)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=u?"":B.memoizedProps}catch(te){at(B,B.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=t.updateQueue,i!==null&&(l=i.retryQueue,l!==null&&(i.retryQueue=null,ju(t,l))));break;case 19:Es(s,t),Cs(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ju(t,i)));break;case 30:break;case 21:break;default:Es(s,t),Cs(t)}}function Cs(t){var s=t.flags;if(s&2){try{for(var l,i=t.return;i!==null;){if(bx(i)){l=i;break}i=i.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var u=l.stateNode,h=yu(t);vi(t,h,u);break;case 5:var j=l.stateNode;l.flags&32&&(oa(j,""),l.flags&=-33);var R=yu(t);vi(t,R,j);break;case 3:case 4:var B=l.stateNode.containerInfo,Q=yu(t);bu(t,Q,B);break;default:throw Error(o(161))}}catch(ue){at(t,t.return,ue)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Cx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Cx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Qn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)wx(t,s.alternate,s),s=s.sibling}function Pr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Zn(4,s,s.return),Pr(s);break;case 1:an(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&gx(s,s.return,l),Pr(s);break;case 27:Zl(s.stateNode);case 26:case 5:an(s,s.return),Pr(s);break;case 22:s.memoizedState===null&&Pr(s);break;case 30:Pr(s);break;default:Pr(s)}t=t.sibling}}function Jn(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,u=t,h=s,j=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(u,h,l),Fl(4,h);break;case 1:if(Jn(u,h,l),i=h,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Q){at(i,i.return,Q)}if(i=h,u=i.updateQueue,u!==null){var R=i.stateNode;try{var B=u.shared.hiddenCallbacks;if(B!==null)for(u.shared.hiddenCallbacks=null,u=0;u<B.length;u++)sp(B[u],R)}catch(Q){at(i,i.return,Q)}}l&&j&64&&xx(h),Hl(h,h.return);break;case 27:vx(h);case 26:case 5:Jn(u,h,l),l&&i===null&&j&4&&yx(h),Hl(h,h.return);break;case 12:Jn(u,h,l);break;case 13:Jn(u,h,l),l&&j&4&&_x(u,h);break;case 22:h.memoizedState===null&&Jn(u,h,l),Hl(h,h.return);break;case 30:break;default:Jn(u,h,l)}s=s.sibling}}function wu(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Cl(l))}function Nu(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Cl(t))}function ln(t,s,l,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kx(t,s,l,i),s=s.sibling}function kx(t,s,l,i){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ln(t,s,l,i),u&2048&&Fl(9,s);break;case 1:ln(t,s,l,i);break;case 3:ln(t,s,l,i),u&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Cl(t)));break;case 12:if(u&2048){ln(t,s,l,i),t=s.stateNode;try{var h=s.memoizedProps,j=h.id,R=h.onPostCommit;typeof R=="function"&&R(j,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(B){at(s,s.return,B)}}else ln(t,s,l,i);break;case 13:ln(t,s,l,i);break;case 23:break;case 22:h=s.stateNode,j=s.alternate,s.memoizedState!==null?h._visibility&2?ln(t,s,l,i):ql(t,s):h._visibility&2?ln(t,s,l,i):(h._visibility|=2,Ea(t,s,l,i,(s.subtreeFlags&10256)!==0)),u&2048&&wu(j,s);break;case 24:ln(t,s,l,i),u&2048&&Nu(s.alternate,s);break;default:ln(t,s,l,i)}}function Ea(t,s,l,i,u){for(u=u&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var h=t,j=s,R=l,B=i,Q=j.flags;switch(j.tag){case 0:case 11:case 15:Ea(h,j,R,B,u),Fl(8,j);break;case 23:break;case 22:var ue=j.stateNode;j.memoizedState!==null?ue._visibility&2?Ea(h,j,R,B,u):ql(h,j):(ue._visibility|=2,Ea(h,j,R,B,u)),u&&Q&2048&&wu(j.alternate,j);break;case 24:Ea(h,j,R,B,u),u&&Q&2048&&Nu(j.alternate,j);break;default:Ea(h,j,R,B,u)}s=s.sibling}}function ql(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,i=s,u=i.flags;switch(i.tag){case 22:ql(l,i),u&2048&&wu(i.alternate,i);break;case 24:ql(l,i),u&2048&&Nu(i.alternate,i);break;default:ql(l,i)}s=s.sibling}}var Il=8192;function Ca(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Rx(t),t=t.sibling}function Rx(t){switch(t.tag){case 26:Ca(t),t.flags&Il&&t.memoizedState!==null&&u1(Ys,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var s=Ys;Ys=Mi(t.stateNode.containerInfo),Ca(t),Ys=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Il,Il=16777216,Ca(t),Il=s):Ca(t));break;default:Ca(t)}}function Tx(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Vl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var i=s[l];qt=i,Dx(i,t)}Tx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ax(t),t=t.sibling}function Ax(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Zn(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ji(t)):Vl(t);break;default:Vl(t)}}function ji(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var i=s[l];qt=i,Dx(i,t)}Tx(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Zn(8,s,s.return),ji(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ji(s));break;default:ji(s)}t=t.sibling}}function Dx(t,s){for(;qt!==null;){var l=qt;switch(l.tag){case 0:case 11:case 15:Zn(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var i=l.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Cl(l.memoizedState.cache)}if(i=l.child,i!==null)i.return=l,qt=i;else e:for(l=t;qt!==null;){i=qt;var u=i.sibling,h=i.return;if(Nx(i),i===l){qt=null;break e}if(u!==null){u.return=h,qt=u;break e}qt=h}}}var CN={getCacheForType:function(t){var s=ss(Lt),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l}},kN=typeof WeakMap=="function"?WeakMap:Map,Je=0,it=null,$e=null,Ie=0,et=0,ks=null,er=!1,ka=!1,Su=!1,Mn=0,vt=0,tr=0,Lr=0,_u=0,qs=0,Ra=0,Yl=null,xs=null,Eu=!1,Cu=0,wi=1/0,Ni=null,sr=null,Kt=0,nr=null,Ta=null,Aa=0,ku=0,Ru=null,Mx=null,Gl=0,Tu=null;function Rs(){if((Je&2)!==0&&Ie!==0)return Ie&-Ie;if(U.T!==null){var t=ya;return t!==0?t:Uu()}return bn()}function Ox(){qs===0&&(qs=(Ie&536870912)===0||Xe?Qr():536870912);var t=Hs.current;return t!==null&&(t.flags|=32),qs}function Ts(t,s,l){(t===it&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Da(t,0),rr(t,Ie,qs,!1)),A(t,l),((Je&2)===0||t!==it)&&(t===it&&((Je&2)===0&&(Lr|=l),vt===4&&rr(t,Ie,qs,!1)),on(t))}function Px(t,s,l){if((Je&6)!==0)throw Error(o(327));var i=!l&&(s&124)===0&&(s&t.expiredLanes)===0||us(t,s),u=i?AN(t,s):Mu(t,s,!0),h=i;do{if(u===0){ka&&!i&&rr(t,s,0,!1);break}else{if(l=t.current.alternate,h&&!RN(l)){u=Mu(t,s,!1),h=!1;continue}if(u===2){if(h=s,t.errorRecoveryDisabledLanes&h)var j=0;else j=t.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var R=t;u=Yl;var B=R.current.memoizedState.isDehydrated;if(B&&(Da(R,j).flags|=256),j=Mu(R,j,!1),j!==2){if(Su&&!B){R.errorRecoveryDisabledLanes|=h,Lr|=h,u=4;break e}h=xs,xs=u,h!==null&&(xs===null?xs=h:xs.push.apply(xs,h))}u=j}if(h=!1,u!==2)continue}}if(u===1){Da(t,0),rr(t,s,0,!0);break}e:{switch(i=t,h=u,h){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:rr(i,s,qs,!er);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(u=Cu+300-qe(),10<u)){if(rr(i,s,qs,!er),$t(i,0,!0)!==0)break e;i.timeoutHandle=dg(Lx.bind(null,i,l,xs,Ni,Eu,s,qs,Lr,Ra,er,h,2,-0,0),u);break e}Lx(i,l,xs,Ni,Eu,s,qs,Lr,Ra,er,h,0,-0,0)}}break}while(!0);on(t)}function Lx(t,s,l,i,u,h,j,R,B,Q,ue,fe,ee,te){if(t.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:d1},Rx(s),fe=m1(),fe!==null)){t.cancelPendingCommit=fe(qx.bind(null,t,s,h,l,i,u,j,R,B,ue,1,ee,te)),rr(t,h,j,!Q);return}qx(t,s,h,l,i,u,j,R,B)}function RN(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var i=0;i<l.length;i++){var u=l[i],h=u.getSnapshot;u=u.value;try{if(!Ss(h(),u))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rr(t,s,l,i){s&=~_u,s&=~Lr,t.suspendedLanes|=s,t.pingedLanes&=~s,i&&(t.warmLanes|=s),i=t.expirationTimes;for(var u=s;0<u;){var h=31-Se(u),j=1<<h;i[h]=-1,u&=~j}l!==0&&pe(t,l,s)}function Si(){return(Je&6)===0?(Wl(0),!1):!0}function Au(){if($e!==null){if(et===0)var t=$e.return;else t=$e,_n=Tr=null,Wd(t),Sa=null,zl=0,t=$e;for(;t!==null;)px(t.alternate,t),t=t.return;$e=null}}function Da(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,GN(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Au(),it=t,$e=l=wn(t.current,null),Ie=s,et=0,ks=null,er=!1,ka=us(t,s),Su=!1,Ra=qs=_u=Lr=tr=vt=0,xs=Yl=null,Eu=!1,(s&8)!==0&&(s|=s&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=s;0<i;){var u=31-Se(i),h=1<<u;s|=t[u],i&=~h}return Mn=s,Yo(),l}function Ux(t,s){Ue=null,U.H=ui,s===Rl||s===ti?(s=ep(),et=3):s===Zh?(s=ep(),et=4):et=s===tx?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ks=s,$e===null&&(vt=1,xi(t,zs(s,t.current)))}function zx(){var t=U.H;return U.H=ui,t===null?ui:t}function Bx(){var t=U.A;return U.A=CN,t}function Du(){vt=4,er||(Ie&4194048)!==Ie&&Hs.current!==null||(ka=!0),(tr&134217727)===0&&(Lr&134217727)===0||it===null||rr(it,Ie,qs,!1)}function Mu(t,s,l){var i=Je;Je|=2;var u=zx(),h=Bx();(it!==t||Ie!==s)&&(Ni=null,Da(t,s)),s=!1;var j=vt;e:do try{if(et!==0&&$e!==null){var R=$e,B=ks;switch(et){case 8:Au(),j=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(s=!0);var Q=et;if(et=0,ks=null,Ma(t,R,B,Q),l&&ka){j=0;break e}break;default:Q=et,et=0,ks=null,Ma(t,R,B,Q)}}TN(),j=vt;break}catch(ue){Ux(t,ue)}while(!0);return s&&t.shellSuspendCounter++,_n=Tr=null,Je=i,U.H=u,U.A=h,$e===null&&(it=null,Ie=0,Yo()),j}function TN(){for(;$e!==null;)$x($e)}function AN(t,s){var l=Je;Je|=2;var i=zx(),u=Bx();it!==t||Ie!==s?(Ni=null,wi=qe()+500,Da(t,s)):ka=us(t,s);e:do try{if(et!==0&&$e!==null){s=$e;var h=ks;t:switch(et){case 1:et=0,ks=null,Ma(t,s,h,1);break;case 2:case 9:if(Qh(h)){et=0,ks=null,Fx(s);break}s=function(){et!==2&&et!==9||it!==t||(et=7),on(t)},h.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Qh(h)?(et=0,ks=null,Fx(s)):(et=0,ks=null,Ma(t,s,h,7));break;case 5:var j=null;switch($e.tag){case 26:j=$e.memoizedState;case 5:case 27:var R=$e;if(!j||wg(j)){et=0,ks=null;var B=R.sibling;if(B!==null)$e=B;else{var Q=R.return;Q!==null?($e=Q,_i(Q)):$e=null}break t}}et=0,ks=null,Ma(t,s,h,5);break;case 6:et=0,ks=null,Ma(t,s,h,6);break;case 8:Au(),vt=6;break e;default:throw Error(o(462))}}DN();break}catch(ue){Ux(t,ue)}while(!0);return _n=Tr=null,U.H=i,U.A=u,Je=l,$e!==null?0:(it=null,Ie=0,Yo(),vt)}function DN(){for(;$e!==null&&!_t();)$x($e)}function $x(t){var s=fx(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,s===null?_i(t):$e=s}function Fx(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=ox(l,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=ox(l,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:Wd(s);default:px(l,s),s=$e=Hh(s,Mn),s=fx(l,s,Mn)}t.memoizedProps=t.pendingProps,s===null?_i(t):$e=s}function Ma(t,s,l,i){_n=Tr=null,Wd(s),Sa=null,zl=0;var u=s.return;try{if(jN(t,u,s,l,Ie)){vt=1,xi(t,zs(l,t.current)),$e=null;return}}catch(h){if(u!==null)throw $e=u,h;vt=1,xi(t,zs(l,t.current)),$e=null;return}s.flags&32768?(Xe||i===1?t=!0:ka||(Ie&536870912)!==0?t=!1:(er=t=!0,(i===2||i===9||i===3||i===6)&&(i=Hs.current,i!==null&&i.tag===13&&(i.flags|=16384))),Hx(s,t)):_i(s)}function _i(t){var s=t;do{if((s.flags&32768)!==0){Hx(s,er);return}t=s.return;var l=NN(s.alternate,s,Mn);if(l!==null){$e=l;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=t}while(s!==null);vt===0&&(vt=5)}function Hx(t,s){do{var l=SN(t.alternate,t);if(l!==null){l.flags&=32767,$e=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){$e=t;return}$e=t=l}while(t!==null);vt=6,$e=null}function qx(t,s,l,i,u,h,j,R,B){t.cancelPendingCommit=null;do Ei();while(Kt!==0);if((Je&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(h=s.lanes|s.childLanes,h|=Nd,de(t,l,h,j,R,B),t===it&&($e=it=null,Ie=0),Ta=s,nr=t,Aa=l,ku=h,Ru=u,Mx=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LN(ve,function(){return Wx(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=U.T,U.T=null,u=G.p,G.p=2,j=Je,Je|=4;try{_N(t,s,l)}finally{Je=j,G.p=u,U.T=i}}Kt=1,Ix(),Vx(),Yx()}}function Ix(){if(Kt===1){Kt=0;var t=nr,s=Ta,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var i=G.p;G.p=2;var u=Je;Je|=4;try{Ex(s,t);var h=Vu,j=Dh(t.containerInfo),R=h.focusedElem,B=h.selectionRange;if(j!==R&&R&&R.ownerDocument&&Ah(R.ownerDocument.documentElement,R)){if(B!==null&&yd(R)){var Q=B.start,ue=B.end;if(ue===void 0&&(ue=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(ue,R.value.length);else{var fe=R.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),De=R.textContent.length,Ce=Math.min(B.start,De),nt=B.end===void 0?Ce:Math.min(B.end,De);!te.extend&&Ce>nt&&(j=nt,nt=Ce,Ce=j);var W=Th(R,Ce),I=Th(R,nt);if(W&&I&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==I.node||te.focusOffset!==I.offset)){var K=fe.createRange();K.setStart(W.node,W.offset),te.removeAllRanges(),Ce>nt?(te.addRange(K),te.extend(I.node,I.offset)):(K.setEnd(I.node,I.offset),te.addRange(K))}}}}for(fe=[],te=R;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var me=fe[R];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}zi=!!Iu,Vu=Iu=null}finally{Je=u,G.p=i,U.T=l}}t.current=s,Kt=2}}function Vx(){if(Kt===2){Kt=0;var t=nr,s=Ta,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var i=G.p;G.p=2;var u=Je;Je|=4;try{wx(t,s.alternate,s)}finally{Je=u,G.p=i,U.T=l}}Kt=3}}function Yx(){if(Kt===4||Kt===3){Kt=0,At();var t=nr,s=Ta,l=Aa,i=Mx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,Ta=nr=null,Gx(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(sr=null),es(l),s=s.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(q,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=U.T,u=G.p,G.p=2,U.T=null;try{for(var h=t.onRecoverableError,j=0;j<i.length;j++){var R=i[j];h(R.value,{componentStack:R.stack})}}finally{U.T=s,G.p=u}}(Aa&3)!==0&&Ei(),on(t),u=t.pendingLanes,(l&4194090)!==0&&(u&42)!==0?t===Tu?Gl++:(Gl=0,Tu=t):Gl=0,Wl(0)}}function Gx(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Cl(s)))}function Ei(t){return Ix(),Vx(),Yx(),Wx()}function Wx(){if(Kt!==5)return!1;var t=nr,s=ku;ku=0;var l=es(Aa),i=U.T,u=G.p;try{G.p=32>l?32:l,U.T=null,l=Ru,Ru=null;var h=nr,j=Aa;if(Kt=0,Ta=nr=null,Aa=0,(Je&6)!==0)throw Error(o(331));var R=Je;if(Je|=4,Ax(h.current),kx(h,h.current,j,l),Je=R,Wl(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(q,h)}catch{}return!0}finally{G.p=u,U.T=i,Gx(t,s)}}function Xx(t,s,l){s=zs(l,s),s=iu(t.stateNode,s,2),t=Gn(t,s,2),t!==null&&(A(t,2),on(t))}function at(t,s,l){if(t.tag===3)Xx(t,t,l);else for(;s!==null;){if(s.tag===3){Xx(s,t,l);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sr===null||!sr.has(i))){t=zs(l,t),l=Jp(2),i=Gn(s,l,2),i!==null&&(ex(l,i,s,t),A(i,2),on(i));break}}s=s.return}}function Ou(t,s,l){var i=t.pingCache;if(i===null){i=t.pingCache=new kN;var u=new Set;i.set(s,u)}else u=i.get(s),u===void 0&&(u=new Set,i.set(s,u));u.has(l)||(Su=!0,u.add(l),t=MN.bind(null,t,s,l),s.then(t,t))}function MN(t,s,l){var i=t.pingCache;i!==null&&i.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,it===t&&(Ie&l)===l&&(vt===4||vt===3&&(Ie&62914560)===Ie&&300>qe()-Cu?(Je&2)===0&&Da(t,0):_u|=l,Ra===Ie&&(Ra=0)),on(t)}function Kx(t,s){s===0&&(s=Jr()),t=ha(t,s),t!==null&&(A(t,s),on(t))}function ON(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),Kx(t,l)}function PN(t,s){var l=0;switch(t.tag){case 13:var i=t.stateNode,u=t.memoizedState;u!==null&&(l=u.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(s),Kx(t,l)}function LN(t,s){return Qe(t,s)}var Ci=null,Oa=null,Pu=!1,ki=!1,Lu=!1,Ur=0;function on(t){t!==Oa&&t.next===null&&(Oa===null?Ci=Oa=t:Oa=Oa.next=t),ki=!0,Pu||(Pu=!0,zN())}function Wl(t,s){if(!Lu&&ki){Lu=!0;do for(var l=!1,i=Ci;i!==null;){if(t!==0){var u=i.pendingLanes;if(u===0)var h=0;else{var j=i.suspendedLanes,R=i.pingedLanes;h=(1<<31-Se(42|t)+1)-1,h&=u&~(j&~R),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,eg(i,h))}else h=Ie,h=$t(i,i===it?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||us(i,h)||(l=!0,eg(i,h));i=i.next}while(l);Lu=!1}}function UN(){Zx()}function Zx(){ki=Pu=!1;var t=0;Ur!==0&&(YN()&&(t=Ur),Ur=0);for(var s=qe(),l=null,i=Ci;i!==null;){var u=i.next,h=Qx(i,s);h===0?(i.next=null,l===null?Ci=u:l.next=u,u===null&&(Oa=l)):(l=i,(t!==0||(h&3)!==0)&&(ki=!0)),i=u}Wl(t)}function Qx(t,s){for(var l=t.suspendedLanes,i=t.pingedLanes,u=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var j=31-Se(h),R=1<<j,B=u[j];B===-1?((R&l)===0||(R&i)!==0)&&(u[j]=ot(R,s)):B<=s&&(t.expiredLanes|=R),h&=~R}if(s=it,l=Ie,l=$t(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,l===0||t===s&&(et===2||et===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ct(i),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||us(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(i!==null&&ct(i),es(l)){case 2:case 8:l=Jt;break;case 32:l=ve;break;case 268435456:l=dt;break;default:l=ve}return i=Jx.bind(null,t),l=Qe(l,i),t.callbackPriority=s,t.callbackNode=l,s}return i!==null&&i!==null&&ct(i),t.callbackPriority=2,t.callbackNode=null,2}function Jx(t,s){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Ei()&&t.callbackNode!==l)return null;var i=Ie;return i=$t(t,t===it?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Px(t,i,s),Qx(t,qe()),t.callbackNode!=null&&t.callbackNode===l?Jx.bind(null,t):null)}function eg(t,s){if(Ei())return null;Px(t,s,!0)}function zN(){WN(function(){(Je&6)!==0?Qe(Wt,UN):Zx()})}function Uu(){return Ur===0&&(Ur=Qr()),Ur}function tg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bo(""+t)}function sg(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function BN(t,s,l,i,u){if(s==="submit"&&l&&l.stateNode===u){var h=tg((u[ms]||null).action),j=i.submitter;j&&(s=(s=j[ms]||null)?tg(s.formAction):j.getAttribute("formAction"),s!==null&&(h=s,j=null));var R=new qo("action","action",null,i,u);t.push({event:R,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ur!==0){var B=j?sg(u,j):new FormData(u);nu(l,{pending:!0,data:B,method:u.method,action:h},null,B)}}else typeof h=="function"&&(R.preventDefault(),B=j?sg(u,j):new FormData(u),nu(l,{pending:!0,data:B,method:u.method,action:h},h,B))},currentTarget:u}]})}}for(var zu=0;zu<wd.length;zu++){var Bu=wd[zu],$N=Bu.toLowerCase(),FN=Bu[0].toUpperCase()+Bu.slice(1);Vs($N,"on"+FN)}Vs(Ph,"onAnimationEnd"),Vs(Lh,"onAnimationIteration"),Vs(Uh,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs(rN,"onTransitionRun"),Vs(aN,"onTransitionStart"),Vs(lN,"onTransitionCancel"),Vs(zh,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function ng(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var i=t[l],u=i.event;i=i.listeners;e:{var h=void 0;if(s)for(var j=i.length-1;0<=j;j--){var R=i[j],B=R.instance,Q=R.currentTarget;if(R=R.listener,B!==h&&u.isPropagationStopped())break e;h=R,u.currentTarget=Q;try{h(u)}catch(ue){pi(ue)}u.currentTarget=null,h=B}else for(j=0;j<i.length;j++){if(R=i[j],B=R.instance,Q=R.currentTarget,R=R.listener,B!==h&&u.isPropagationStopped())break e;h=R,u.currentTarget=Q;try{h(u)}catch(ue){pi(ue)}u.currentTarget=null,h=B}}}}function Fe(t,s){var l=s[Qc];l===void 0&&(l=s[Qc]=new Set);var i=t+"__bubble";l.has(i)||(rg(s,t,2,!1),l.add(i))}function $u(t,s,l){var i=0;s&&(i|=4),rg(l,t,i,s)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Fu(t){if(!t[Ri]){t[Ri]=!0,Zf.forEach(function(l){l!=="selectionchange"&&(HN.has(l)||$u(l,!1,t),$u(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ri]||(s[Ri]=!0,$u("selectionchange",!1,s))}}function rg(t,s,l,i){switch(kg(s)){case 2:var u=p1;break;case 8:u=x1;break;default:u=tm}l=u.bind(null,s,l,t),u=void 0,!cd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),i?u!==void 0?t.addEventListener(s,l,{capture:!0,passive:u}):t.addEventListener(s,l,!0):u!==void 0?t.addEventListener(s,l,{passive:u}):t.addEventListener(s,l,!1)}function Hu(t,s,l,i,u){var h=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var j=i.tag;if(j===3||j===4){var R=i.stateNode.containerInfo;if(R===u)break;if(j===4)for(j=i.return;j!==null;){var B=j.tag;if((B===3||B===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;R!==null;){if(j=ta(R),j===null)return;if(B=j.tag,B===5||B===6||B===26||B===27){i=h=j;continue e}R=R.parentNode}}i=i.return}uh(function(){var Q=h,ue=od(l),fe=[];e:{var ee=Bh.get(t);if(ee!==void 0){var te=qo,De=t;switch(t){case"keypress":if(Fo(l)===0)break e;case"keydown":case"keyup":te=Lw;break;case"focusin":De="focus",te=fd;break;case"focusout":De="blur",te=fd;break;case"beforeblur":case"afterblur":te=fd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Bw;break;case Ph:case Lh:case Uh:te=Cw;break;case zh:te=Fw;break;case"scroll":case"scrollend":te=ww;break;case"wheel":te=qw;break;case"copy":case"cut":case"paste":te=Rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=xh;break;case"toggle":case"beforetoggle":te=Vw}var Ce=(s&4)!==0,nt=!Ce&&(t==="scroll"||t==="scrollend"),W=Ce?ee!==null?ee+"Capture":null:ee;Ce=[];for(var I=Q,K;I!==null;){var me=I;if(K=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||K===null||W===null||(me=hl(I,W),me!=null&&Ce.push(Kl(I,me,K))),nt)break;I=I.return}0<Ce.length&&(ee=new te(ee,De,null,l,ue),fe.push({event:ee,listeners:Ce}))}}if((s&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",ee&&l!==ld&&(De=l.relatedTarget||l.fromElement)&&(ta(De)||De[ea]))break e;if((te||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(De=l.relatedTarget||l.toElement,te=Q,De=De?ta(De):null,De!==null&&(nt=d(De),Ce=De.tag,De!==nt||Ce!==5&&Ce!==27&&Ce!==6)&&(De=null)):(te=null,De=Q),te!==De)){if(Ce=hh,me="onMouseLeave",W="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=xh,me="onPointerLeave",W="onPointerEnter",I="pointer"),nt=te==null?ee:fl(te),K=De==null?ee:fl(De),ee=new Ce(me,I+"leave",te,l,ue),ee.target=nt,ee.relatedTarget=K,me=null,ta(ue)===Q&&(Ce=new Ce(W,I+"enter",De,l,ue),Ce.target=K,Ce.relatedTarget=nt,me=Ce),nt=me,te&&De)t:{for(Ce=te,W=De,I=0,K=Ce;K;K=Pa(K))I++;for(K=0,me=W;me;me=Pa(me))K++;for(;0<I-K;)Ce=Pa(Ce),I--;for(;0<K-I;)W=Pa(W),K--;for(;I--;){if(Ce===W||W!==null&&Ce===W.alternate)break t;Ce=Pa(Ce),W=Pa(W)}Ce=null}else Ce=null;te!==null&&ag(fe,ee,te,Ce,!1),De!==null&&nt!==null&&ag(fe,nt,De,Ce,!0)}}e:{if(ee=Q?fl(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var je=Sh;else if(wh(ee))if(_h)je=tN;else{je=Jw;var Be=Qw}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&ad(Q.elementType)&&(je=Sh):je=eN;if(je&&(je=je(t,Q))){Nh(fe,je,l,ue);break e}Be&&Be(t,ee,Q),t==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&rd(ee,"number",ee.value)}switch(Be=Q?fl(Q):window,t){case"focusin":(wh(Be)||Be.contentEditable==="true")&&(ua=Be,bd=Q,wl=null);break;case"focusout":wl=bd=ua=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Mh(fe,l,ue);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":Mh(fe,l,ue)}var Ee;if(pd)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else da?vh(t,l)&&(Te="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(gh&&l.locale!=="ko"&&(da||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&da&&(Ee=mh()):(qn=ue,dd="value"in qn?qn.value:qn.textContent,da=!0)),Be=Ti(Q,Te),0<Be.length&&(Te=new ph(Te,t,null,l,ue),fe.push({event:Te,listeners:Be}),Ee?Te.data=Ee:(Ee=jh(l),Ee!==null&&(Te.data=Ee)))),(Ee=Gw?Ww(t,l):Xw(t,l))&&(Te=Ti(Q,"onBeforeInput"),0<Te.length&&(Be=new ph("onBeforeInput","beforeinput",null,l,ue),fe.push({event:Be,listeners:Te}),Be.data=Ee)),BN(fe,t,Q,l,ue)}ng(fe,s)})}function Kl(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Ti(t,s){for(var l=s+"Capture",i=[];t!==null;){var u=t,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=hl(t,l),u!=null&&i.unshift(Kl(t,u,h)),u=hl(t,s),u!=null&&i.push(Kl(t,u,h))),t.tag===3)return i;t=t.return}return[]}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ag(t,s,l,i,u){for(var h=s._reactName,j=[];l!==null&&l!==i;){var R=l,B=R.alternate,Q=R.stateNode;if(R=R.tag,B!==null&&B===i)break;R!==5&&R!==26&&R!==27||Q===null||(B=Q,u?(Q=hl(l,h),Q!=null&&j.unshift(Kl(l,Q,B))):u||(Q=hl(l,h),Q!=null&&j.push(Kl(l,Q,B)))),l=l.return}j.length!==0&&t.push({event:s,listeners:j})}var qN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function lg(t){return(typeof t=="string"?t:""+t).replace(qN,`
`).replace(IN,"")}function og(t,s){return s=lg(s),lg(t)===s}function Ai(){}function st(t,s,l,i,u,h){switch(l){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||oa(t,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&oa(t,""+i);break;case"className":Lo(t,"class",i);break;case"tabIndex":Lo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(t,l,i);break;case"style":ch(t,i,h);break;case"data":if(s!=="object"){Lo(t,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=Bo(""+i),t.setAttribute(l,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(s!=="input"&&st(t,s,"name",u.name,u,null),st(t,s,"formEncType",u.formEncType,u,null),st(t,s,"formMethod",u.formMethod,u,null),st(t,s,"formTarget",u.formTarget,u,null)):(st(t,s,"encType",u.encType,u,null),st(t,s,"method",u.method,u,null),st(t,s,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=Bo(""+i),t.setAttribute(l,i);break;case"onClick":i!=null&&(t.onclick=Ai);break;case"onScroll":i!=null&&Fe("scroll",t);break;case"onScrollEnd":i!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(l=i.__html,l!=null){if(u.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}l=Bo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""+i):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":i===!0?t.setAttribute(l,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,i):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(l,i):t.removeAttribute(l);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(l):t.setAttribute(l,i);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Po(t,"popover",i);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Po(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vw.get(l)||l,Po(t,l,i))}}function qu(t,s,l,i,u,h){switch(l){case"style":ch(t,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(l=i.__html,l!=null){if(u.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"children":typeof i=="string"?oa(t,i):(typeof i=="number"||typeof i=="bigint")&&oa(t,""+i);break;case"onScroll":i!=null&&Fe("scroll",t);break;case"onScrollEnd":i!=null&&Fe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(u=l.endsWith("Capture"),s=l.slice(2,u?l.length-7:void 0),h=t[ms]||null,h=h!=null?h[l]:null,typeof h=="function"&&t.removeEventListener(s,h,u),typeof i=="function")){typeof h!="function"&&h!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,i,u);break e}l in t?t[l]=i:i===!0?t.setAttribute(l,""):Po(t,l,i)}}}function Zt(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var i=!1,u=!1,h;for(h in l)if(l.hasOwnProperty(h)){var j=l[h];if(j!=null)switch(h){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:st(t,s,h,j,l,null)}}u&&st(t,s,"srcSet",l.srcSet,l,null),i&&st(t,s,"src",l.src,l,null);return;case"input":Fe("invalid",t);var R=h=j=u=null,B=null,Q=null;for(i in l)if(l.hasOwnProperty(i)){var ue=l[i];if(ue!=null)switch(i){case"name":u=ue;break;case"type":j=ue;break;case"checked":B=ue;break;case"defaultChecked":Q=ue;break;case"value":h=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,s));break;default:st(t,s,i,ue,l,null)}}ah(t,h,R,B,Q,j,u,!1),Uo(t);return;case"select":Fe("invalid",t),i=j=h=null;for(u in l)if(l.hasOwnProperty(u)&&(R=l[u],R!=null))switch(u){case"value":h=R;break;case"defaultValue":j=R;break;case"multiple":i=R;default:st(t,s,u,R,l,null)}s=h,l=j,t.multiple=!!i,s!=null?la(t,!!i,s,!1):l!=null&&la(t,!!i,l,!0);return;case"textarea":Fe("invalid",t),h=u=i=null;for(j in l)if(l.hasOwnProperty(j)&&(R=l[j],R!=null))switch(j){case"value":i=R;break;case"defaultValue":u=R;break;case"children":h=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:st(t,s,j,R,l,null)}oh(t,i,u,h),Uo(t);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(i=l[B],i!=null))switch(B){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:st(t,s,B,i,l,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(i=0;i<Xl.length;i++)Fe(Xl[i],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(i=l[Q],i!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:st(t,s,Q,i,l,null)}return;default:if(ad(s)){for(ue in l)l.hasOwnProperty(ue)&&(i=l[ue],i!==void 0&&qu(t,s,ue,i,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(i=l[R],i!=null&&st(t,s,R,i,l,null))}function VN(t,s,l,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,j=null,R=null,B=null,Q=null,ue=null;for(te in l){var fe=l[te];if(l.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=fe;default:i.hasOwnProperty(te)||st(t,s,te,null,i,fe)}}for(var ee in i){var te=i[ee];if(fe=l[ee],i.hasOwnProperty(ee)&&(te!=null||fe!=null))switch(ee){case"type":h=te;break;case"name":u=te;break;case"checked":Q=te;break;case"defaultChecked":ue=te;break;case"value":j=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,s));break;default:te!==fe&&st(t,s,ee,te,i,fe)}}nd(t,j,R,B,Q,ue,h,u);return;case"select":te=j=R=ee=null;for(h in l)if(B=l[h],l.hasOwnProperty(h)&&B!=null)switch(h){case"value":break;case"multiple":te=B;default:i.hasOwnProperty(h)||st(t,s,h,null,i,B)}for(u in i)if(h=i[u],B=l[u],i.hasOwnProperty(u)&&(h!=null||B!=null))switch(u){case"value":ee=h;break;case"defaultValue":R=h;break;case"multiple":j=h;default:h!==B&&st(t,s,u,h,i,B)}s=R,l=j,i=te,ee!=null?la(t,!!l,ee,!1):!!i!=!!l&&(s!=null?la(t,!!l,s,!0):la(t,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(R in l)if(u=l[R],l.hasOwnProperty(R)&&u!=null&&!i.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:st(t,s,R,null,i,u)}for(j in i)if(u=i[j],h=l[j],i.hasOwnProperty(j)&&(u!=null||h!=null))switch(j){case"value":ee=u;break;case"defaultValue":te=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==h&&st(t,s,j,u,i,h)}lh(t,ee,te);return;case"option":for(var De in l)if(ee=l[De],l.hasOwnProperty(De)&&ee!=null&&!i.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:st(t,s,De,null,i,ee)}for(B in i)if(ee=i[B],te=l[B],i.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null))switch(B){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:st(t,s,B,ee,i,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)ee=l[Ce],l.hasOwnProperty(Ce)&&ee!=null&&!i.hasOwnProperty(Ce)&&st(t,s,Ce,null,i,ee);for(Q in i)if(ee=i[Q],te=l[Q],i.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,s));break;default:st(t,s,Q,ee,i,te)}return;default:if(ad(s)){for(var nt in l)ee=l[nt],l.hasOwnProperty(nt)&&ee!==void 0&&!i.hasOwnProperty(nt)&&qu(t,s,nt,void 0,i,ee);for(ue in i)ee=i[ue],te=l[ue],!i.hasOwnProperty(ue)||ee===te||ee===void 0&&te===void 0||qu(t,s,ue,ee,i,te);return}}for(var W in l)ee=l[W],l.hasOwnProperty(W)&&ee!=null&&!i.hasOwnProperty(W)&&st(t,s,W,null,i,ee);for(fe in i)ee=i[fe],te=l[fe],!i.hasOwnProperty(fe)||ee===te||ee==null&&te==null||st(t,s,fe,ee,i,te)}var Iu=null,Vu=null;function Di(t){return t.nodeType===9?t:t.ownerDocument}function ig(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Yu(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gu=null;function YN(){var t=window.event;return t&&t.type==="popstate"?t===Gu?!1:(Gu=t,!0):(Gu=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,GN=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(t){return ug.resolve(null).then(t).catch(XN)}:dg;function XN(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function mg(t,s){var l=s,i=0,u=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(0<i&&8>i){l=i;var j=t.ownerDocument;if(l&1&&Zl(j.documentElement),l&2&&Zl(j.body),l&4)for(l=j.head,Zl(l),j=l.firstChild;j;){var R=j.nextSibling,B=j.nodeName;j[ml]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&j.rel.toLowerCase()==="stylesheet"||l.removeChild(j),j=R}}if(u===0){t.removeChild(h),ao(s);return}u--}else l==="$"||l==="$?"||l==="$!"?u++:i=l.charCodeAt(0)-48;else i=0;l=h}while(l);ao(s)}function Wu(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wu(l),Jc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function KN(t,s,l,i){for(;t.nodeType===1;){var u=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ml])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Gs(t.nextSibling),t===null)break}return null}function ZN(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Gs(t.nextSibling),t===null))return null;return t}function Xu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QN(t,s){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")s();else{var i=function(){s(),l.removeEventListener("DOMContentLoaded",i)};l.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Gs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Ku=null;function fg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return t;s--}else l==="/$"&&s++}t=t.previousSibling}return null}function hg(t,s,l){switch(s=Di(l),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Zl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Jc(t)}var Is=new Map,pg=new Set;function Mi(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var On=G.d;G.d={f:JN,r:e1,D:t1,C:s1,L:n1,m:r1,X:l1,S:a1,M:o1};function JN(){var t=On.f(),s=Si();return t||s}function e1(t){var s=sa(t);s!==null&&s.tag===5&&s.type==="form"?Pp(s):On.r(t)}var La=typeof document>"u"?null:document;function xg(t,s,l){var i=La;if(i&&typeof s=="string"&&s){var u=Us(s);u='link[rel="'+t+'"][href="'+u+'"]',typeof l=="string"&&(u+='[crossorigin="'+l+'"]'),pg.has(u)||(pg.add(u),t={rel:t,crossOrigin:l,href:s},i.querySelector(u)===null&&(s=i.createElement("link"),Zt(s,"link",t),Ft(s),i.head.appendChild(s)))}}function t1(t){On.D(t),xg("dns-prefetch",t,null)}function s1(t,s){On.C(t,s),xg("preconnect",t,s)}function n1(t,s,l){On.L(t,s,l);var i=La;if(i&&t&&s){var u='link[rel="preload"][as="'+Us(s)+'"]';s==="image"&&l&&l.imageSrcSet?(u+='[imagesrcset="'+Us(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(u+='[imagesizes="'+Us(l.imageSizes)+'"]')):u+='[href="'+Us(t)+'"]';var h=u;switch(s){case"style":h=Ua(t);break;case"script":h=za(t)}Is.has(h)||(t=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),Is.set(h,t),i.querySelector(u)!==null||s==="style"&&i.querySelector(Ql(h))||s==="script"&&i.querySelector(Jl(h))||(s=i.createElement("link"),Zt(s,"link",t),Ft(s),i.head.appendChild(s)))}}function r1(t,s){On.m(t,s);var l=La;if(l&&t){var i=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+Us(i)+'"][href="'+Us(t)+'"]',h=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=za(t)}if(!Is.has(h)&&(t=y({rel:"modulepreload",href:t},s),Is.set(h,t),l.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(h)))return}i=l.createElement("link"),Zt(i,"link",t),Ft(i),l.head.appendChild(i)}}}function a1(t,s,l){On.S(t,s,l);var i=La;if(i&&t){var u=na(i).hoistableStyles,h=Ua(t);s=s||"default";var j=u.get(h);if(!j){var R={loading:0,preload:null};if(j=i.querySelector(Ql(h)))R.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},l),(l=Is.get(h))&&Zu(t,l);var B=j=i.createElement("link");Ft(B),Zt(B,"link",t),B._p=new Promise(function(Q,ue){B.onload=Q,B.onerror=ue}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Oi(j,s,i)}j={type:"stylesheet",instance:j,count:1,state:R},u.set(h,j)}}}function l1(t,s){On.X(t,s);var l=La;if(l&&t){var i=na(l).hoistableScripts,u=za(t),h=i.get(u);h||(h=l.querySelector(Jl(u)),h||(t=y({src:t,async:!0},s),(s=Is.get(u))&&Qu(t,s),h=l.createElement("script"),Ft(h),Zt(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(u,h))}}function o1(t,s){On.M(t,s);var l=La;if(l&&t){var i=na(l).hoistableScripts,u=za(t),h=i.get(u);h||(h=l.querySelector(Jl(u)),h||(t=y({src:t,async:!0,type:"module"},s),(s=Is.get(u))&&Qu(t,s),h=l.createElement("script"),Ft(h),Zt(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(u,h))}}function gg(t,s,l,i){var u=(u=ye.current)?Mi(u):null;if(!u)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ua(l.href),l=na(u).hoistableStyles,i=l.get(s),i||(i={type:"style",instance:null,count:0,state:null},l.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ua(l.href);var h=na(u).hoistableStyles,j=h.get(t);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,j),(h=u.querySelector(Ql(t)))&&!h._p&&(j.instance=h,j.state.loading=5),Is.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Is.set(t,l),h||i1(u,t,l,j.state))),s&&i===null)throw Error(o(528,""));return j}if(s&&i!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=za(l),l=na(u).hoistableScripts,i=l.get(s),i||(i={type:"script",instance:null,count:0,state:null},l.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Ua(t){return'href="'+Us(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function yg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function i1(t,s,l,i){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=t.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),Zt(s,"link",l),Ft(s),t.head.appendChild(s))}function za(t){return'[src="'+Us(t)+'"]'}function Jl(t){return"script[async]"+t}function bg(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var i=t.querySelector('style[data-href~="'+Us(l.href)+'"]');if(i)return s.instance=i,Ft(i),i;var u=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ft(i),Zt(i,"style",u),Oi(i,l.precedence,t),s.instance=i;case"stylesheet":u=Ua(l.href);var h=t.querySelector(Ql(u));if(h)return s.state.loading|=4,s.instance=h,Ft(h),h;i=yg(l),(u=Is.get(u))&&Zu(i,u),h=(t.ownerDocument||t).createElement("link"),Ft(h);var j=h;return j._p=new Promise(function(R,B){j.onload=R,j.onerror=B}),Zt(h,"link",i),s.state.loading|=4,Oi(h,l.precedence,t),s.instance=h;case"script":return h=za(l.src),(u=t.querySelector(Jl(h)))?(s.instance=u,Ft(u),u):(i=l,(u=Is.get(h))&&(i=y({},l),Qu(i,u)),t=t.ownerDocument||t,u=t.createElement("script"),Ft(u),Zt(u,"link",i),t.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,Oi(i,l.precedence,t));return s.instance}function Oi(t,s,l){for(var i=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,h=u,j=0;j<i.length;j++){var R=i[j];if(R.dataset.precedence===s)h=R;else if(h!==u)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function Zu(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Qu(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Pi=null;function vg(t,s,l){if(Pi===null){var i=new Map,u=Pi=new Map;u.set(l,i)}else u=Pi,i=u.get(l),i||(i=new Map,u.set(l,i));if(i.has(t))return i;for(i.set(t,null),l=l.getElementsByTagName(t),u=0;u<l.length;u++){var h=l[u];if(!(h[ml]||h[ts]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var j=h.getAttribute(s)||"";j=t+j;var R=i.get(j);R?R.push(h):i.set(j,[h])}}return i}function jg(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function c1(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var eo=null;function d1(){}function u1(t,s,l){if(eo===null)throw Error(o(475));var i=eo;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Ua(l.href),h=t.querySelector(Ql(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Li.bind(i),t.then(i,i)),s.state.loading|=4,s.instance=h,Ft(h);return}h=t.ownerDocument||t,l=yg(l),(u=Is.get(u))&&Zu(l,u),h=h.createElement("link"),Ft(h);var j=h;j._p=new Promise(function(R,B){j.onload=R,j.onerror=B}),Zt(h,"link",l),s.instance=h}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(i.count++,s=Li.bind(i),t.addEventListener("load",s),t.addEventListener("error",s))}}function m1(){if(eo===null)throw Error(o(475));var t=eo;return t.stylesheets&&t.count===0&&Ju(t,t.stylesheets),0<t.count?function(s){var l=setTimeout(function(){if(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l)}}:null}function Li(){if(this.count--,this.count===0){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ui=null;function Ju(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ui=new Map,s.forEach(f1,t),Ui=null,Li.call(t))}function f1(t,s){if(!(s.state.loading&4)){var l=Ui.get(t);if(l)var i=l.get(null);else{l=new Map,Ui.set(t,l);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var j=u[h];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),i=j)}i&&l.set(null,i)}u=s.instance,j=u.getAttribute("data-precedence"),h=l.get(j)||i,h===i&&l.set(null,u),l.set(j,u),this.count++,i=Li.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),h?h.parentNode.insertBefore(u,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),s.state.loading|=4}}var to={$$typeof:D,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function h1(t,s,l,i,u,h,j,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ng(t,s,l,i,u,h,j,R,B,Q,ue,fe){return t=new h1(t,s,l,j,R,B,Q,fe),s=1,h===!0&&(s|=24),h=_s(3,null,null,s),t.current=h,h.stateNode=t,s=Od(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:i,isDehydrated:l,cache:s},zd(h),t}function Sg(t){return t?(t=pa,t):pa}function _g(t,s,l,i,u,h){u=Sg(u),i.context===null?i.context=u:i.pendingContext=u,i=Yn(s),i.payload={element:l},h=h===void 0?null:h,h!==null&&(i.callback=h),l=Gn(t,i,s),l!==null&&(Ts(l,t,s),Al(l,t,s))}function Eg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function em(t,s){Eg(t,s),(t=t.alternate)&&Eg(t,s)}function Cg(t){if(t.tag===13){var s=ha(t,67108864);s!==null&&Ts(s,t,67108864),em(t,67108864)}}var zi=!0;function p1(t,s,l,i){var u=U.T;U.T=null;var h=G.p;try{G.p=2,tm(t,s,l,i)}finally{G.p=h,U.T=u}}function x1(t,s,l,i){var u=U.T;U.T=null;var h=G.p;try{G.p=8,tm(t,s,l,i)}finally{G.p=h,U.T=u}}function tm(t,s,l,i){if(zi){var u=sm(i);if(u===null)Hu(t,s,i,Bi,l),Rg(t,i);else if(y1(u,t,s,l,i))i.stopPropagation();else if(Rg(t,i),s&4&&-1<g1.indexOf(t)){for(;u!==null;){var h=sa(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var j=Ns(h.pendingLanes);if(j!==0){var R=h;for(R.pendingLanes|=2,R.entangledLanes|=2;j;){var B=1<<31-Se(j);R.entanglements[1]|=B,j&=~B}on(h),(Je&6)===0&&(wi=qe()+500,Wl(0))}}break;case 13:R=ha(h,2),R!==null&&Ts(R,h,2),Si(),em(h,2)}if(h=sm(i),h===null&&Hu(t,s,i,Bi,l),h===u)break;u=h}u!==null&&i.stopPropagation()}else Hu(t,s,i,null,l)}}function sm(t){return t=od(t),nm(t)}var Bi=null;function nm(t){if(Bi=null,t=ta(t),t!==null){var s=d(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=m(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Bi=t,null}function kg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case Wt:return 2;case Jt:return 8;case ve:case Ve:return 32;case dt:return 268435456;default:return 32}default:return 32}}var rm=!1,lr=null,or=null,ir=null,so=new Map,no=new Map,cr=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(t,s){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":so.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(s.pointerId)}}function ro(t,s,l,i,u,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:l,eventSystemFlags:i,nativeEvent:h,targetContainers:[u]},s!==null&&(s=sa(s),s!==null&&Cg(s)),t):(t.eventSystemFlags|=i,s=t.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),t)}function y1(t,s,l,i,u){switch(s){case"focusin":return lr=ro(lr,t,s,l,i,u),!0;case"dragenter":return or=ro(or,t,s,l,i,u),!0;case"mouseover":return ir=ro(ir,t,s,l,i,u),!0;case"pointerover":var h=u.pointerId;return so.set(h,ro(so.get(h)||null,t,s,l,i,u)),!0;case"gotpointercapture":return h=u.pointerId,no.set(h,ro(no.get(h)||null,t,s,l,i,u)),!0}return!1}function Tg(t){var s=ta(t.target);if(s!==null){var l=d(s);if(l!==null){if(s=l.tag,s===13){if(s=m(l),s!==null){t.blockedOn=s,uw(t.priority,function(){if(l.tag===13){var i=Rs();i=_e(i);var u=ha(l,i);u!==null&&Ts(u,l,i),em(l,i)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $i(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=sm(t.nativeEvent);if(l===null){l=t.nativeEvent;var i=new l.constructor(l.type,l);ld=i,l.target.dispatchEvent(i),ld=null}else return s=sa(l),s!==null&&Cg(s),t.blockedOn=l,!1;s.shift()}return!0}function Ag(t,s,l){$i(t)&&l.delete(s)}function b1(){rm=!1,lr!==null&&$i(lr)&&(lr=null),or!==null&&$i(or)&&(or=null),ir!==null&&$i(ir)&&(ir=null),so.forEach(Ag),no.forEach(Ag)}function Fi(t,s){t.blockedOn===s&&(t.blockedOn=null,rm||(rm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,b1)))}var Hi=null;function Dg(t){Hi!==t&&(Hi=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hi===t&&(Hi=null);for(var s=0;s<t.length;s+=3){var l=t[s],i=t[s+1],u=t[s+2];if(typeof i!="function"){if(nm(i||l)===null)continue;break}var h=sa(l);h!==null&&(t.splice(s,3),s-=3,nu(h,{pending:!0,data:u,method:l.method,action:i},i,u))}}))}function ao(t){function s(B){return Fi(B,t)}lr!==null&&Fi(lr,t),or!==null&&Fi(or,t),ir!==null&&Fi(ir,t),so.forEach(s),no.forEach(s);for(var l=0;l<cr.length;l++){var i=cr[l];i.blockedOn===t&&(i.blockedOn=null)}for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)Tg(l),l.blockedOn===null&&cr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(i=0;i<l.length;i+=3){var u=l[i],h=l[i+1],j=u[ms]||null;if(typeof h=="function")j||Dg(l);else if(j){var R=null;if(h&&h.hasAttribute("formAction")){if(u=h,j=h[ms]||null)R=j.formAction;else if(nm(u)!==null)continue}else R=j.action;typeof R=="function"?l[i+1]=R:(l.splice(i,3),i-=3),Dg(l)}}}function am(t){this._internalRoot=t}qi.prototype.render=am.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,i=Rs();_g(l,i,t,s,null,null)},qi.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;_g(t.current,2,null,t,null,null),Si(),s[ea]=null}};function qi(t){this._internalRoot=t}qi.prototype.unstable_scheduleHydration=function(t){if(t){var s=bn();t={blockedOn:null,target:t,priority:s};for(var l=0;l<cr.length&&s!==0&&s<cr[l].priority;l++);cr.splice(l,0,t),l===0&&Tg(t)}};var Mg=r.version;if(Mg!=="19.1.0")throw Error(o(527,Mg,"19.1.0"));G.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=g(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var v1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ii.isDisabled&&Ii.supportsFiber)try{q=Ii.inject(v1),ge=Ii}catch{}}return oo.createRoot=function(t,s){if(!c(t))throw Error(o(299));var l=!1,i="",u=Xp,h=Kp,j=Zp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=Ng(t,1,!1,null,null,l,i,u,h,j,R,null),t[ea]=s.current,Fu(t),new am(s)},oo.hydrateRoot=function(t,s,l){if(!c(t))throw Error(o(299));var i=!1,u="",h=Xp,j=Kp,R=Zp,B=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(i=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),s=Ng(t,1,!0,s,l??null,i,u,h,j,R,B,Q),s.context=Sg(null),l=s.current,i=Rs(),i=_e(i),u=Yn(i),u.callback=null,Gn(l,u,i),l=i,s.current.lanes=l,A(s,l),on(s),t[ea]=s.current,Fu(t),new qi(s)},oo.version="19.1.0",oo}var qg;function T1(){if(qg)return im.exports;qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),im.exports=R1(),im.exports}var A1=T1();const D1=Rc(A1);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ig="popstate";function M1(n={}){function r(o,c){let{pathname:d,search:m,hash:f}=o.location;return zm("",{pathname:d,search:m,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){return typeof c=="string"?c:go(c)}return P1(r,a,null,n)}function xt(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function hn(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function O1(){return Math.random().toString(36).substring(2,10)}function Vg(n,r){return{usr:n.state,key:n.key,idx:r}}function zm(n,r,a=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?tl(r):r,state:a,key:r&&r.key||o||O1()}}function go({pathname:n="/",search:r="",hash:a=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function tl(n){let r={};if(n){let a=n.indexOf("#");a>=0&&(r.hash=n.substring(a),n=n.substring(0,a));let o=n.indexOf("?");o>=0&&(r.search=n.substring(o),n=n.substring(0,o)),n&&(r.pathname=n)}return r}function P1(n,r,a,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,m=c.history,f="POP",g=null,x=y();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function y(){return(m.state||{idx:null}).idx}function b(){f="POP";let _=y(),k=_==null?null:_-x;x=_,g&&g({action:f,location:v.location,delta:k})}function w(_,k){f="PUSH";let E=zm(v.location,_,k);x=y()+1;let D=Vg(E,x),L=v.createHref(E);try{m.pushState(D,"",L)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;c.location.assign(L)}d&&g&&g({action:f,location:v.location,delta:1})}function S(_,k){f="REPLACE";let E=zm(v.location,_,k);x=y();let D=Vg(E,x),L=v.createHref(E);m.replaceState(D,"",L),d&&g&&g({action:f,location:v.location,delta:0})}function N(_){return L1(_)}let v={get action(){return f},get location(){return n(c,m)},listen(_){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Ig,b),g=_,()=>{c.removeEventListener(Ig,b),g=null}},createHref(_){return r(c,_)},createURL:N,encodeLocation(_){let k=N(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:S,go(_){return m.go(_)}};return v}function L1(n,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),xt(a,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:go(n);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=a+o),new URL(o,a)}function Ny(n,r,a="/"){return U1(n,r,a,!1)}function U1(n,r,a,o){let c=typeof r=="string"?tl(r):r,d=Bn(c.pathname||"/",a);if(d==null)return null;let m=Sy(n);z1(m);let f=null;for(let g=0;f==null&&g<m.length;++g){let x=X1(d);f=G1(m[g],x,o)}return f}function Sy(n,r=[],a=[],o=""){let c=(d,m,f)=>{let g={relativePath:f===void 0?d.path||"":f,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};g.relativePath.startsWith("/")&&(xt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let x=Ln([o,g.relativePath]),y=a.concat(g);d.children&&d.children.length>0&&(xt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Sy(d.children,r,y,x)),!(d.path==null&&!d.index)&&r.push({path:x,score:V1(x,d.index),routesMeta:y})};return n.forEach((d,m)=>{var f;if(d.path===""||!((f=d.path)!=null&&f.includes("?")))c(d,m);else for(let g of _y(d.path))c(d,m,g)}),r}function _y(n){let r=n.split("/");if(r.length===0)return[];let[a,...o]=r,c=a.endsWith("?"),d=a.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let m=_y(o.join("/")),f=[];return f.push(...m.map(g=>g===""?d:[d,g].join("/"))),c&&f.push(...m),f.map(g=>n.startsWith("/")&&g===""?"/":g)}function z1(n){n.sort((r,a)=>r.score!==a.score?a.score-r.score:Y1(r.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var B1=/^:[\w-]+$/,$1=3,F1=2,H1=1,q1=10,I1=-2,Yg=n=>n==="*";function V1(n,r){let a=n.split("/"),o=a.length;return a.some(Yg)&&(o+=I1),r&&(o+=F1),a.filter(c=>!Yg(c)).reduce((c,d)=>c+(B1.test(d)?$1:d===""?H1:q1),o)}function Y1(n,r){return n.length===r.length&&n.slice(0,-1).every((o,c)=>o===r[c])?n[n.length-1]-r[r.length-1]:0}function G1(n,r,a=!1){let{routesMeta:o}=n,c={},d="/",m=[];for(let f=0;f<o.length;++f){let g=o[f],x=f===o.length-1,y=d==="/"?r:r.slice(d.length)||"/",b=hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},y),w=g.route;if(!b&&x&&a&&!o[o.length-1].route.index&&(b=hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),m.push({params:c,pathname:Ln([d,b.pathname]),pathnameBase:J1(Ln([d,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(d=Ln([d,b.pathnameBase]))}return m}function hc(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,o]=W1(n.path,n.caseSensitive,n.end),c=r.match(a);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:o.reduce((x,{paramName:y,isOptional:b},w)=>{if(y==="*"){let N=f[w]||"";m=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[w];return b&&!S?x[y]=void 0:x[y]=(S||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:m,pattern:n}}function W1(n,r=!1,a=!0){hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,f,g)=>(o.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function X1(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function Bn(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,o=n.charAt(a);return o&&o!=="/"?null:n.slice(a)||"/"}function K1(n,r="/"){let{pathname:a,search:o="",hash:c=""}=typeof n=="string"?tl(n):n;return{pathname:a?a.startsWith("/")?a:Z1(a,r):r,search:e2(o),hash:t2(c)}}function Z1(n,r){let a=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function mm(n,r,a,o){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q1(n){return n.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Ey(n){let r=Q1(n);return r.map((a,o)=>o===r.length-1?a.pathname:a.pathnameBase)}function Cy(n,r,a,o=!1){let c;typeof n=="string"?c=tl(n):(c={...n},xt(!c.pathname||!c.pathname.includes("?"),mm("?","pathname","search",c)),xt(!c.pathname||!c.pathname.includes("#"),mm("#","pathname","hash",c)),xt(!c.search||!c.search.includes("#"),mm("#","search","hash",c)));let d=n===""||c.pathname==="",m=d?"/":c.pathname,f;if(m==null)f=a;else{let b=r.length-1;if(!o&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),b-=1;c.pathname=w.join("/")}f=b>=0?r[b]:"/"}let g=K1(c,f),x=m&&m!=="/"&&m.endsWith("/"),y=(d||m===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(x||y)&&(g.pathname+="/"),g}var Ln=n=>n.join("/").replace(/\/\/+/g,"/"),J1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,t2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ky=["POST","PUT","PATCH","DELETE"];new Set(ky);var n2=["GET",...ky];new Set(n2);var sl=p.createContext(null);sl.displayName="DataRouter";var Tc=p.createContext(null);Tc.displayName="DataRouterState";p.createContext(!1);var Ry=p.createContext({isTransitioning:!1});Ry.displayName="ViewTransition";var r2=p.createContext(new Map);r2.displayName="Fetchers";var a2=p.createContext(null);a2.displayName="Await";var xn=p.createContext(null);xn.displayName="Navigation";var jo=p.createContext(null);jo.displayName="Location";var gn=p.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var ff=p.createContext(null);ff.displayName="RouteError";function l2(n,{relative:r}={}){xt(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=p.useContext(xn),{hash:c,pathname:d,search:m}=No(n,{relative:r}),f=d;return a!=="/"&&(f=d==="/"?a:Ln([a,d])),o.createHref({pathname:f,search:m,hash:c})}function wo(){return p.useContext(jo)!=null}function gr(){return xt(wo(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(jo).location}var Ty="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ay(n){p.useContext(xn).static||p.useLayoutEffect(n)}function ws(){let{isDataRoute:n}=p.useContext(gn);return n?b2():o2()}function o2(){xt(wo(),"useNavigate() may be used only in the context of a <Router> component.");let n=p.useContext(sl),{basename:r,navigator:a}=p.useContext(xn),{matches:o}=p.useContext(gn),{pathname:c}=gr(),d=JSON.stringify(Ey(o)),m=p.useRef(!1);return Ay(()=>{m.current=!0}),p.useCallback((g,x={})=>{if(hn(m.current,Ty),!m.current)return;if(typeof g=="number"){a.go(g);return}let y=Cy(g,JSON.parse(d),c,x.relative==="path");n==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Ln([r,y.pathname])),(x.replace?a.replace:a.push)(y,x.state,x)},[r,a,d,c,n])}p.createContext(null);function en(){let{matches:n}=p.useContext(gn),r=n[n.length-1];return r?r.params:{}}function No(n,{relative:r}={}){let{matches:a}=p.useContext(gn),{pathname:o}=gr(),c=JSON.stringify(Ey(a));return p.useMemo(()=>Cy(n,JSON.parse(c),o,r==="path"),[n,c,o,r])}function i2(n,r){return Dy(n,r)}function Dy(n,r,a,o){var k;xt(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=p.useContext(xn),{matches:d}=p.useContext(gn),m=d[d.length-1],f=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let E=y&&y.path||"";My(g,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=gr(),w;if(r){let E=typeof r=="string"?tl(r):r;xt(x==="/"||((k=E.pathname)==null?void 0:k.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=b;let S=w.pathname||"/",N=S;if(x!=="/"){let E=x.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=Ny(n,{pathname:N});hn(y||v!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=f2(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Ln([x,c.encodeLocation?c.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?x:Ln([x,c.encodeLocation?c.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),d,a,o);return r&&_?p.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function c2(){let n=y2(),r=s2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:d},"ErrorBoundary")," or"," ",p.createElement("code",{style:d},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),a?p.createElement("pre",{style:c},a):null,m)}var d2=p.createElement(c2,null),u2=class extends p.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?p.createElement(gn.Provider,{value:this.props.routeContext},p.createElement(ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:n,match:r,children:a}){let o=p.useContext(sl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(gn.Provider,{value:n},a)}function f2(n,r=[],a=null,o=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let c=n,d=a==null?void 0:a.errors;if(d!=null){let g=c.findIndex(x=>x.route.id&&(d==null?void 0:d[x.route.id])!==void 0);xt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,f=-1;if(a)for(let g=0;g<c.length;g++){let x=c[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=g),x.route.id){let{loaderData:y,errors:b}=a,w=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!b||b[x.route.id]===void 0);if(x.route.lazy||w){m=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((g,x,y)=>{let b,w=!1,S=null,N=null;a&&(b=d&&x.route.id?d[x.route.id]:void 0,S=x.route.errorElement||d2,m&&(f<0&&y===0?(My("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):f===y&&(w=!0,N=x.route.hydrateFallbackElement||null)));let v=r.concat(c.slice(0,y+1)),_=()=>{let k;return b?k=S:w?k=N:x.route.Component?k=p.createElement(x.route.Component,null):x.route.element?k=x.route.element:k=g,p.createElement(m2,{match:x,routeContext:{outlet:g,matches:v,isDataRoute:a!=null},children:k})};return a&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?p.createElement(u2,{location:a.location,revalidation:a.revalidation,component:S,error:b,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}function hf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h2(n){let r=p.useContext(sl);return xt(r,hf(n)),r}function p2(n){let r=p.useContext(Tc);return xt(r,hf(n)),r}function x2(n){let r=p.useContext(gn);return xt(r,hf(n)),r}function pf(n){let r=x2(n),a=r.matches[r.matches.length-1];return xt(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function g2(){return pf("useRouteId")}function y2(){var o;let n=p.useContext(ff),r=p2("useRouteError"),a=pf("useRouteError");return n!==void 0?n:(o=r.errors)==null?void 0:o[a]}function b2(){let{router:n}=h2("useNavigate"),r=pf("useNavigate"),a=p.useRef(!1);return Ay(()=>{a.current=!0}),p.useCallback(async(c,d={})=>{hn(a.current,Ty),a.current&&(typeof c=="number"?n.navigate(c):await n.navigate(c,{fromRouteId:r,...d}))},[n,r])}var Gg={};function My(n,r,a){!r&&!Gg[n]&&(Gg[n]=!0,hn(!1,a))}p.memo(v2);function v2({routes:n,future:r,state:a}){return Dy(n,void 0,a,r)}function ht(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j2({basename:n="/",children:r=null,location:a,navigationType:o="POP",navigator:c,static:d=!1}){xt(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),f=p.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof a=="string"&&(a=tl(a));let{pathname:g="/",search:x="",hash:y="",state:b=null,key:w="default"}=a,S=p.useMemo(()=>{let N=Bn(g,m);return N==null?null:{location:{pathname:N,search:x,hash:y,state:b,key:w},navigationType:o}},[m,g,x,y,b,w,o]);return hn(S!=null,`<Router basename="${m}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:p.createElement(xn.Provider,{value:f},p.createElement(jo.Provider,{children:r,value:S}))}function w2({children:n,location:r}){return i2(Bm(n),r)}function Bm(n,r=[]){let a=[];return p.Children.forEach(n,(o,c)=>{if(!p.isValidElement(o))return;let d=[...r,c];if(o.type===p.Fragment){a.push.apply(a,Bm(o.props.children,d));return}xt(o.type===ht,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Bm(o.props.children,d)),a.push(m)}),a}var rc="get",ac="application/x-www-form-urlencoded";function Ac(n){return n!=null&&typeof n.tagName=="string"}function N2(n){return Ac(n)&&n.tagName.toLowerCase()==="button"}function S2(n){return Ac(n)&&n.tagName.toLowerCase()==="form"}function _2(n){return Ac(n)&&n.tagName.toLowerCase()==="input"}function E2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function C2(n,r){return n.button===0&&(!r||r==="_self")&&!E2(n)}var Vi=null;function k2(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var R2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(n){return n!=null&&!R2.has(n)?(hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):n}function T2(n,r){let a,o,c,d,m;if(S2(n)){let f=n.getAttribute("action");o=f?Bn(f,r):null,a=n.getAttribute("method")||rc,c=fm(n.getAttribute("enctype"))||ac,d=new FormData(n)}else if(N2(n)||_2(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||f.getAttribute("action");if(o=g?Bn(g,r):null,a=n.getAttribute("formmethod")||f.getAttribute("method")||rc,c=fm(n.getAttribute("formenctype"))||fm(f.getAttribute("enctype"))||ac,d=new FormData(f,n),!k2()){let{name:x,type:y,value:b}=n;if(y==="image"){let w=x?`${x}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else x&&d.append(x,b)}}else{if(Ac(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=rc,o=null,c=ac,m=n}return d&&c==="text/plain"&&(m=d,d=void 0),{action:o,method:a.toLowerCase(),encType:c,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xf(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function A2(n,r,a){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${a}`:r&&Bn(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function D2(n,r){if(n.id in r)return r[n.id];try{let a=await import(n.module);return r[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O2(n,r,a){let o=await Promise.all(n.map(async c=>{let d=r.routes[c.route.id];if(d){let m=await D2(d,a);return m.links?m.links():[]}return[]}));return z2(o.flat(1).filter(M2).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Wg(n,r,a,o,c,d){let m=(g,x)=>a[x]?g.route.id!==a[x].route.id:!0,f=(g,x)=>{var y;return a[x].pathname!==g.pathname||((y=a[x].route.path)==null?void 0:y.endsWith("*"))&&a[x].params["*"]!==g.params["*"]};return d==="assets"?r.filter((g,x)=>m(g,x)||f(g,x)):d==="data"?r.filter((g,x)=>{var b;let y=o.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(m(g,x)||f(g,x))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((b=a[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function P2(n,r,{includeHydrateFallback:a}={}){return L2(n.map(o=>{let c=r.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function L2(n){return[...new Set(n)]}function U2(n){let r={},a=Object.keys(n).sort();for(let o of a)r[o]=n[o];return r}function z2(n,r){let a=new Set;return new Set(r),n.reduce((o,c)=>{let d=JSON.stringify(U2(c));return a.has(d)||(a.add(d),o.push({key:d,link:c})),o},[])}function Oy(){let n=p.useContext(sl);return xf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function B2(){let n=p.useContext(Tc);return xf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gf=p.createContext(void 0);gf.displayName="FrameworkContext";function Py(){let n=p.useContext(gf);return xf(n,"You must render this element inside a <HydratedRouter> element"),n}function $2(n,r){let a=p.useContext(gf),[o,c]=p.useState(!1),[d,m]=p.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:x,onMouseLeave:y,onTouchStart:b}=r,w=p.useRef(null);p.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let v=k=>{k.forEach(E=>{m(E.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[n]),p.useEffect(()=>{if(o){let v=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(v)}}},[o]);let S=()=>{c(!0)},N=()=>{c(!1),m(!1)};return a?n!=="intent"?[d,w,{}]:[d,w,{onFocus:io(f,S),onBlur:io(g,N),onMouseEnter:io(x,S),onMouseLeave:io(y,N),onTouchStart:io(b,S)}]:[!1,w,{}]}function io(n,r){return a=>{n&&n(a),a.defaultPrevented||r(a)}}function F2({page:n,...r}){let{router:a}=Oy(),o=p.useMemo(()=>Ny(a.routes,n,a.basename),[a.routes,n,a.basename]);return o?p.createElement(q2,{page:n,matches:o,...r}):null}function H2(n){let{manifest:r,routeModules:a}=Py(),[o,c]=p.useState([]);return p.useEffect(()=>{let d=!1;return O2(n,r,a).then(m=>{d||c(m)}),()=>{d=!0}},[n,r,a]),o}function q2({page:n,matches:r,...a}){let o=gr(),{manifest:c,routeModules:d}=Py(),{basename:m}=Oy(),{loaderData:f,matches:g}=B2(),x=p.useMemo(()=>Wg(n,r,g,c,o,"data"),[n,r,g,c,o]),y=p.useMemo(()=>Wg(n,r,g,c,o,"assets"),[n,r,g,c,o]),b=p.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let N=new Set,v=!1;if(r.forEach(k=>{var D;let E=c.routes[k.route.id];!E||!E.hasLoader||(!x.some(L=>L.route.id===k.route.id)&&k.route.id in f&&((D=d[k.route.id])!=null&&D.shouldRevalidate)||E.hasClientLoader?v=!0:N.add(k.route.id))}),N.size===0)return[];let _=A2(n,m,"data");return v&&N.size>0&&_.searchParams.set("_routes",r.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[m,f,o,c,x,r,n,d]),w=p.useMemo(()=>P2(y,c),[y,c]),S=H2(y);return p.createElement(p.Fragment,null,b.map(N=>p.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),w.map(N=>p.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),S.map(({key:N,link:v})=>p.createElement("link",{key:N,...v})))}function I2(...n){return r=>{n.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var Ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ly&&(window.__reactRouterVersion="7.7.1")}catch{}function V2({basename:n,children:r,window:a}){let o=p.useRef();o.current==null&&(o.current=M1({window:a,v5Compat:!0}));let c=o.current,[d,m]=p.useState({action:c.action,location:c.location}),f=p.useCallback(g=>{p.startTransition(()=>m(g))},[m]);return p.useLayoutEffect(()=>c.listen(f),[c,f]),p.createElement(j2,{basename:n,children:r,location:d.location,navigationType:d.action,navigator:c})}var Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=p.forwardRef(function({onClick:r,discover:a="render",prefetch:o="none",relative:c,reloadDocument:d,replace:m,state:f,target:g,to:x,preventScrollReset:y,viewTransition:b,...w},S){let{basename:N}=p.useContext(xn),v=typeof x=="string"&&Uy.test(x),_,k=!1;if(typeof x=="string"&&v&&(_=x,Ly))try{let T=new URL(window.location.href),P=x.startsWith("//")?new URL(T.protocol+x):new URL(x),F=Bn(P.pathname,N);P.origin===T.origin&&F!=null?x=F+P.search+P.hash:k=!0}catch{hn(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=l2(x,{relative:c}),[D,L,M]=$2(o,w),z=X2(x,{replace:m,state:f,target:g,preventScrollReset:y,relative:c,viewTransition:b});function $(T){r&&r(T),T.defaultPrevented||z(T)}let O=p.createElement("a",{...w,...M,href:_||E,onClick:k||d?r:$,ref:I2(S,L),target:g,"data-discover":!v&&a==="render"?"true":void 0});return D&&!v?p.createElement(p.Fragment,null,O,p.createElement(F2,{page:E})):O});Me.displayName="Link";var Y2=p.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:o="",end:c=!1,style:d,to:m,viewTransition:f,children:g,...x},y){let b=No(m,{relative:x.relative}),w=gr(),S=p.useContext(Tc),{navigator:N,basename:v}=p.useContext(xn),_=S!=null&&eS(b)&&f===!0,k=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,E=w.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(E=E.toLowerCase(),D=D?D.toLowerCase():null,k=k.toLowerCase()),D&&v&&(D=Bn(D,v)||D);const L=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=E===k||!c&&E.startsWith(k)&&E.charAt(L)==="/",z=D!=null&&(D===k||!c&&D.startsWith(k)&&D.charAt(k.length)==="/"),$={isActive:M,isPending:z,isTransitioning:_},O=M?r:void 0,T;typeof o=="function"?T=o($):T=[o,M?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof d=="function"?d($):d;return p.createElement(Me,{...x,"aria-current":O,className:T,ref:y,style:P,to:m,viewTransition:f},typeof g=="function"?g($):g)});Y2.displayName="NavLink";var G2=p.forwardRef(({discover:n="render",fetcherKey:r,navigate:a,reloadDocument:o,replace:c,state:d,method:m=rc,action:f,onSubmit:g,relative:x,preventScrollReset:y,viewTransition:b,...w},S)=>{let N=Q2(),v=J2(f,{relative:x}),_=m.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&Uy.test(f),E=D=>{if(g&&g(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,M=(L==null?void 0:L.getAttribute("formmethod"))||m;N(L||D.currentTarget,{fetcherKey:r,method:M,navigate:a,replace:c,state:d,relative:x,preventScrollReset:y,viewTransition:b})};return p.createElement("form",{ref:S,method:_,action:v,onSubmit:o?g:E,...w,"data-discover":!k&&n==="render"?"true":void 0})});G2.displayName="Form";function W2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zy(n){let r=p.useContext(sl);return xt(r,W2(n)),r}function X2(n,{target:r,replace:a,state:o,preventScrollReset:c,relative:d,viewTransition:m}={}){let f=ws(),g=gr(),x=No(n,{relative:d});return p.useCallback(y=>{if(C2(y,r)){y.preventDefault();let b=a!==void 0?a:go(g)===go(x);f(n,{replace:b,state:o,preventScrollReset:c,relative:d,viewTransition:m})}},[g,f,x,a,o,r,n,c,d,m])}var K2=0,Z2=()=>`__${String(++K2)}__`;function Q2(){let{router:n}=zy("useSubmit"),{basename:r}=p.useContext(xn),a=g2();return p.useCallback(async(o,c={})=>{let{action:d,method:m,encType:f,formData:g,body:x}=T2(o,r);if(c.navigate===!1){let y=c.fetcherKey||Z2();await n.fetch(y,a,c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||m,formEncType:c.encType||f,flushSync:c.flushSync})}else await n.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||m,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,r,a])}function J2(n,{relative:r}={}){let{basename:a}=p.useContext(xn),o=p.useContext(gn);xt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...No(n||".",{relative:r})},m=gr();if(n==null){d.search=m.search;let f=new URLSearchParams(d.search),g=f.getAll("index");if(g.some(y=>y==="")){f.delete("index"),g.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();d.search=y?`?${y}`:""}}return(!n||n===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(d.pathname=d.pathname==="/"?a:Ln([a,d.pathname])),go(d)}function eS(n,{relative:r}={}){let a=p.useContext(Ry);xt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=zy("useViewTransitionState"),c=No(n,{relative:r});if(!a.isTransitioning)return!1;let d=Bn(a.currentLocation.pathname,o)||a.currentLocation.pathname,m=Bn(a.nextLocation.pathname,o)||a.nextLocation.pathname;return hc(c.pathname,m)!=null||hc(c.pathname,d)!=null}var nl=wy();const tS=Rc(nl);class sS{constructor(){this.baseURL="http://localhost:5001/api/auth",this.profileURL="http://localhost:5001/api"}async register(r){try{const o=await(await fetch(`${this.baseURL}/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).json();return o.success?(localStorage.setItem("speedhome_user",JSON.stringify(o.user)),localStorage.setItem("speedhome_authenticated","true"),{success:!0,user:o.user,message:o.message}):{success:!1,error:o.error}}catch(a){return console.error("Registration error:",a),{success:!1,error:"Network error. Please try again."}}}async login(r){try{const o=await(await fetch(`${this.baseURL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).json();return o.success?(localStorage.setItem("speedhome_user",JSON.stringify(o.user)),localStorage.setItem("speedhome_authenticated","true"),{success:!0,user:o.user,message:o.message}):{success:!1,error:o.error}}catch(a){return console.error("Login error:",a),{success:!1,error:"Network error. Please try again."}}}async logout(){try{const r=await fetch(`${this.baseURL}/logout`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});return localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),{success:!0,message:(await r.json()).message||"Logged out successfully"}}catch(r){return console.error("Logout error:",r),localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),{success:!0,message:"Logged out successfully"}}}async getCurrentUser(){try{const a=await(await fetch(`${this.baseURL}/me`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();return a.success?(localStorage.setItem("speedhome_user",JSON.stringify(a.user)),localStorage.setItem("speedhome_authenticated","true"),{success:!0,user:a.user}):(localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),{success:!1,error:a.error})}catch(r){return console.error("Get current user error:",r),{success:!1,error:"Network error. Please try again."}}}async checkSession(){try{const a=await(await fetch(`${this.baseURL}/check-session`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();return a.success&&a.authenticated?(localStorage.setItem("speedhome_user",JSON.stringify(a.user)),localStorage.setItem("speedhome_authenticated","true"),{success:!0,authenticated:!0,user:a.user}):(localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),{success:!0,authenticated:!1})}catch(r){return console.error("Session check error:",r),{success:!1,error:"Network error. Please try again."}}}async updateProfile(r){try{const o=await(await fetch(`${this.profileURL}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).json();return o.success?(localStorage.setItem("speedhome_user",JSON.stringify(o.profile)),{success:!0,profile:o.profile,message:o.message}):{success:!1,error:o.error}}catch(a){return console.error("Profile update error:",a),{success:!1,error:"Network error. Please try again."}}}async changePassword(r){try{return await(await fetch(`${this.baseURL}/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).json()}catch(a){return console.error("Password change error:",a),{success:!1,error:"Network error. Please try again."}}}async forgotPassword(r){try{return await(await fetch(`${this.baseURL}/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r})})).json()}catch(a){return console.error("Forgot password error:",a),{success:!1,error:"Network error. Please try again."}}}async resetPassword(r,a){try{return await(await fetch(`${this.baseURL}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:r,password:a})})).json()}catch(o){return console.error("Reset password error:",o),{success:!1,error:"Network error. Please try again."}}}async verifyEmail(r){try{return await(await fetch(`${this.baseURL}/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:r})})).json()}catch(a){return console.error("Email verification error:",a),{success:!1,error:"Network error. Please try again."}}}async requestEmailVerification(r){try{return await(await fetch(`${this.baseURL}/request-email-verification`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r})})).json()}catch(a){return console.error("Email verification request error:",a),{success:!1,error:"Network error. Please try again."}}}async deleteAccount(){try{const a=await(await fetch(`${this.baseURL}/delete-account`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"})).json();return a.success&&(localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated")),a}catch(r){return console.error("Account deletion error:",r),{success:!1,error:"Network error. Please try again."}}}isAuthenticated(){return localStorage.getItem("speedhome_authenticated")==="true"}getCurrentUserFromStorage(){const r=localStorage.getItem("speedhome_user");return r?JSON.parse(r):null}getUserRole(){const r=this.getCurrentUserFromStorage();return r?r.role:null}isLandlord(){return this.getUserRole()==="landlord"}isTenant(){return this.getUserRole()==="tenant"}}const gs=new sS,By=p.createContext(),Qt=()=>{const n=p.useContext(By);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},nS=({children:n})=>{const[r,a]=p.useState(null),[o,c]=p.useState(!1),[d,m]=p.useState(!0);p.useEffect(()=>{f()},[]);const f=async()=>{try{const O=gs.getCurrentUserFromStorage(),T=gs.isAuthenticated();if(O&&T){a(O),c(!0);try{const P=await gs.checkSession();P.success&&P.authenticated?(a(P.user),c(!0)):(localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),a(null),c(!1))}catch(P){console.error("Session check failed, keeping localStorage data:",P),a(O),c(!0)}}else a(null),c(!1)}catch(O){console.error("Auth initialization error:",O),a(null),c(!1)}finally{m(!1)}},$={user:r,isAuthenticated:o,isLoading:d,login:async O=>{try{const T=await gs.login(O);return T.success?(a(T.user),c(!0),{success:!0,user:T.user}):{success:!1,error:T.error}}catch(T){return console.error("Login error:",T),{success:!1,error:"An unexpected error occurred"}}},register:async O=>{try{const T=await gs.register(O);return T.success?(a(T.user),c(!0),{success:!0,user:T.user,setupRequired:T.setup_required||!1,setupMessage:T.setup_message,nextSteps:T.next_steps,kycEndpoint:T.kyc_endpoint,setupPriority:T.setup_priority}):{success:!1,error:T.error}}catch(T){return console.error("Registration error:",T),{success:!1,error:"An unexpected error occurred"}}},logout:async()=>{try{return await gs.logout(),a(null),c(!1),window.location.href="/",{success:!0}}catch(O){return console.error("Logout error:",O),a(null),c(!1),{success:!0}}},updateProfile:async O=>{try{const T=await gs.updateProfile(O);return T.success?(a(T.profile),{success:!0,profile:T.profile}):{success:!1,error:T.error}}catch(T){return console.error("Profile update error:",T),{success:!1,error:"An unexpected error occurred"}}},refreshUser:async()=>{try{const O=await gs.getCurrentUser();return O.success?(a(O.user),c(!0),{success:!0,user:O.user}):(a(null),c(!1),{success:!1,error:O.error})}catch(O){return console.error("Refresh user error:",O),{success:!1,error:"An unexpected error occurred"}}},changePassword:async(O,T)=>{try{const P=await gs.changePassword(O,T);return P.success?{success:!0}:{success:!1,error:P.error}}catch(P){return console.error("Password change error:",P),{success:!1,error:"An unexpected error occurred"}}},deleteAccount:async()=>{try{const O=await gs.deleteAccount();return O.success?(a(null),c(!1),localStorage.removeItem("speedhome_user"),localStorage.removeItem("speedhome_authenticated"),{success:!0}):{success:!1,error:O.error}}catch(O){return console.error("Account deletion error:",O),{success:!1,error:"An unexpected error occurred"}}},requestPasswordReset:async O=>{try{return await gs.forgotPassword(O)}catch(T){return console.error("Password reset request error:",T),{success:!1,error:"An unexpected error occurred"}}},resetPassword:async(O,T)=>{try{return await gs.resetPassword(O,T)}catch(P){return console.error("Password reset error:",P),{success:!1,error:"An unexpected error occurred"}}},verifyEmail:async O=>{try{const T=await gs.verifyEmail(O);return T.success&&T.user&&(a(T.user),localStorage.setItem("speedhome_user",JSON.stringify(T.user))),T}catch(T){return console.error("Email verification error:",T),{success:!1,error:"An unexpected error occurred"}}},requestEmailVerification:async O=>{try{return await gs.requestEmailVerification(O)}catch(T){return console.error("Email verification request error:",T),{success:!1,error:"An unexpected error occurred"}}},checkKYCStatus:async()=>{try{const T=await(await fetch("/api/auth/kyc-status",{credentials:"include"})).json();return T.success?T:{success:!1,error:"Failed to check KYC status"}}catch(O){return console.error("KYC status check error:",O),{success:!1,error:"Network error"}}},isLandlord:()=>r&&r.role==="landlord",isTenant:()=>r&&r.role==="tenant",getUserFullName:()=>r&&(r.full_name||r.username)||""};return e.jsx(By.Provider,{value:$,children:n})},rS=({isOpen:n,onClose:r,onSuccess:a,onSwitchToRegister:o})=>{const{login:c}=Qt(),[d,m]=p.useState({username:"",password:""}),[f,g]=p.useState({}),[x,y]=p.useState(!1),b=v=>{const{name:_,value:k}=v.target;m(E=>({...E,[_]:k})),f[_]&&g(E=>({...E,[_]:""}))},w=()=>{const v={};return d.username.trim()||(v.username="Username or email is required"),d.password||(v.password="Password is required"),g(v),Object.keys(v).length===0},S=async v=>{if(v.preventDefault(),!!w()){y(!0);try{const _=await c(d);_.success?(m({username:"",password:""}),g({}),a(_.user),r()):g({general:_.error})}catch{g({general:"An unexpected error occurred. Please try again."})}finally{y(!1)}}},N=()=>{m({username:"",password:""}),g({}),r()};return n?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Login"}),e.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.general&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:f.general}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username or Email"}),e.jsx("input",{type:"text",id:"username",name:"username",value:d.username,onChange:b,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.username?"border-red-500":"border-gray-300"}`,placeholder:"Enter your username or email"}),f.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:d.password,onChange:b,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter your password"}),f.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.password})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>{alert("Forgot password functionality will be implemented soon!")},children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:x,className:`w-full py-2 px-4 rounded-md text-white font-medium ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}`,children:x?"Logging in...":"Login"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign up"})]})})]})}):null};function lt(n,r,{checkForDefaultPrevented:a=!0}={}){return function(c){if(n==null||n(c),a===!1||!c.defaultPrevented)return r==null?void 0:r(c)}}function Xg(n,r){if(typeof n=="function")return n(r);n!=null&&(n.current=r)}function $y(...n){return r=>{let a=!1;const o=n.map(c=>{const d=Xg(c,r);return!a&&typeof d=="function"&&(a=!0),d});if(a)return()=>{for(let c=0;c<o.length;c++){const d=o[c];typeof d=="function"?d():Xg(n[c],null)}}}}function yt(...n){return p.useCallback($y(...n),n)}function aS(n,r){const a=p.createContext(r),o=d=>{const{children:m,...f}=d,g=p.useMemo(()=>f,Object.values(f));return e.jsx(a.Provider,{value:g,children:m})};o.displayName=n+"Provider";function c(d){const m=p.useContext(a);if(m)return m;if(r!==void 0)return r;throw new Error(`\`${d}\` must be used within \`${n}\``)}return[o,c]}function rl(n,r=[]){let a=[];function o(d,m){const f=p.createContext(m),g=a.length;a=[...a,m];const x=b=>{var k;const{scope:w,children:S,...N}=b,v=((k=w==null?void 0:w[n])==null?void 0:k[g])||f,_=p.useMemo(()=>N,Object.values(N));return e.jsx(v.Provider,{value:_,children:S})};x.displayName=d+"Provider";function y(b,w){var v;const S=((v=w==null?void 0:w[n])==null?void 0:v[g])||f,N=p.useContext(S);if(N)return N;if(m!==void 0)return m;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[x,y]}const c=()=>{const d=a.map(m=>p.createContext(m));return function(f){const g=(f==null?void 0:f[n])||d;return p.useMemo(()=>({[`__scope${n}`]:{...f,[n]:g}}),[f,g])}};return c.scopeName=n,[o,lS(c,...r)]}function lS(...n){const r=n[0];if(n.length===1)return r;const a=()=>{const o=n.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const m=o.reduce((f,{useScope:g,scopeName:x})=>{const b=g(d)[`__scope${x}`];return{...f,...b}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:m}),[m])}};return a.scopeName=r.scopeName,a}var ls=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},oS=jy[" useId ".trim().toString()]||(()=>{}),iS=0;function Ga(n){const[r,a]=p.useState(oS());return ls(()=>{a(o=>o??String(iS++))},[n]),n||(r?`radix-${r}`:"")}var cS=jy[" useInsertionEffect ".trim().toString()]||ls;function pc({prop:n,defaultProp:r,onChange:a=()=>{},caller:o}){const[c,d,m]=dS({defaultProp:r,onChange:a}),f=n!==void 0,g=f?n:c;{const y=p.useRef(n!==void 0);p.useEffect(()=>{const b=y.current;b!==f&&console.warn(`${o} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,o])}const x=p.useCallback(y=>{var b;if(f){const w=uS(y)?y(n):y;w!==n&&((b=m.current)==null||b.call(m,w))}else d(y)},[f,n,d,m]);return[g,x]}function dS({defaultProp:n,onChange:r}){const[a,o]=p.useState(n),c=p.useRef(a),d=p.useRef(r);return cS(()=>{d.current=r},[r]),p.useEffect(()=>{var m;c.current!==a&&((m=d.current)==null||m.call(d,a),c.current=a)},[a,c]),[a,o,d]}function uS(n){return typeof n=="function"}function Ka(n){const r=mS(n),a=p.forwardRef((o,c)=>{const{children:d,...m}=o,f=p.Children.toArray(d),g=f.find(hS);if(g){const x=g.props.children,y=f.map(b=>b===g?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:b);return e.jsx(r,{...m,ref:c,children:p.isValidElement(x)?p.cloneElement(x,void 0,y):null})}return e.jsx(r,{...m,ref:c,children:d})});return a.displayName=`${n}.Slot`,a}var Fy=Ka("Slot");function mS(n){const r=p.forwardRef((a,o)=>{const{children:c,...d}=a;if(p.isValidElement(c)){const m=xS(c),f=pS(d,c.props);return c.type!==p.Fragment&&(f.ref=o?$y(o,m):m),p.cloneElement(c,f)}return p.Children.count(c)>1?p.Children.only(null):null});return r.displayName=`${n}.SlotClone`,r}var fS=Symbol("radix.slottable");function hS(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===fS}function pS(n,r){const a={...r};for(const o in r){const c=n[o],d=r[o];/^on[A-Z]/.test(o)?c&&d?a[o]=(...f)=>{const g=d(...f);return c(...f),g}:c&&(a[o]=c):o==="style"?a[o]={...c,...d}:o==="className"&&(a[o]=[c,d].filter(Boolean).join(" "))}return{...n,...a}}function xS(n){var o,c;let r=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?n.ref:(r=(c=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:c.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?n.props.ref:n.props.ref||n.ref)}var gS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=gS.reduce((n,r)=>{const a=Ka(`Primitive.${r}`),o=p.forwardRef((c,d)=>{const{asChild:m,...f}=c,g=m?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...f,ref:d})});return o.displayName=`Primitive.${r}`,{...n,[r]:o}},{});function yS(n,r){n&&nl.flushSync(()=>n.dispatchEvent(r))}function Vr(n){const r=p.useRef(n);return p.useEffect(()=>{r.current=n}),p.useMemo(()=>(...a)=>{var o;return(o=r.current)==null?void 0:o.call(r,...a)},[])}function bS(n,r=globalThis==null?void 0:globalThis.document){const a=Vr(n);p.useEffect(()=>{const o=c=>{c.key==="Escape"&&a(c)};return r.addEventListener("keydown",o,{capture:!0}),()=>r.removeEventListener("keydown",o,{capture:!0})},[a,r])}var vS="DismissableLayer",$m="dismissableLayer.update",jS="dismissableLayer.pointerDownOutside",wS="dismissableLayer.focusOutside",Kg,Hy=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yf=p.forwardRef((n,r)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:m,onDismiss:f,...g}=n,x=p.useContext(Hy),[y,b]=p.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=p.useState({}),N=yt(r,$=>b($)),v=Array.from(x.layers),[_]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(_),E=y?v.indexOf(y):-1,D=x.layersWithOutsidePointerEventsDisabled.size>0,L=E>=k,M=_S($=>{const O=$.target,T=[...x.branches].some(P=>P.contains(O));!L||T||(c==null||c($),m==null||m($),$.defaultPrevented||f==null||f())},w),z=ES($=>{const O=$.target;[...x.branches].some(P=>P.contains(O))||(d==null||d($),m==null||m($),$.defaultPrevented||f==null||f())},w);return bS($=>{E===x.layers.size-1&&(o==null||o($),!$.defaultPrevented&&f&&($.preventDefault(),f()))},w),p.useEffect(()=>{if(y)return a&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Kg=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(y)),x.layers.add(y),Zg(),()=>{a&&x.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Kg)}},[y,w,a,x]),p.useEffect(()=>()=>{y&&(x.layers.delete(y),x.layersWithOutsidePointerEventsDisabled.delete(y),Zg())},[y,x]),p.useEffect(()=>{const $=()=>S({});return document.addEventListener($m,$),()=>document.removeEventListener($m,$)},[]),e.jsx(We.div,{...g,ref:N,style:{pointerEvents:D?L?"auto":"none":void 0,...n.style},onFocusCapture:lt(n.onFocusCapture,z.onFocusCapture),onBlurCapture:lt(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:lt(n.onPointerDownCapture,M.onPointerDownCapture)})});yf.displayName=vS;var NS="DismissableLayerBranch",SS=p.forwardRef((n,r)=>{const a=p.useContext(Hy),o=p.useRef(null),c=yt(r,o);return p.useEffect(()=>{const d=o.current;if(d)return a.branches.add(d),()=>{a.branches.delete(d)}},[a.branches]),e.jsx(We.div,{...n,ref:c})});SS.displayName=NS;function _S(n,r=globalThis==null?void 0:globalThis.document){const a=Vr(n),o=p.useRef(!1),c=p.useRef(()=>{});return p.useEffect(()=>{const d=f=>{if(f.target&&!o.current){let g=function(){qy(jS,a,x,{discrete:!0})};const x={originalEvent:f};f.pointerType==="touch"?(r.removeEventListener("click",c.current),c.current=g,r.addEventListener("click",c.current,{once:!0})):g()}else r.removeEventListener("click",c.current);o.current=!1},m=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",d),r.removeEventListener("click",c.current)}},[r,a]),{onPointerDownCapture:()=>o.current=!0}}function ES(n,r=globalThis==null?void 0:globalThis.document){const a=Vr(n),o=p.useRef(!1);return p.useEffect(()=>{const c=d=>{d.target&&!o.current&&qy(wS,a,{originalEvent:d},{discrete:!1})};return r.addEventListener("focusin",c),()=>r.removeEventListener("focusin",c)},[r,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Zg(){const n=new CustomEvent($m);document.dispatchEvent(n)}function qy(n,r,a,{discrete:o}){const c=a.originalEvent.target,d=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:a});r&&c.addEventListener(n,r,{once:!0}),o?yS(c,d):c.dispatchEvent(d)}var hm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",Qg={bubbles:!1,cancelable:!0},CS="FocusScope",bf=p.forwardRef((n,r)=>{const{loop:a=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...m}=n,[f,g]=p.useState(null),x=Vr(c),y=Vr(d),b=p.useRef(null),w=yt(r,v=>g(v)),S=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(o){let v=function(D){if(S.paused||!f)return;const L=D.target;f.contains(L)?b.current=L:fr(b.current,{select:!0})},_=function(D){if(S.paused||!f)return;const L=D.relatedTarget;L!==null&&(f.contains(L)||fr(b.current,{select:!0}))},k=function(D){if(document.activeElement===document.body)for(const M of D)M.removedNodes.length>0&&fr(f)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const E=new MutationObserver(k);return f&&E.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),E.disconnect()}}},[o,f,S.paused]),p.useEffect(()=>{if(f){e0.add(S);const v=document.activeElement;if(!f.contains(v)){const k=new CustomEvent(hm,Qg);f.addEventListener(hm,x),f.dispatchEvent(k),k.defaultPrevented||(kS(MS(Iy(f)),{select:!0}),document.activeElement===v&&fr(f))}return()=>{f.removeEventListener(hm,x),setTimeout(()=>{const k=new CustomEvent(pm,Qg);f.addEventListener(pm,y),f.dispatchEvent(k),k.defaultPrevented||fr(v??document.body,{select:!0}),f.removeEventListener(pm,y),e0.remove(S)},0)}}},[f,x,y,S]);const N=p.useCallback(v=>{if(!a&&!o||S.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(_&&k){const E=v.currentTarget,[D,L]=RS(E);D&&L?!v.shiftKey&&k===L?(v.preventDefault(),a&&fr(D,{select:!0})):v.shiftKey&&k===D&&(v.preventDefault(),a&&fr(L,{select:!0})):k===E&&v.preventDefault()}},[a,o,S.paused]);return e.jsx(We.div,{tabIndex:-1,...m,ref:w,onKeyDown:N})});bf.displayName=CS;function kS(n,{select:r=!1}={}){const a=document.activeElement;for(const o of n)if(fr(o,{select:r}),document.activeElement!==a)return}function RS(n){const r=Iy(n),a=Jg(r,n),o=Jg(r.reverse(),n);return[a,o]}function Iy(n){const r=[],a=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)r.push(a.currentNode);return r}function Jg(n,r){for(const a of n)if(!TS(a,{upTo:r}))return a}function TS(n,{upTo:r}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(r!==void 0&&n===r)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function AS(n){return n instanceof HTMLInputElement&&"select"in n}function fr(n,{select:r=!1}={}){if(n&&n.focus){const a=document.activeElement;n.focus({preventScroll:!0}),n!==a&&AS(n)&&r&&n.select()}}var e0=DS();function DS(){let n=[];return{add(r){const a=n[0];r!==a&&(a==null||a.pause()),n=t0(n,r),n.unshift(r)},remove(r){var a;n=t0(n,r),(a=n[0])==null||a.resume()}}}function t0(n,r){const a=[...n],o=a.indexOf(r);return o!==-1&&a.splice(o,1),a}function MS(n){return n.filter(r=>r.tagName!=="A")}var OS="Portal",vf=p.forwardRef((n,r)=>{var f;const{container:a,...o}=n,[c,d]=p.useState(!1);ls(()=>d(!0),[]);const m=a||c&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return m?tS.createPortal(e.jsx(We.div,{...o,ref:r}),m):null});vf.displayName=OS;function PS(n,r){return p.useReducer((a,o)=>r[a][o]??a,n)}var So=n=>{const{present:r,children:a}=n,o=LS(r),c=typeof a=="function"?a({present:o.isPresent}):p.Children.only(a),d=yt(o.ref,US(c));return typeof a=="function"||o.isPresent?p.cloneElement(c,{ref:d}):null};So.displayName="Presence";function LS(n){const[r,a]=p.useState(),o=p.useRef(null),c=p.useRef(n),d=p.useRef("none"),m=n?"mounted":"unmounted",[f,g]=PS(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const x=Yi(o.current);d.current=f==="mounted"?x:"none"},[f]),ls(()=>{const x=o.current,y=c.current;if(y!==n){const w=d.current,S=Yi(x);n?g("MOUNT"):S==="none"||(x==null?void 0:x.display)==="none"?g("UNMOUNT"):g(y&&w!==S?"ANIMATION_OUT":"UNMOUNT"),c.current=n}},[n,g]),ls(()=>{if(r){let x;const y=r.ownerDocument.defaultView??window,b=S=>{const v=Yi(o.current).includes(S.animationName);if(S.target===r&&v&&(g("ANIMATION_END"),!c.current)){const _=r.style.animationFillMode;r.style.animationFillMode="forwards",x=y.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=_)})}},w=S=>{S.target===r&&(d.current=Yi(o.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",b),r.addEventListener("animationend",b),()=>{y.clearTimeout(x),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",b),r.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[r,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(x=>{o.current=x?getComputedStyle(x):null,a(x)},[])}}function Yi(n){return(n==null?void 0:n.animationName)||"none"}function US(n){var o,c;let r=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?n.ref:(r=(c=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:c.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?n.props.ref:n.props.ref||n.ref)}var xm=0;function Vy(){p.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??s0()),document.body.insertAdjacentElement("beforeend",n[1]??s0()),xm++,()=>{xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xm--}},[])}function s0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var un=function(){return un=Object.assign||function(r){for(var a,o=1,c=arguments.length;o<c;o++){a=arguments[o];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r},un.apply(this,arguments)};function Yy(n,r){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)r.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(a[o[c]]=n[o[c]]);return a}function zS(n,r,a){if(a||arguments.length===2)for(var o=0,c=r.length,d;o<c;o++)(d||!(o in r))&&(d||(d=Array.prototype.slice.call(r,0,o)),d[o]=r[o]);return n.concat(d||Array.prototype.slice.call(r))}var lc="right-scroll-bar-position",oc="width-before-scroll-bar",BS="with-scroll-bars-hidden",$S="--removed-body-scroll-bar-size";function gm(n,r){return typeof n=="function"?n(r):n&&(n.current=r),n}function FS(n,r){var a=p.useState(function(){return{value:n,callback:r,facade:{get current(){return a.value},set current(o){var c=a.value;c!==o&&(a.value=o,a.callback(o,c))}}}})[0];return a.callback=r,a.facade}var HS=typeof window<"u"?p.useLayoutEffect:p.useEffect,n0=new WeakMap;function qS(n,r){var a=FS(null,function(o){return n.forEach(function(c){return gm(c,o)})});return HS(function(){var o=n0.get(a);if(o){var c=new Set(o),d=new Set(n),m=a.current;c.forEach(function(f){d.has(f)||gm(f,null)}),d.forEach(function(f){c.has(f)||gm(f,m)})}n0.set(a,n)},[n]),a}function IS(n){return n}function VS(n,r){r===void 0&&(r=IS);var a=[],o=!1,c={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:n},useMedium:function(d){var m=r(d,o);return a.push(m),function(){a=a.filter(function(f){return f!==m})}},assignSyncMedium:function(d){for(o=!0;a.length;){var m=a;a=[],m.forEach(d)}a={push:function(f){return d(f)},filter:function(){return a}}},assignMedium:function(d){o=!0;var m=[];if(a.length){var f=a;a=[],f.forEach(d),m=a}var g=function(){var y=m;m=[],y.forEach(d)},x=function(){return Promise.resolve().then(g)};x(),a={push:function(y){m.push(y),x()},filter:function(y){return m=m.filter(y),a}}}};return c}function YS(n){n===void 0&&(n={});var r=VS(null);return r.options=un({async:!0,ssr:!1},n),r}var Gy=function(n){var r=n.sideCar,a=Yy(n,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=r.read();if(!o)throw new Error("Sidecar medium not found");return p.createElement(o,un({},a))};Gy.isSideCarExport=!0;function GS(n,r){return n.useMedium(r),Gy}var Wy=YS(),ym=function(){},Dc=p.forwardRef(function(n,r){var a=p.useRef(null),o=p.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),c=o[0],d=o[1],m=n.forwardProps,f=n.children,g=n.className,x=n.removeScrollBar,y=n.enabled,b=n.shards,w=n.sideCar,S=n.noRelative,N=n.noIsolation,v=n.inert,_=n.allowPinchZoom,k=n.as,E=k===void 0?"div":k,D=n.gapMode,L=Yy(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=w,z=qS([a,r]),$=un(un({},L),c);return p.createElement(p.Fragment,null,y&&p.createElement(M,{sideCar:Wy,removeScrollBar:x,shards:b,noRelative:S,noIsolation:N,inert:v,setCallbacks:d,allowPinchZoom:!!_,lockRef:a,gapMode:D}),m?p.cloneElement(p.Children.only(f),un(un({},$),{ref:z})):p.createElement(E,un({},$,{className:g,ref:z}),f))});Dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dc.classNames={fullWidth:oc,zeroRight:lc};var WS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XS(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var r=WS();return r&&n.setAttribute("nonce",r),n}function KS(n,r){n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}function ZS(n){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(n)}var QS=function(){var n=0,r=null;return{add:function(a){n==0&&(r=XS())&&(KS(r,a),ZS(r)),n++},remove:function(){n--,!n&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},JS=function(){var n=QS();return function(r,a){p.useEffect(function(){return n.add(r),function(){n.remove()}},[r&&a])}},Xy=function(){var n=JS(),r=function(a){var o=a.styles,c=a.dynamic;return n(o,c),null};return r},e_={left:0,top:0,right:0,gap:0},bm=function(n){return parseInt(n||"",10)||0},t_=function(n){var r=window.getComputedStyle(document.body),a=r[n==="padding"?"paddingLeft":"marginLeft"],o=r[n==="padding"?"paddingTop":"marginTop"],c=r[n==="padding"?"paddingRight":"marginRight"];return[bm(a),bm(o),bm(c)]},s_=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return e_;var r=t_(n),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,o-a+r[2]-r[0])}},n_=Xy(),Wa="data-scroll-locked",r_=function(n,r,a,o){var c=n.left,d=n.top,m=n.right,f=n.gap;return a===void 0&&(a="margin"),`
  .`.concat(BS,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(oc,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(oc," .").concat(oc,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat($S,": ").concat(f,`px;
  }
`)},r0=function(){var n=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(n)?n:0},a_=function(){p.useEffect(function(){return document.body.setAttribute(Wa,(r0()+1).toString()),function(){var n=r0()-1;n<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,n.toString())}},[])},l_=function(n){var r=n.noRelative,a=n.noImportant,o=n.gapMode,c=o===void 0?"margin":o;a_();var d=p.useMemo(function(){return s_(c)},[c]);return p.createElement(n_,{styles:r_(d,!r,c,a?"":"!important")})},Fm=!1;if(typeof window<"u")try{var Gi=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Fm=!1}var Ba=Fm?{passive:!1}:!1,o_=function(n){return n.tagName==="TEXTAREA"},Ky=function(n,r){if(!(n instanceof Element))return!1;var a=window.getComputedStyle(n);return a[r]!=="hidden"&&!(a.overflowY===a.overflowX&&!o_(n)&&a[r]==="visible")},i_=function(n){return Ky(n,"overflowY")},c_=function(n){return Ky(n,"overflowX")},a0=function(n,r){var a=r.ownerDocument,o=r;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=Zy(n,o);if(c){var d=Qy(n,o),m=d[1],f=d[2];if(m>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},d_=function(n){var r=n.scrollTop,a=n.scrollHeight,o=n.clientHeight;return[r,a,o]},u_=function(n){var r=n.scrollLeft,a=n.scrollWidth,o=n.clientWidth;return[r,a,o]},Zy=function(n,r){return n==="v"?i_(r):c_(r)},Qy=function(n,r){return n==="v"?d_(r):u_(r)},m_=function(n,r){return n==="h"&&r==="rtl"?-1:1},f_=function(n,r,a,o,c){var d=m_(n,window.getComputedStyle(r).direction),m=d*o,f=a.target,g=r.contains(f),x=!1,y=m>0,b=0,w=0;do{if(!f)break;var S=Qy(n,f),N=S[0],v=S[1],_=S[2],k=v-_-d*N;(N||k)&&Zy(n,f)&&(b+=k,w+=N);var E=f.parentNode;f=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!g&&f!==document.body||g&&(r.contains(f)||r===f));return(y&&Math.abs(b)<1||!y&&Math.abs(w)<1)&&(x=!0),x},Wi=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},l0=function(n){return[n.deltaX,n.deltaY]},o0=function(n){return n&&"current"in n?n.current:n},h_=function(n,r){return n[0]===r[0]&&n[1]===r[1]},p_=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},x_=0,$a=[];function g_(n){var r=p.useRef([]),a=p.useRef([0,0]),o=p.useRef(),c=p.useState(x_++)[0],d=p.useState(Xy)[0],m=p.useRef(n);p.useEffect(function(){m.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(c));var v=zS([n.lockRef.current],(n.shards||[]).map(o0),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(c))})}}},[n.inert,n.lockRef.current,n.shards]);var f=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!m.current.allowPinchZoom;var k=Wi(v),E=a.current,D="deltaX"in v?v.deltaX:E[0]-k[0],L="deltaY"in v?v.deltaY:E[1]-k[1],M,z=v.target,$=Math.abs(D)>Math.abs(L)?"h":"v";if("touches"in v&&$==="h"&&z.type==="range")return!1;var O=a0($,z);if(!O)return!0;if(O?M=$:(M=$==="v"?"h":"v",O=a0($,z)),!O)return!1;if(!o.current&&"changedTouches"in v&&(D||L)&&(o.current=M),!M)return!0;var T=o.current||M;return f_(T,_,v,T==="h"?D:L)},[]),g=p.useCallback(function(v){var _=v;if(!(!$a.length||$a[$a.length-1]!==d)){var k="deltaY"in _?l0(_):Wi(_),E=r.current.filter(function(M){return M.name===_.type&&(M.target===_.target||_.target===M.shadowParent)&&h_(M.delta,k)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var D=(m.current.shards||[]).map(o0).filter(Boolean).filter(function(M){return M.contains(_.target)}),L=D.length>0?f(_,D[0]):!m.current.noIsolation;L&&_.cancelable&&_.preventDefault()}}},[]),x=p.useCallback(function(v,_,k,E){var D={name:v,delta:_,target:k,should:E,shadowParent:y_(k)};r.current.push(D),setTimeout(function(){r.current=r.current.filter(function(L){return L!==D})},1)},[]),y=p.useCallback(function(v){a.current=Wi(v),o.current=void 0},[]),b=p.useCallback(function(v){x(v.type,l0(v),v.target,f(v,n.lockRef.current))},[]),w=p.useCallback(function(v){x(v.type,Wi(v),v.target,f(v,n.lockRef.current))},[]);p.useEffect(function(){return $a.push(d),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:w}),document.addEventListener("wheel",g,Ba),document.addEventListener("touchmove",g,Ba),document.addEventListener("touchstart",y,Ba),function(){$a=$a.filter(function(v){return v!==d}),document.removeEventListener("wheel",g,Ba),document.removeEventListener("touchmove",g,Ba),document.removeEventListener("touchstart",y,Ba)}},[]);var S=n.removeScrollBar,N=n.inert;return p.createElement(p.Fragment,null,N?p.createElement(d,{styles:p_(c)}):null,S?p.createElement(l_,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function y_(n){for(var r=null;n!==null;)n instanceof ShadowRoot&&(r=n.host,n=n.host),n=n.parentNode;return r}const b_=GS(Wy,g_);var jf=p.forwardRef(function(n,r){return p.createElement(Dc,un({},n,{ref:r,sideCar:b_}))});jf.classNames=Dc.classNames;var v_=function(n){if(typeof document>"u")return null;var r=Array.isArray(n)?n[0]:n;return r.ownerDocument.body},Fa=new WeakMap,Xi=new WeakMap,Ki={},vm=0,Jy=function(n){return n&&(n.host||Jy(n.parentNode))},j_=function(n,r){return r.map(function(a){if(n.contains(a))return a;var o=Jy(a);return o&&n.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",n,". Doing nothing"),null)}).filter(function(a){return!!a})},w_=function(n,r,a,o){var c=j_(r,Array.isArray(n)?n:[n]);Ki[a]||(Ki[a]=new WeakMap);var d=Ki[a],m=[],f=new Set,g=new Set(c),x=function(b){!b||f.has(b)||(f.add(b),x(b.parentNode))};c.forEach(x);var y=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(w){if(f.has(w))y(w);else try{var S=w.getAttribute(o),N=S!==null&&S!=="false",v=(Fa.get(w)||0)+1,_=(d.get(w)||0)+1;Fa.set(w,v),d.set(w,_),m.push(w),v===1&&N&&Xi.set(w,!0),_===1&&w.setAttribute(a,"true"),N||w.setAttribute(o,"true")}catch(k){console.error("aria-hidden: cannot operate on ",w,k)}})};return y(r),f.clear(),vm++,function(){m.forEach(function(b){var w=Fa.get(b)-1,S=d.get(b)-1;Fa.set(b,w),d.set(b,S),w||(Xi.has(b)||b.removeAttribute(o),Xi.delete(b)),S||b.removeAttribute(a)}),vm--,vm||(Fa=new WeakMap,Fa=new WeakMap,Xi=new WeakMap,Ki={})}},eb=function(n,r,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(n)?n:[n]),c=v_(n);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),w_(o,c,a,"aria-hidden")):function(){return null}},Mc="Dialog",[tb,WR]=rl(Mc),[N_,tn]=tb(Mc),sb=n=>{const{__scopeDialog:r,children:a,open:o,defaultOpen:c,onOpenChange:d,modal:m=!0}=n,f=p.useRef(null),g=p.useRef(null),[x,y]=pc({prop:o,defaultProp:c??!1,onChange:d,caller:Mc});return e.jsx(N_,{scope:r,triggerRef:f,contentRef:g,contentId:Ga(),titleId:Ga(),descriptionId:Ga(),open:x,onOpenChange:y,onOpenToggle:p.useCallback(()=>y(b=>!b),[y]),modal:m,children:a})};sb.displayName=Mc;var nb="DialogTrigger",S_=p.forwardRef((n,r)=>{const{__scopeDialog:a,...o}=n,c=tn(nb,a),d=yt(r,c.triggerRef);return e.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Sf(c.open),...o,ref:d,onClick:lt(n.onClick,c.onOpenToggle)})});S_.displayName=nb;var wf="DialogPortal",[__,rb]=tb(wf,{forceMount:void 0}),ab=n=>{const{__scopeDialog:r,forceMount:a,children:o,container:c}=n,d=tn(wf,r);return e.jsx(__,{scope:r,forceMount:a,children:p.Children.map(o,m=>e.jsx(So,{present:a||d.open,children:e.jsx(vf,{asChild:!0,container:c,children:m})}))})};ab.displayName=wf;var xc="DialogOverlay",lb=p.forwardRef((n,r)=>{const a=rb(xc,n.__scopeDialog),{forceMount:o=a.forceMount,...c}=n,d=tn(xc,n.__scopeDialog);return d.modal?e.jsx(So,{present:o||d.open,children:e.jsx(C_,{...c,ref:r})}):null});lb.displayName=xc;var E_=Ka("DialogOverlay.RemoveScroll"),C_=p.forwardRef((n,r)=>{const{__scopeDialog:a,...o}=n,c=tn(xc,a);return e.jsx(jf,{as:E_,allowPinchZoom:!0,shards:[c.contentRef],children:e.jsx(We.div,{"data-state":Sf(c.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),Yr="DialogContent",ob=p.forwardRef((n,r)=>{const a=rb(Yr,n.__scopeDialog),{forceMount:o=a.forceMount,...c}=n,d=tn(Yr,n.__scopeDialog);return e.jsx(So,{present:o||d.open,children:d.modal?e.jsx(k_,{...c,ref:r}):e.jsx(R_,{...c,ref:r})})});ob.displayName=Yr;var k_=p.forwardRef((n,r)=>{const a=tn(Yr,n.__scopeDialog),o=p.useRef(null),c=yt(r,a.contentRef,o);return p.useEffect(()=>{const d=o.current;if(d)return eb(d)},[]),e.jsx(ib,{...n,ref:c,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(n.onCloseAutoFocus,d=>{var m;d.preventDefault(),(m=a.triggerRef.current)==null||m.focus()}),onPointerDownOutside:lt(n.onPointerDownOutside,d=>{const m=d.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0;(m.button===2||f)&&d.preventDefault()}),onFocusOutside:lt(n.onFocusOutside,d=>d.preventDefault())})}),R_=p.forwardRef((n,r)=>{const a=tn(Yr,n.__scopeDialog),o=p.useRef(!1),c=p.useRef(!1);return e.jsx(ib,{...n,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var m,f;(m=n.onCloseAutoFocus)==null||m.call(n,d),d.defaultPrevented||(o.current||(f=a.triggerRef.current)==null||f.focus(),d.preventDefault()),o.current=!1,c.current=!1},onInteractOutside:d=>{var g,x;(g=n.onInteractOutside)==null||g.call(n,d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const m=d.target;((x=a.triggerRef.current)==null?void 0:x.contains(m))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),ib=p.forwardRef((n,r)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:d,...m}=n,f=tn(Yr,a),g=p.useRef(null),x=yt(r,g);return Vy(),e.jsxs(e.Fragment,{children:[e.jsx(bf,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:d,children:e.jsx(yf,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Sf(f.open),...m,ref:x,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(A_,{titleId:f.titleId}),e.jsx(M_,{contentRef:g,descriptionId:f.descriptionId})]})]})}),Nf="DialogTitle",cb=p.forwardRef((n,r)=>{const{__scopeDialog:a,...o}=n,c=tn(Nf,a);return e.jsx(We.h2,{id:c.titleId,...o,ref:r})});cb.displayName=Nf;var db="DialogDescription",T_=p.forwardRef((n,r)=>{const{__scopeDialog:a,...o}=n,c=tn(db,a);return e.jsx(We.p,{id:c.descriptionId,...o,ref:r})});T_.displayName=db;var ub="DialogClose",mb=p.forwardRef((n,r)=>{const{__scopeDialog:a,...o}=n,c=tn(ub,a);return e.jsx(We.button,{type:"button",...o,ref:r,onClick:lt(n.onClick,()=>c.onOpenChange(!1))})});mb.displayName=ub;function Sf(n){return n?"open":"closed"}var fb="DialogTitleWarning",[XR,hb]=aS(fb,{contentName:Yr,titleName:Nf,docsSlug:"dialog"}),A_=({titleId:n})=>{const r=hb(fb),a=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{n&&(document.getElementById(n)||console.error(a))},[a,n]),null},D_="DialogDescriptionWarning",M_=({contentRef:n,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hb(D_).contentName}}.`;return p.useEffect(()=>{var d;const c=(d=n.current)==null?void 0:d.getAttribute("aria-describedby");r&&c&&(document.getElementById(r)||console.warn(o))},[o,n,r]),null},O_=sb,P_=ab,L_=lb,U_=ob,z_=cb,B_=mb;/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F_=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,o)=>o?o.toUpperCase():a.toLowerCase()),i0=n=>{const r=F_(n);return r.charAt(0).toUpperCase()+r.slice(1)},pb=(...n)=>n.filter((r,a,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===a).join(" ").trim(),H_=n=>{for(const r in n)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=p.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...f},g)=>p.createElement("svg",{ref:g,...q_,width:r,height:r,stroke:n,strokeWidth:o?Number(a)*24/Number(r):a,className:pb("lucide",c),...!d&&!H_(f)&&{"aria-hidden":"true"},...f},[...m.map(([x,y])=>p.createElement(x,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=(n,r)=>{const a=p.forwardRef(({className:o,...c},d)=>p.createElement(I_,{ref:d,iconNode:r,className:pb(`lucide-${$_(i0(n))}`,`lucide-${n}`,o),...c}));return a.displayName=i0(n),a};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Y_=cs("banknote",V_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xb=cs("check",G_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gb=cs("chevron-down",W_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],K_=cs("chevron-up",X_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yb=cs("circle-alert",Z_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_f=cs("circle-check-big",Q_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],e4=cs("clock",J_);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],c0=cs("credit-card",t4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gc=cs("download",s4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bb=cs("eye",n4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],d0=cs("file-text",r4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],l4=cs("loader-circle",a4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],i4=cs("shield",o4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],d4=cs("upload",c4);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yc=cs("x",u4);function vb(n){var r,a,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(a=vb(n[r]))&&(o&&(o+=" "),o+=a)}else for(a in n)n[a]&&(o&&(o+=" "),o+=a);return o}function jb(){for(var n,r,a=0,o="",c=arguments.length;a<c;a++)(n=arguments[a])&&(r=vb(n))&&(o&&(o+=" "),o+=r);return o}const Ef="-",m4=n=>{const r=h4(n),{conflictingClassGroups:a,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:m=>{const f=m.split(Ef);return f[0]===""&&f.length!==1&&f.shift(),wb(f,r)||f4(m)},getConflictingClassGroupIds:(m,f)=>{const g=a[m]||[];return f&&o[m]?[...g,...o[m]]:g}}},wb=(n,r)=>{var m;if(n.length===0)return r.classGroupId;const a=n[0],o=r.nextPart.get(a),c=o?wb(n.slice(1),o):void 0;if(c)return c;if(r.validators.length===0)return;const d=n.join(Ef);return(m=r.validators.find(({validator:f})=>f(d)))==null?void 0:m.classGroupId},u0=/^\[(.+)\]$/,f4=n=>{if(u0.test(n)){const r=u0.exec(n)[1],a=r==null?void 0:r.substring(0,r.indexOf(":"));if(a)return"arbitrary.."+a}},h4=n=>{const{theme:r,classGroups:a}=n,o={nextPart:new Map,validators:[]};for(const c in a)Hm(a[c],o,c,r);return o},Hm=(n,r,a,o)=>{n.forEach(c=>{if(typeof c=="string"){const d=c===""?r:m0(r,c);d.classGroupId=a;return}if(typeof c=="function"){if(p4(c)){Hm(c(o),r,a,o);return}r.validators.push({validator:c,classGroupId:a});return}Object.entries(c).forEach(([d,m])=>{Hm(m,m0(r,d),a,o)})})},m0=(n,r)=>{let a=n;return r.split(Ef).forEach(o=>{a.nextPart.has(o)||a.nextPart.set(o,{nextPart:new Map,validators:[]}),a=a.nextPart.get(o)}),a},p4=n=>n.isThemeGetter,x4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,a=new Map,o=new Map;const c=(d,m)=>{a.set(d,m),r++,r>n&&(r=0,o=a,a=new Map)};return{get(d){let m=a.get(d);if(m!==void 0)return m;if((m=o.get(d))!==void 0)return c(d,m),m},set(d,m){a.has(d)?a.set(d,m):c(d,m)}}},qm="!",Im=":",g4=Im.length,y4=n=>{const{prefix:r,experimentalParseClassName:a}=n;let o=c=>{const d=[];let m=0,f=0,g=0,x;for(let N=0;N<c.length;N++){let v=c[N];if(m===0&&f===0){if(v===Im){d.push(c.slice(g,N)),g=N+g4;continue}if(v==="/"){x=N;continue}}v==="["?m++:v==="]"?m--:v==="("?f++:v===")"&&f--}const y=d.length===0?c:c.substring(g),b=b4(y),w=b!==y,S=x&&x>g?x-g:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:S}};if(r){const c=r+Im,d=o;o=m=>m.startsWith(c)?d(m.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:m,maybePostfixModifierPosition:void 0}}if(a){const c=o;o=d=>a({className:d,parseClassName:c})}return o},b4=n=>n.endsWith(qm)?n.substring(0,n.length-1):n.startsWith(qm)?n.substring(1):n,v4=n=>{const r=Object.fromEntries(n.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const c=[];let d=[];return o.forEach(m=>{m[0]==="["||r[m]?(c.push(...d.sort(),m),d=[]):d.push(m)}),c.push(...d.sort()),c}},j4=n=>({cache:x4(n.cacheSize),parseClassName:y4(n),sortModifiers:v4(n),...m4(n)}),w4=/\s+/,N4=(n,r)=>{const{parseClassName:a,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:d}=r,m=[],f=n.trim().split(w4);let g="";for(let x=f.length-1;x>=0;x-=1){const y=f[x],{isExternal:b,modifiers:w,hasImportantModifier:S,baseClassName:N,maybePostfixModifierPosition:v}=a(y);if(b){g=y+(g.length>0?" "+g:g);continue}let _=!!v,k=o(_?N.substring(0,v):N);if(!k){if(!_){g=y+(g.length>0?" "+g:g);continue}if(k=o(N),!k){g=y+(g.length>0?" "+g:g);continue}_=!1}const E=d(w).join(":"),D=S?E+qm:E,L=D+k;if(m.includes(L))continue;m.push(L);const M=c(k,_);for(let z=0;z<M.length;++z){const $=M[z];m.push(D+$)}g=y+(g.length>0?" "+g:g)}return g};function S4(){let n=0,r,a,o="";for(;n<arguments.length;)(r=arguments[n++])&&(a=Nb(r))&&(o&&(o+=" "),o+=a);return o}const Nb=n=>{if(typeof n=="string")return n;let r,a="";for(let o=0;o<n.length;o++)n[o]&&(r=Nb(n[o]))&&(a&&(a+=" "),a+=r);return a};function _4(n,...r){let a,o,c,d=m;function m(g){const x=r.reduce((y,b)=>b(y),n());return a=j4(x),o=a.cache.get,c=a.cache.set,d=f,f(g)}function f(g){const x=o(g);if(x)return x;const y=N4(g,a);return c(g,y),y}return function(){return d(S4.apply(null,arguments))}}const zt=n=>{const r=a=>a[n]||[];return r.isThemeGetter=!0,r},Sb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_b=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E4=/^\d+\/\d+$/,C4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,T4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=n=>E4.test(n),ze=n=>!!n&&!Number.isNaN(Number(n)),ur=n=>!!n&&Number.isInteger(Number(n)),jm=n=>n.endsWith("%")&&ze(n.slice(0,-1)),Pn=n=>C4.test(n),D4=()=>!0,M4=n=>k4.test(n)&&!R4.test(n),Eb=()=>!1,O4=n=>T4.test(n),P4=n=>A4.test(n),L4=n=>!we(n)&&!Ne(n),U4=n=>al(n,Rb,Eb),we=n=>Sb.test(n),zr=n=>al(n,Tb,M4),wm=n=>al(n,H4,ze),f0=n=>al(n,Cb,Eb),z4=n=>al(n,kb,P4),Zi=n=>al(n,Ab,O4),Ne=n=>_b.test(n),co=n=>ll(n,Tb),B4=n=>ll(n,q4),h0=n=>ll(n,Cb),$4=n=>ll(n,Rb),F4=n=>ll(n,kb),Qi=n=>ll(n,Ab,!0),al=(n,r,a)=>{const o=Sb.exec(n);return o?o[1]?r(o[1]):a(o[2]):!1},ll=(n,r,a=!1)=>{const o=_b.exec(n);return o?o[1]?r(o[1]):a:!1},Cb=n=>n==="position"||n==="percentage",kb=n=>n==="image"||n==="url",Rb=n=>n==="length"||n==="size"||n==="bg-size",Tb=n=>n==="length",H4=n=>n==="number",q4=n=>n==="family-name",Ab=n=>n==="shadow",I4=()=>{const n=zt("color"),r=zt("font"),a=zt("text"),o=zt("font-weight"),c=zt("tracking"),d=zt("leading"),m=zt("breakpoint"),f=zt("container"),g=zt("spacing"),x=zt("radius"),y=zt("shadow"),b=zt("inset-shadow"),w=zt("text-shadow"),S=zt("drop-shadow"),N=zt("blur"),v=zt("perspective"),_=zt("aspect"),k=zt("ease"),E=zt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...L(),Ne,we],z=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],O=()=>[Ne,we,g],T=()=>[Ha,"full","auto",...O()],P=()=>[ur,"none","subgrid",Ne,we],F=()=>["auto",{span:["full",ur,Ne,we]},ur,Ne,we],J=()=>[ur,"auto",Ne,we],Z=()=>["auto","min","max","fr",Ne,we],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...O()],G=()=>[Ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],Y=()=>[n,Ne,we],xe=()=>[...L(),h0,f0,{position:[Ne,we]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",$4,U4,{size:[Ne,we]}],V=()=>[jm,co,zr],X=()=>["","none","full",x,Ne,we],se=()=>["",ze,co,zr],le=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[ze,jm,h0,f0],he=()=>["","none",N,Ne,we],ie=()=>["none",ze,Ne,we],be=()=>["none",ze,Ne,we],ke=()=>[ze,Ne,we],Re=()=>[Ha,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pn],breakpoint:[Pn],color:[D4],container:[Pn],"drop-shadow":[Pn],ease:["in","out","in-out"],font:[L4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pn],shadow:[Pn],spacing:["px",ze],text:[Pn],"text-shadow":[Pn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ha,we,Ne,_]}],container:["container"],columns:[{columns:[ze,we,Ne,f]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[ur,"auto",Ne,we]}],basis:[{basis:[Ha,"full","auto",f,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Ha,"auto","initial","none",we]}],grow:[{grow:["",ze,Ne,we]}],shrink:[{shrink:["",ze,Ne,we]}],order:[{order:[ur,"first","last","none",Ne,we]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[f,"screen",...G()]}],"min-w":[{"min-w":[f,"screen","none",...G()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[m]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",a,co,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Ne,wm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jm,we]}],"font-family":[{font:[B4,we,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,Ne,we]}],"line-clamp":[{"line-clamp":[ze,"none",Ne,wm]}],leading:[{leading:[d,...O()]}],"list-image":[{"list-image":["none",Ne,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",Ne,zr]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[ze,"auto",Ne,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xe()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ur,Ne,we],radial:["",Ne,we],conic:[ur,Ne,we]},F4,z4]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,Ne,we]}],"outline-w":[{outline:["",ze,co,zr]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",y,Qi,Zi]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",b,Qi,Zi]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[ze,zr]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",w,Qi,Zi]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[ze,Ne,we]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Ne,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xe()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,we]}],filter:[{filter:["","none",Ne,we]}],blur:[{blur:he()}],brightness:[{brightness:[ze,Ne,we]}],contrast:[{contrast:[ze,Ne,we]}],"drop-shadow":[{"drop-shadow":["","none",S,Qi,Zi]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",ze,Ne,we]}],"hue-rotate":[{"hue-rotate":[ze,Ne,we]}],invert:[{invert:["",ze,Ne,we]}],saturate:[{saturate:[ze,Ne,we]}],sepia:[{sepia:["",ze,Ne,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,we]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[ze,Ne,we]}],"backdrop-contrast":[{"backdrop-contrast":[ze,Ne,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,Ne,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,Ne,we]}],"backdrop-invert":[{"backdrop-invert":["",ze,Ne,we]}],"backdrop-opacity":[{"backdrop-opacity":[ze,Ne,we]}],"backdrop-saturate":[{"backdrop-saturate":[ze,Ne,we]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,Ne,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",Ne,we]}],ease:[{ease:["linear","initial",k,Ne,we]}],delay:[{delay:[ze,Ne,we]}],animate:[{animate:["none",E,Ne,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Ne,we]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Ne,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,we]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[ze,co,zr,wm]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V4=_4(I4);function St(...n){return V4(jb(n))}function Y4({...n}){return e.jsx(O_,{"data-slot":"dialog",...n})}function G4({...n}){return e.jsx(P_,{"data-slot":"dialog-portal",...n})}function W4({className:n,...r}){return e.jsx(L_,{"data-slot":"dialog-overlay",className:St("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...r})}function X4({className:n,children:r,...a}){return e.jsxs(G4,{"data-slot":"dialog-portal",children:[e.jsx(W4,{}),e.jsxs(U_,{"data-slot":"dialog-content",className:St("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...a,children:[r,e.jsxs(B_,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(yc,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function K4({className:n,...r}){return e.jsx("div",{"data-slot":"dialog-header",className:St("flex flex-col gap-2 text-center sm:text-left",n),...r})}function Z4({className:n,...r}){return e.jsx(z_,{"data-slot":"dialog-title",className:St("text-lg leading-none font-semibold",n),...r})}const p0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,x0=jb,Db=(n,r)=>a=>{var o;if((r==null?void 0:r.variants)==null)return x0(n,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:c,defaultVariants:d}=r,m=Object.keys(c).map(x=>{const y=a==null?void 0:a[x],b=d==null?void 0:d[x];if(y===null)return null;const w=p0(y)||p0(b);return c[x][w]}),f=a&&Object.entries(a).reduce((x,y)=>{let[b,w]=y;return w===void 0||(x[b]=w),x},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((x,y)=>{let{class:b,className:w,...S}=y;return Object.entries(S).every(N=>{let[v,_]=N;return Array.isArray(_)?_.includes({...d,...f}[v]):{...d,...f}[v]===_})?[...x,b,w]:x},[]);return x0(n,m,g,a==null?void 0:a.class,a==null?void 0:a.className)},Q4=Db("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ds({className:n,variant:r,size:a,asChild:o=!1,...c}){const d=o?Fy:"button";return e.jsx(d,{"data-slot":"button",className:St(Q4({variant:r,size:a,className:n})),...c})}function Ia({className:n,...r}){return e.jsx("div",{"data-slot":"card",className:St("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...r})}function Va({className:n,...r}){return e.jsx("div",{"data-slot":"card-header",className:St("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...r})}function Ya({className:n,...r}){return e.jsx("div",{"data-slot":"card-title",className:St("leading-none font-semibold",n),...r})}function J4({className:n,...r}){return e.jsx("div",{"data-slot":"card-description",className:St("text-muted-foreground text-sm",n),...r})}function uo({className:n,...r}){return e.jsx("div",{"data-slot":"card-content",className:St("px-6",n),...r})}const eE=Db("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function tE({className:n,variant:r,asChild:a=!1,...o}){const c=a?Fy:"span";return e.jsx(c,{"data-slot":"badge",className:St(eE({variant:r}),n),...o})}const sE=({isOpen:n,onClose:r,setupData:a,onStartKYC:o})=>{const[c,d]=p.useState(!1),m=async()=>{d(!0);try{await o()}finally{d(!1)}};if(!a||!a.setupRequired)return null;const f=[{icon:e.jsx(i4,{className:"h-5 w-5"}),title:"Identity Verification",description:"Verify your identity with official documents",time:"2 minutes"},{icon:e.jsx(c0,{className:"h-5 w-5"}),title:"Bank Details",description:"Add your Malaysian bank account for deposits",time:"1 minute"},{icon:e.jsx(Y_,{className:"h-5 w-5"}),title:"Start Earning",description:"Receive deposits securely from tenants",time:"Immediate"}];return e.jsx(Y4,{open:n,onOpenChange:r,children:e.jsxs(X4,{className:"sm:max-w-md",children:[e.jsx(K4,{children:e.jsxs(Z4,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(c0,{className:"h-5 w-5 text-blue-600"})}),"Complete Your Payment Setup"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ia,{className:"border-blue-200 bg-blue-50",children:e.jsxs(Va,{className:"pb-3",children:[e.jsx(Ya,{className:"text-lg text-blue-900",children:"Welcome to SpeedHome! "}),e.jsx(J4,{className:"text-blue-700",children:a.setupMessage})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Setup Process:"}),f.map((g,x)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50",children:[e.jsx("div",{className:"p-1.5 bg-white rounded-full border",children:g.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),e.jsx(tE,{variant:"secondary",className:"text-xs",children:g.time})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]})]},x))]}),e.jsx("div",{className:"border-l-4 border-green-400 bg-green-50 p-4 rounded",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(_f,{className:"h-5 w-5 text-green-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Secure & Trusted"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your information is protected by bank-level security. Setup takes just 3 minutes."})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(Ds,{variant:"outline",onClick:r,className:"flex-1",children:"Set Up Later"}),e.jsx(Ds,{onClick:m,disabled:c,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(e4,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting..."]}):"Start Setup"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Complete setup now to start receiving deposits from tenants immediately"})]})]})})},nE=({isOpen:n,onClose:r,onSuccess:a,onSwitchToLogin:o})=>{const{register:c}=Qt(),[d,m]=p.useState({username:"",email:"",password:"",confirmPassword:"",role:"tenant",first_name:"",last_name:"",phone:""}),[f,g]=p.useState({}),[x,y]=p.useState(!1),[b,w]=p.useState(!1),[S,N]=p.useState(null),v=M=>{const{name:z,value:$}=M.target;m(O=>({...O,[z]:$})),f[z]&&g(O=>({...O,[z]:""}))},_=()=>{const M={};return d.username.trim()?d.username.length<3&&(M.username="Username must be at least 3 characters"):M.username="Username is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(M.email="Please enter a valid email address"):M.email="Email is required",d.password?d.password.length<8?M.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(d.password)||(M.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):M.password="Password is required",d.confirmPassword?d.password!==d.confirmPassword&&(M.confirmPassword="Passwords do not match"):M.confirmPassword="Please confirm your password",d.role||(M.role="Please select your role"),g(M),Object.keys(M).length===0},k=async M=>{var z;if(M.preventDefault(),!!_()){y(!0);try{const{confirmPassword:$,...O}=d,T=await c(O);T.success?(m({username:"",email:"",password:"",confirmPassword:"",role:"tenant",first_name:"",last_name:"",phone:""}),g({}),a(T.user),T.setupRequired&&((z=T.user)==null?void 0:z.role)==="landlord"?(N(T),w(!0)):(r(),alert("Registration successful! Welcome to SpeedHome!"))):g({general:T.error})}catch{g({general:"An unexpected error occurred. Please try again."})}finally{y(!1)}}},E=()=>{m({username:"",email:"",password:"",confirmPassword:"",role:"tenant",first_name:"",last_name:"",phone:""}),g({}),w(!1),N(null),r()},D=()=>{w(!1),N(null),r()},L=async()=>{S!=null&&S.kycEndpoint&&(window.location.href="/dashboard?tab=payment-setup"),D()};return n?e.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-screen overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign Up"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.general&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:f.general}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"I am a:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"role",value:"tenant",checked:d.role==="tenant",onChange:v,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Tenant (Looking for property)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"role",value:"landlord",checked:d.role==="landlord",onChange:v,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Landlord (Renting property)"})]})]}),f.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.role})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),e.jsx("input",{type:"text",id:"username",name:"username",value:d.username,onChange:v,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.username?"border-red-500":"border-gray-300"}`,placeholder:"Choose a username"}),f.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.username})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:v,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email"}),f.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",id:"first_name",name:"first_name",value:d.first_name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",id:"last_name",name:"last_name",value:d.last_name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Last name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),e.jsx("input",{type:"password",id:"password",name:"password",value:d.password,onChange:v,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.password?"border-red-500":"border-gray-300"}`,placeholder:"Create a password"}),f.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:d.confirmPassword,onChange:v,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirm your password"}),f.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.confirmPassword})]}),e.jsx("button",{type:"submit",disabled:x,className:`w-full py-2 px-4 rounded-md text-white font-medium ${x?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}`,children:x?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Login"})]})})]}),e.jsx(sE,{isOpen:b,onClose:D,setupData:S,onStartKYC:L})]}):null};class Mb{static async getNotifications(){try{const r=await fetch("/api/notifications",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok){if(r.status===401)return{success:!1,notifications:[]};const a=await r.json();throw new Error(a.error||"Failed to fetch notifications")}return await r.json()}catch(r){return console.error("Error fetching notifications:",r),{success:!1,notifications:[]}}}static async markAsRead(r){try{const a=await fetch("/api/notifications/mark-as-read",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ids:r})}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to mark notifications as read");return o}catch(a){throw console.error("Error marking notifications as read:",a),a}}}const rE=({notifications:n,setNotifications:r})=>{const a=gr(),o=ws(),{user:c,isAuthenticated:d,logout:m,isLandlord:f,isTenant:g,getUserFullName:x}=Qt(),[y,b]=p.useState(!1),[w,S]=p.useState(!1),[N,v]=p.useState(!1),[_,k]=p.useState(!1),[E,D]=p.useState([]);p.useEffect(()=>{const U=G=>{G.target.closest(".dropdown-container")||(b(!1),k(!1))};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const L=async()=>{if(!_)if(n&&n.length>0){D(n);const U=n.map(G=>G.id);try{await Mb.markAsRead(U),r([])}catch(G){console.error("Failed to mark notifications as read:",G)}}else D([]);k(U=>!U)},M=U=>{k(!1),U&&o(U)},z=()=>{d&&f()?o("/landlord"):d&&g()?alert("You need a landlord account to access the landlord dashboard. Please contact support to upgrade your account."):S(!0)},$=()=>{d&&g()?o("/dashboard"):d&&f()?alert("You are logged in as a landlord. Please use the Landlord dashboard or logout to access tenant features."):S(!0)},O=()=>{b(!y)},T=()=>{S(!0),b(!1)},P=()=>{v(!0),b(!1)},F=()=>{f()?o("/landlord"):o("/dashboard"),b(!1)},J=async()=>{await m(),b(!1)},Z=async U=>{S(!1),v(!1),b(!1),setTimeout(()=>{U.role==="landlord"?o("/landlord"):o("/dashboard")},100)},oe=()=>{S(!1),v(!0)},ae=()=>{v(!1),S(!0)};return e.jsxs("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center h-auto sm:h-16 py-2 sm:py-0",children:[e.jsx("div",{className:"flex items-center cursor-pointer mb-2 sm:mb-0",children:e.jsxs(Me,{to:"/",className:"flex items-center",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-600 rounded-full flex items-center justify-center mr-1 sm:mr-2",children:e.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"S"})}),e.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"SPEEDHOME"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 mb-2 sm:mb-0 w-full sm:w-auto justify-center",children:[e.jsx("button",{onClick:z,className:"bg-green-100 text-green-700 px-2 py-1 sm:px-4 sm:py-2 rounded-lg border border-green-300 text-xs sm:text-sm cursor-pointer hover:bg-green-200",children:"Landlord"}),e.jsx("button",{onClick:$,className:"bg-blue-600 text-white px-2 py-1 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm cursor-pointer hover:bg-blue-700",children:"Tenant"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-2 w-full sm:w-auto",children:[a.pathname==="/"&&e.jsx("input",{type:"text",placeholder:"Search by area/property name",className:"px-2 py-1 sm:px-4 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full sm:w-64 text-sm sm:text-base"}),d&&e.jsxs("div",{className:"relative dropdown-container",children:[e.jsxs("button",{onClick:L,className:"p-2 text-gray-600 hover:text-gray-900 rounded-full hover:bg-gray-100 relative",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n&&n.length>0&&e.jsx("span",{className:"absolute top-1 right-1 block h-3 w-3 rounded-full bg-red-500 ring-2 ring-white text-white flex items-center justify-center text-xs",children:n.length})]}),_&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg border z-50",children:[e.jsx("div",{className:"p-3 font-bold text-gray-800 border-b",children:"Notifications"}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:E.length>0?E.map(U=>e.jsxs("div",{onClick:()=>M(U.link),className:"p-3 border-b hover:bg-gray-50 cursor-pointer",children:[e.jsx("p",{className:"text-sm text-gray-700",children:U.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(U.created_at).toLocaleString()})]},U.id)):e.jsx("p",{className:"p-4 text-sm text-gray-500",children:"You have no new notifications."})})]})]}),e.jsxs("div",{className:"relative dropdown-container",children:[e.jsx("button",{onClick:O,className:"p-1 sm:p-2 text-gray-600 hover:text-gray-900 cursor-pointer",children:""}),y&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 border-b",children:["Welcome, ",x()]}),e.jsx("button",{onClick:F,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"My Dashboard"}),e.jsx("button",{onClick:J,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Login"}),e.jsx("button",{onClick:P,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Up"})]})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"p-1 sm:p-2 text-gray-600 hover:text-gray-900 cursor-pointer",children:""}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden group-hover:block",children:[e.jsx(Me,{to:"/about-us",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"About Us"}),e.jsx(Me,{to:"/faq",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"FAQ"}),e.jsx(Me,{to:"/contact-us",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Contact Us"}),e.jsx(Me,{to:"/terms-conditions",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Terms & Conditions"}),e.jsx(Me,{to:"/privacy-policy",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Privacy Policy"})]})]})]})]})]})}),w&&e.jsx(rS,{isOpen:w,onClose:()=>S(!1),onSuccess:Z,onSwitchToRegister:oe}),N&&e.jsx(nE,{isOpen:N,onClose:()=>v(!1),onSuccess:Z,onSwitchToLogin:ae})]})},aE=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-white font-bold",children:"S"})}),e.jsx("span",{className:"text-xl font-bold",children:"SPEEDHOME"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Revolutionizing property rentals with zero deposit, zero commission, and verified listings."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),e.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Tenants"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Find Property"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Zero Deposit"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Tenant Insurance"})}),e.jsx("li",{children:e.jsx(Me,{to:"/faq",className:"text-gray-400 hover:text-white",children:"Tenant Guide"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Tenant Dashboard"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"For Landlords"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"List Property"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Landlord Protection"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Tenant Screening"})}),e.jsx("li",{children:e.jsx(Me,{to:"/faq",className:"text-gray-400 hover:text-white",children:"Landlord Guide"})}),e.jsx("li",{children:e.jsx(Me,{to:"/",className:"text-gray-400 hover:text-white",children:"Landlord Dashboard"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Me,{to:"/about",className:"text-gray-400 hover:text-white",children:"About Us"})}),e.jsx("li",{children:e.jsx(Me,{to:"/faq",className:"text-gray-400 hover:text-white",children:"FAQ"})}),e.jsx("li",{children:e.jsx(Me,{to:"/contact",className:"text-gray-400 hover:text-white",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(Me,{to:"/terms",className:"text-gray-400 hover:text-white",children:"Terms & Conditions"})}),e.jsx("li",{children:e.jsx(Me,{to:"/privacy",className:"text-gray-400 hover:text-white",children:"Privacy Policy"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 SPEEDHOME. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(Me,{to:"/terms",className:"text-gray-400 hover:text-white text-sm",children:"Terms"}),e.jsx(Me,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Privacy"}),e.jsx(Me,{to:"/contact",className:"text-gray-400 hover:text-white text-sm",children:"Contact"})]})]})]})}),lE=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-4",children:"About SPEEDHOME"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Revolutionizing the property rental experience in Malaysia"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sm:p-8 mb-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Our Mission"}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"At SPEEDHOME, our mission is to create a transparent, efficient, and secure property rental marketplace that benefits both landlords and tenants. We're committed to eliminating unnecessary costs, reducing friction in the rental process, and providing innovative solutions that address the real challenges faced by property owners and renters in Malaysia."}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Our Story"}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Founded in 2015, SPEEDHOME began with a simple observation: the traditional property rental process was filled with inefficiencies, high costs, and unnecessary complications. Our founders experienced these challenges firsthand and decided to create a solution that would transform the rental landscape in Malaysia."}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"What started as a small startup has now grown into one of Malaysia's leading property rental platforms, connecting thousands of landlords and tenants every month. Our journey has been driven by continuous innovation and a deep understanding of the local property market."}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"What Makes Us Different"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Zero Deposit Option"}),e.jsx("p",{className:"text-gray-700",children:"We pioneered the zero deposit rental model in Malaysia, allowing tenants to move in without paying hefty security deposits while still protecting landlords' interests."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Zero Commission"}),e.jsx("p",{className:"text-gray-700",children:"Unlike traditional agencies, we don't charge landlords any commission, making it more affordable to list and rent out properties."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Tenant Screening"}),e.jsx("p",{className:"text-gray-700",children:"Our comprehensive tenant screening process helps landlords find reliable tenants while making the application process smooth for qualified renters."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Insurance Protection"}),e.jsx("p",{className:"text-gray-700",children:"We offer innovative insurance solutions that protect both landlords and tenants throughout the rental period."})]})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Our Team"}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"SPEEDHOME is powered by a diverse team of professionals passionate about real estate, technology, and customer service. Our team combines local market expertise with technological innovation to create solutions that truly address the needs of the Malaysian rental market."}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"From our customer support specialists who assist users daily to our tech developers who continuously improve our platform, everyone at SPEEDHOME is committed to our mission of transforming property rentals."}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Our Impact"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"10,000+"}),e.jsx("div",{className:"text-gray-700",children:"Properties Listed"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"50,000+"}),e.jsx("div",{className:"text-gray-700",children:"Happy Users"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"RM 5M+"}),e.jsx("div",{className:"text-gray-700",children:"Saved in Deposits"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"95%"}),e.jsx("div",{className:"text-gray-700",children:"Satisfaction Rate"})]})]}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Looking Forward"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"As we continue to grow, our focus remains on innovation and improvement. We're constantly exploring new technologies and services that can make property rentals even more efficient, secure, and accessible for all Malaysians."}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-4",children:"Whether you're a landlord looking to list your property or a tenant searching for your next home, SPEEDHOME is committed to providing you with the best possible experience."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Have questions about SPEEDHOME?"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg",children:"Contact Us"})]})]})}),oE=()=>{const[n,r]=p.useState(null),a=c=>{r(n===c?null:c)},o=[{question:"What is SPEEDHOME?",answer:"SPEEDHOME is a property rental platform that connects landlords and tenants directly without agent fees. We offer innovative solutions like zero deposit options, tenant screening, and insurance protection to make renting easier and more secure for everyone."},{question:"How does the Zero Deposit option work?",answer:"Our Zero Deposit option allows tenants to rent a property without paying the traditional security deposit (typically 2-3 months' rent). Instead, tenants pay a small fee for insurance coverage that protects the landlord against damages or unpaid rent. This makes moving more affordable while still providing landlords with protection."},{question:"Is there any commission fee for landlords?",answer:"No, SPEEDHOME does not charge any commission fees to landlords. You can list your property completely free of charge. We only earn through optional value-added services that landlords can choose to use."},{question:"How do I list my property on SPEEDHOME?",answer:"Listing your property is simple. Create an account, click on 'List Your Property', fill in the details about your property including photos and amenities, set your rental price, and publish your listing. Our team will verify your listing before it goes live to ensure quality."},{question:"How does tenant screening work?",answer:"We conduct comprehensive background checks on potential tenants, including employment verification, previous rental history, and credit assessment. This helps landlords find reliable tenants while making the application process smooth for qualified renters."},{question:"What areas does SPEEDHOME cover?",answer:"SPEEDHOME currently covers major cities and areas across Malaysia, including Kuala Lumpur, Selangor, Penang, Johor, and more. We're continuously expanding our coverage to serve more locations."},{question:"How do I schedule a property viewing?",answer:"When you find a property you're interested in, simply click the 'Schedule Viewing' button on the property page. Select your preferred date and time, provide your contact information, and submit your request. The landlord will be notified and can confirm the viewing appointment."},{question:"What types of properties can I find on SPEEDHOME?",answer:"SPEEDHOME offers a wide range of residential properties including apartments, condominiums, houses, studios, and rooms for rent. We cater to various budgets and preferences across different locations."},{question:"How is SPEEDHOME different from traditional property agents?",answer:"Unlike traditional agents who charge commission fees (typically 1 month's rent), SPEEDHOME connects landlords and tenants directly with no commission fees. We also offer innovative solutions like zero deposit options, digital contracts, and insurance protection that traditional agents typically don't provide."},{question:"Is my personal information secure with SPEEDHOME?",answer:"Yes, we take data privacy very seriously. All personal information is encrypted and stored securely. We comply with relevant data protection laws and never share your information with unauthorized third parties. You can review our Privacy Policy for more details."},{question:"What if there's a dispute between landlord and tenant?",answer:"SPEEDHOME offers mediation services to help resolve disputes between landlords and tenants. Our team will work with both parties to find a fair resolution. In cases where insurance is involved, our claims process is designed to be straightforward and efficient."},{question:"Can I get my deposit back if I use the traditional deposit option?",answer:"Yes, if you opt for the traditional security deposit option, your deposit is refundable at the end of your tenancy, subject to the condition of the property and fulfillment of the tenancy agreement terms."}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Find answers to common questions about SPEEDHOME"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:o.map((c,d)=>e.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[e.jsx("button",{className:"w-full text-left px-6 py-4 focus:outline-none",onClick:()=>a(d),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.question}),e.jsx("span",{className:"ml-6 flex-shrink-0",children:n===d?e.jsx("svg",{className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),n===d&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700",children:c.answer})})]},d))}),e.jsxs("div",{className:"text-center mt-8 sm:mt-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Can't find what you're looking for?"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg",children:"Contact Our Support Team"})]})]})})},iE=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Terms and Conditions"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Last updated: June 12, 2025"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 sm:p-8",children:e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("h2",{children:"1. Introduction"}),e.jsx("p",{children:"Welcome to SPEEDHOME. These Terms and Conditions govern your use of our website, mobile applications, and services. By accessing or using SPEEDHOME, you agree to be bound by these Terms. If you disagree with any part of these terms, you may not access our services."}),e.jsx("h2",{children:"2. Definitions"}),e.jsxs("p",{children:[e.jsx("strong",{children:'"SPEEDHOME"'})," refers to our company, website, mobile applications, and services.",e.jsx("br",{}),e.jsx("strong",{children:'"User"'})," refers to any individual who accesses or uses SPEEDHOME, including landlords and tenants.",e.jsx("br",{}),e.jsx("strong",{children:'"Landlord"'})," refers to property owners or their authorized representatives who list properties on SPEEDHOME.",e.jsx("br",{}),e.jsx("strong",{children:'"Tenant"'})," refers to individuals seeking to rent properties listed on SPEEDHOME.",e.jsx("br",{}),e.jsx("strong",{children:'"Listing"'})," refers to property advertisements posted on SPEEDHOME."]}),e.jsx("h2",{children:"3. Account Registration"}),e.jsxs("p",{children:["3.1. To use certain features of SPEEDHOME, you must register for an account.",e.jsx("br",{}),"3.2. You agree to provide accurate, current, and complete information during registration.",e.jsx("br",{}),"3.3. You are responsible for maintaining the confidentiality of your account credentials.",e.jsx("br",{}),"3.4. You are responsible for all activities that occur under your account.",e.jsx("br",{}),"3.5. You must notify us immediately of any unauthorized use of your account."]}),e.jsx("h2",{children:"4. Landlord Terms"}),e.jsxs("p",{children:["4.1. Landlords are responsible for the accuracy of their listings.",e.jsx("br",{}),"4.2. Landlords must have legal authority to list and rent the properties they advertise.",e.jsx("br",{}),"4.3. Landlords must comply with all applicable laws and regulations related to property rental.",e.jsx("br",{}),"4.4. SPEEDHOME reserves the right to remove listings that violate our policies or applicable laws.",e.jsx("br",{}),"4.5. Landlords agree to respond to tenant inquiries in a timely and professional manner."]}),e.jsx("h2",{children:"5. Tenant Terms"}),e.jsxs("p",{children:["5.1. Tenants must provide accurate information when applying for properties.",e.jsx("br",{}),"5.2. Tenants agree to undergo background checks as required by SPEEDHOME or landlords.",e.jsx("br",{}),"5.3. Tenants must comply with all terms of their rental agreements.",e.jsx("br",{}),"5.4. SPEEDHOME reserves the right to share tenant information with landlords for legitimate purposes related to property rental."]}),e.jsx("h2",{children:"6. Zero Deposit Program"}),e.jsxs("p",{children:["6.1. The Zero Deposit program is subject to eligibility requirements and approval.",e.jsx("br",{}),"6.2. Tenants participating in the Zero Deposit program must pay applicable insurance fees.",e.jsx("br",{}),"6.3. The Zero Deposit program does not exempt tenants from liability for damages or unpaid rent.",e.jsx("br",{}),"6.4. Claims under the Zero Deposit program are subject to the terms of the insurance policy."]}),e.jsx("h2",{children:"7. Fees and Payments"}),e.jsxs("p",{children:["7.1. SPEEDHOME does not charge commission fees to landlords for basic listings.",e.jsx("br",{}),"7.2. Fees for premium services, insurance, or other value-added services will be clearly disclosed.",e.jsx("br",{}),"7.3. All fees are non-refundable unless otherwise stated.",e.jsx("br",{}),"7.4. SPEEDHOME may change its fee structure with reasonable notice to users."]}),e.jsx("h2",{children:"8. Prohibited Activities"}),e.jsxs("p",{children:["Users are prohibited from:",e.jsx("br",{}),"8.1. Providing false or misleading information.",e.jsx("br",{}),"8.2. Violating any applicable laws or regulations.",e.jsx("br",{}),"8.3. Infringing on the rights of others.",e.jsx("br",{}),"8.4. Attempting to gain unauthorized access to SPEEDHOME systems.",e.jsx("br",{}),"8.5. Using SPEEDHOME for any illegal or unauthorized purpose.",e.jsx("br",{}),"8.6. Posting discriminatory content or engaging in discriminatory practices.",e.jsx("br",{}),"8.7. Harassing or threatening other users."]}),e.jsx("h2",{children:"9. Intellectual Property"}),e.jsxs("p",{children:["9.1. SPEEDHOME and its content are protected by copyright, trademark, and other laws.",e.jsx("br",{}),"9.2. Users may not copy, modify, distribute, or create derivative works based on SPEEDHOME content without explicit permission.",e.jsx("br",{}),"9.3. By posting content on SPEEDHOME, users grant us a non-exclusive license to use, display, and distribute that content."]}),e.jsx("h2",{children:"10. Limitation of Liability"}),e.jsxs("p",{children:['10.1. SPEEDHOME is provided "as is" without warranties of any kind.',e.jsx("br",{}),"10.2. SPEEDHOME is not liable for any indirect, incidental, special, consequential, or punitive damages.",e.jsx("br",{}),"10.3. SPEEDHOME's total liability shall not exceed the amount paid by the user for services in the 12 months preceding the claim."]}),e.jsx("h2",{children:"11. Indemnification"}),e.jsx("p",{children:"Users agree to indemnify and hold harmless SPEEDHOME and its affiliates from any claims, damages, liabilities, costs, or expenses arising from their use of our services or violation of these Terms."}),e.jsx("h2",{children:"12. Termination"}),e.jsxs("p",{children:["12.1. SPEEDHOME may terminate or suspend user accounts for violations of these Terms.",e.jsx("br",{}),"12.2. Users may terminate their accounts at any time by contacting customer support.",e.jsx("br",{}),"12.3. Termination does not relieve users of obligations incurred prior to termination."]}),e.jsx("h2",{children:"13. Changes to Terms"}),e.jsx("p",{children:"SPEEDHOME reserves the right to modify these Terms at any time. Users will be notified of significant changes, and continued use of SPEEDHOME after such changes constitutes acceptance of the modified Terms."}),e.jsx("h2",{children:"14. Governing Law"}),e.jsx("p",{children:"These Terms are governed by the laws of Malaysia. Any disputes shall be resolved in the courts of Malaysia."}),e.jsx("h2",{children:"15. Contact Information"}),e.jsx("p",{children:"For questions about these Terms, please contact us at support@speedhome.com."})]})})]})}),cE=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Last updated: June 12, 2025"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 sm:p-8",children:e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("h2",{children:"1. Introduction"}),e.jsx("p",{children:"At SPEEDHOME, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website, mobile application, and services. Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access our services."}),e.jsx("h2",{children:"2. Information We Collect"}),e.jsx("p",{children:"We collect information that you provide directly to us, information we collect automatically when you use our services, and information from third parties. This may include:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, identification documents, employment information, and financial information."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Property Information:"})," Details about properties listed or searched for on our platform."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Information:"})," How you interact with our services, including browsing history, search queries, and features used."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Device Information:"})," IP address, browser type, operating system, and device identifiers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location Information:"})," General location based on IP address or more precise location if you grant permission."]})]}),e.jsx("h2",{children:"3. How We Use Your Information"}),e.jsx("p",{children:"We use the information we collect for various purposes, including:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Providing, maintaining, and improving our services"}),e.jsx("li",{children:"Processing transactions and managing accounts"}),e.jsx("li",{children:"Verifying user identities and conducting background checks"}),e.jsx("li",{children:"Connecting landlords and tenants"}),e.jsx("li",{children:"Communicating with you about our services"}),e.jsx("li",{children:"Sending promotional emails and updates"}),e.jsx("li",{children:"Analyzing usage patterns to enhance user experience"}),e.jsx("li",{children:"Preventing fraud and ensuring security"}),e.jsx("li",{children:"Complying with legal obligations"})]}),e.jsx("h2",{children:"4. Information Sharing and Disclosure"}),e.jsx("p",{children:"We may share your information with:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Other Users:"})," When necessary to facilitate property rentals (e.g., landlords receive information about interested tenants)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Third parties that perform services on our behalf, such as payment processing, data analysis, and customer service."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Insurance Partners:"})," For processing zero deposit insurance applications and claims."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Authorities:"})," When required by law or to protect our rights and safety."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Partners:"})," In connection with joint marketing efforts or promotions."]})]}),e.jsx("p",{children:"We do not sell your personal information to third parties for their direct marketing purposes."}),e.jsx("h2",{children:"5. Data Security"}),e.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet or electronic storage is 100% secure, so we cannot guarantee absolute security."}),e.jsx("h2",{children:"6. Your Rights and Choices"}),e.jsx("p",{children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Accessing and updating your personal information"}),e.jsx("li",{children:"Requesting deletion of your personal information"}),e.jsx("li",{children:"Objecting to certain processing of your personal information"}),e.jsx("li",{children:"Withdrawing consent for optional processing"}),e.jsx("li",{children:"Opting out of marketing communications"})]}),e.jsx("p",{children:"To exercise these rights, please contact us using the information provided at the end of this policy."}),e.jsx("h2",{children:"7. Cookies and Tracking Technologies"}),e.jsx("p",{children:"We use cookies and similar tracking technologies to collect information about your browsing activities and to remember your preferences. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our service."}),e.jsx("h2",{children:"8. Third-Party Links"}),e.jsx("p",{children:"Our service may contain links to third-party websites or services that are not owned or controlled by SPEEDHOME. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."}),e.jsx("h2",{children:"9. Children's Privacy"}),e.jsx("p",{children:"Our services are not intended for individuals under the age of 18. We do not knowingly collect personal information from children. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."}),e.jsx("h2",{children:"10. International Data Transfers"}),e.jsx("p",{children:"Your information may be transferred to and processed in countries other than the country in which you reside. These countries may have different data protection laws. We will take appropriate measures to ensure that your personal information remains protected in accordance with this Privacy Policy."}),e.jsx("h2",{children:"11. Changes to This Privacy Policy"}),e.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. You are advised to review this Privacy Policy periodically for any changes.'}),e.jsx("h2",{children:"12. Contact Us"}),e.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at:"}),e.jsxs("p",{children:["Email: privacy@speedhome.com",e.jsx("br",{}),"Address: Level 8, Uptown 1, Jalan SS21/58, Damansara Uptown, 47400 Petaling Jaya, Selangor, Malaysia"]})]})})]})}),dE=()=>{const[n,r]=p.useState({name:"",email:"",phone:"",subject:"",message:""}),[a,o]=p.useState({}),[c,d]=p.useState(!1),m=x=>{const{name:y,value:b}=x.target;r(w=>({...w,[y]:b})),a[y]&&o(w=>({...w,[y]:""}))},f=()=>{const x={};return n.name.trim()||(x.name="Name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(x.email="Email is invalid"):x.email="Email is required",n.subject.trim()||(x.subject="Subject is required"),n.message.trim()||(x.message="Message is required"),o(x),Object.keys(x).length===0},g=x=>{x.preventDefault(),f()&&(console.log("Form submitted:",n),d(!0),r({name:"",email:"",phone:"",subject:"",message:""}))};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"We're here to help with any questions or concerns"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Get In Touch"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"support@speedhome.com"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"+60 3-7490 2233"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Office"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Level 8, Uptown 1,",e.jsx("br",{}),"Jalan SS21/58, Damansara Uptown,",e.jsx("br",{}),"47400 Petaling Jaya,",e.jsx("br",{}),"Selangor, Malaysia"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Business Hours"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Monday - Friday: 9:00 AM - 6:00 PM",e.jsx("br",{}),"Saturday: 9:00 AM - 1:00 PM",e.jsx("br",{}),"Sunday & Public Holidays: Closed"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),e.jsxs("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Send Us a Message"}),c?e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Thank you for your message!"}),e.jsx("p",{className:"mt-2",children:"We have received your inquiry and will respond as soon as possible."}),e.jsx("button",{onClick:()=>d(!1),className:"mt-4 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:m,className:`w-full px-3 py-2 border ${a.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:m,className:`w-full px-3 py-2 border ${a.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (Optional)"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:m,className:`w-full px-3 py-2 border ${a.subject?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),a.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{id:"message",name:"message",rows:"5",value:n.message,onChange:m,className:`w-full px-3 py-2 border ${a.message?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),a.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"privacy-policy",name:"privacy-policy",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:!0}),e.jsxs("label",{htmlFor:"privacy-policy",className:"ml-2 block text-sm text-gray-700",children:["I agree to the ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Send Message"})})]})]})})]}),e.jsx("div",{className:"mt-12",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"h-96",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3983.7457595356636!2d101.62267491475844!3d3.1336856977112247!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31cc4be09fa8c94b%3A0x92f6c3c8e5b2c1b!2sDamansara%20Uptown%2C%20Petaling%20Jaya%2C%20Selangor%2C%20Malaysia!5e0!3m2!1sen!2sus!4v1623456789012!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})})]})})},g0="http://localhost:5001/api";class Gt{static async createBooking(r){try{const a=await fetch(`${g0}/bookings/create-from-slot`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error creating booking:",a),a}}static async getBookingsByUser(r){try{const a=await fetch(`/api/bookings/user/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to fetch user bookings");return o}catch(a){throw console.error("Error fetching user bookings:",a),a}}static async getBookingsByLandlord(r){try{const a=await fetch(`/api/bookings/landlord/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to fetch landlord bookings");return o}catch(a){throw console.error("Error fetching landlord bookings:",a),a}}static async updateBookingStatus(r,a){try{const o=await fetch(`/api/bookings/${r}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:a})}),c=await o.json();if(!o.ok)throw new Error(c.error||"Failed to update booking status");return c}catch(o){throw console.error("Error updating booking status:",o),o}}static async getBooking(r){try{const a=await fetch(`/api/bookings/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to fetch booking");return o}catch(a){throw console.error("Error fetching booking:",a),a}}static async rescheduleBooking(r,a){try{const o=await fetch(`/api/bookings/${r}/reschedule`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),c=await o.json();if(!o.ok)throw new Error(c.error||"Failed to reschedule booking");return c}catch(o){throw console.error("Error rescheduling booking:",o),o}}static async approveReschedule(r){try{const a=await fetch(`/api/bookings/${r}/approve-reschedule`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to approve reschedule");return o}catch(a){throw console.error("Error approving reschedule:",a),a}}static async cancelReschedule(r){try{const a=await fetch(`/api/bookings/${r}/cancel-reschedule`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to cancel reschedule request");return o}catch(a){throw console.error("Error cancelling reschedule request:",a),a}}static async cancelBooking(r){try{const a=await fetch(`/api/bookings/${r}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to cancel booking");return o}catch(a){throw console.error("Error cancelling booking:",a),a}}static async hasScheduled(r){try{const a=await fetch(`/api/bookings/has-scheduled/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to check booking status");return o}catch(a){return console.error("Error checking booking status:",a),{success:!1,has_scheduled:!1}}}static async markAsSeen(r){try{const a=await fetch(`/api/bookings/${r}/mark-as-seen`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to mark booking as seen");return o}catch(a){return console.error("Error marking booking as seen:",a),{success:!1}}}static async declineReschedule(r){try{const a=await fetch(`/api/bookings/${r}/decline-reschedule`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to decline reschedule");return o}catch(a){throw console.error("Error declining reschedule:",a),a}}static async resolveAvailabilityConflicts(r){try{const a=await fetch(`${g0}/bookings/resolve-conflicts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error resolving conflicts:",a),a}}static async selectRescheduleSlot(r,a){try{const o=await fetch(`/api/bookings/${r}/select-reschedule-slot`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({viewing_slot_id:a})}),c=await o.json();if(!o.ok)throw new Error(c.error||"Failed to select reschedule slot");return c}catch(o){throw console.error("Error selecting reschedule slot:",o),o}}static async getBookingById(r){try{const a=await fetch(`/api/bookings/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to fetch booking");return o}catch(a){throw console.error("Error fetching booking:",a),a}}}const jt="http://localhost:5001/api";class ys{static async getProperties(r={}){try{const a=new URLSearchParams;Object.keys(r).forEach(m=>{r[m]!==void 0&&r[m]!==null&&r[m]!==""&&a.append(m,r[m])});const o=`${jt}/properties${a.toString()?"?"+a.toString():""}`,c=await fetch(o);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(a){throw console.error("Error fetching properties:",a),a}}static async getProperty(r){try{const a=await fetch(`${jt}/properties/${r}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error fetching property:",a),a}}static async createProperty(r){try{const a=await fetch(`${jt}/properties`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error creating property:",a),a}}static async updateProperty(r,a){try{const o=await fetch(`${jt}/properties/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.error||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw console.error("Error updating property:",o),o}}static async deleteProperty(r){try{const a=await fetch(`${jt}/properties/${r}`,{method:"DELETE",credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error deleting property:",a),a}}static async inquireProperty(r){try{const a=await fetch(`${jt}/properties/${r}/inquire`,{method:"POST",credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error recording inquiry:",a),a}}static async getPropertiesByOwner(r){try{const a=await fetch(`${jt}/properties/owner/${r}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){return console.error("Error fetching properties by owner:",a),{success:!1,error:"Failed to fetch properties"}}}static async searchProperties(r={}){try{const a=new URLSearchParams;Object.keys(r).forEach(m=>{r[m]!==void 0&&r[m]!==null&&r[m]!==""&&a.append(m,r[m])});const o=`${jt}/properties/search${a.toString()?"?"+a.toString():""}`,c=await fetch(o);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(a){throw console.error("Error searching properties:",a),a}}static async getPropertyStats(){try{const r=await fetch(`${jt}/properties/stats`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching property stats:",r),r}}static async migrateLocalStorageData(){try{const r=JSON.parse(localStorage.getItem("speedhome_properties")||"[]");if(r.length===0)return console.log("No local properties to migrate"),{success:!0,migrated:0};console.log(`Migrating ${r.length} properties from localStorage to API...`);const a=[];for(const d of r)try{const{id:m,...f}=d,g=await this.createProperty(f);a.push({success:!0,property:g.property}),console.log(`Migrated property: ${d.title}`)}catch(m){console.error(`Failed to migrate property: ${d.title}`,m),a.push({success:!1,error:m.message,property:d})}const o=a.filter(d=>d.success).length,c=a.filter(d=>!d.success).length;return console.log(`Migration completed: ${o} successful, ${c} failed`),o>0&&(localStorage.removeItem("speedhome_properties"),console.log("Cleared localStorage after migration")),{success:!0,migrated:o,failed:c,results:a}}catch(r){throw console.error("Error during migration:",r),r}}static async getPropertiesForFavorites(r={}){try{const a=new URLSearchParams;Object.keys(r).forEach(m=>{r[m]!==void 0&&r[m]!==null&&r[m]!==""&&a.append(m,r[m])});const o=`${jt}/properties/favorites${a.toString()?"?"+a.toString():""}`,c=await fetch(o);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return await c.json()}catch(a){throw console.error("Error fetching properties for favorites:",a),a}}static async addRecurringAvailability(r,a){try{const o=await fetch(`${jt}/properties/${r}/recurring-availability`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.error||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw console.error("Error adding recurring availability:",o),o}}static async addLandlordRecurringAvailability(r,a){try{const o=await fetch(`${jt}/landlord/${r}/recurring-availability`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!o.ok){const d=await o.json().catch(()=>({})),m=new Error(d.error||`HTTP error! status: ${o.status}`);throw m.response={status:o.status,data:d},m}return await o.json()}catch(o){throw console.error("Error adding landlord recurring availability:",o),o}}static async getLandlordViewingSlots(r){try{const a=await fetch(`${jt}/landlord/${r}/viewing-slots`,{method:"GET",credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error fetching landlord viewing slots:",a),a}}static async getAvailableSlots(r){try{const a=await fetch(`${jt}/properties/${r}/available-slots`);if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return(await a.json()).slots}catch(a){throw console.error("Error fetching available slots:",a),a}}static async getLandlordViewingSlots(r){try{const a=await fetch(`${jt}/landlord/${r}/viewing-slots`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error fetching landlord viewing slots:",a),a}}static async getLandlordCalendarStats(r){try{const a=await fetch(`${jt}/landlord/${r}/calendar-stats`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error fetching landlord calendar stats:",a),a}}static async getLandlordSlotsByDate(r,a){try{const o=await fetch(`${jt}/landlord/${r}/calendar-slots/${a}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.error||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw console.error("Error fetching landlord slots by date:",o),o}}static async updatePropertyStatus(r,a,o=null){try{const c={status:a};o&&(c.available_from_date=o);const d=await fetch(`${jt}/properties/${r}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});if(!d.ok){const f=await d.json().catch(()=>({}));throw new Error(f.error||`HTTP error! status: ${d.status}`)}return await d.json()}catch(c){throw console.error("Error updating property status:",c),c}}static async reactivateProperty(r){try{const a=await fetch(`${jt}/properties/${r}/reactivate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error reactivating property:",a),a}}static async deactivateProperty(r){try{const a=await fetch(`${jt}/properties/${r}/deactivate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error deactivating property:",a),a}}static async relistProperty(r,a){try{const o=await fetch(`${jt}/properties/${r}/relist`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({available_from_date:a})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.error||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw console.error("Error re-listing property:",o),o}}static async getPropertyStatus(r){try{const a=await fetch(`${jt}/properties/${r}/status`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("Error fetching property status:",a),a}}}const cn="http://localhost:5001/api";class Un{static async getApplicationsByLandlord(){try{return await(await fetch(`${cn}/applications/landlord`,{credentials:"include"})).json()}catch(r){return console.error("Error fetching landlord applications:",r),{success:!1,error:r.message}}}static async getApplicationsByTenant(){try{return await(await fetch(`${cn}/applications/tenant`,{credentials:"include"})).json()}catch(r){return console.error("Error fetching tenant applications:",r),{success:!1,error:r.message}}}static async updateApplicationStatus(r,a){try{return await(await fetch(`${cn}/applications/${r}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:a})})).json()}catch(o){return console.error("Error updating application status:",o),{success:!1,error:o.message}}}static async createApplication(r){try{let a={...r};if(r.documents){const c={};for(const[d,m]of Object.entries(r.documents))m&&m instanceof File&&(c[`${d}_path`]=`/uploads/applications/${Date.now()}_${m.name}`);delete a.documents,a={...a,...c}}return await(await fetch(`${cn}/applications/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})).json()}catch(a){return console.error("Error creating application:",a),{success:!1,error:a.message}}}static async updateApplication(r,a){try{let o={...a};if(a.documents){const d={};for(const[m,f]of Object.entries(a.documents))f&&f instanceof File&&(d[`${m}_path`]=`/uploads/applications/${Date.now()}_${f.name}`);delete o.documents,o={...o,...d}}return await(await fetch(`${cn}/applications/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)})).json()}catch(o){return console.error("Error updating application:",o),{success:!1,error:o.message}}}static async getApplicationById(r){try{return await(await fetch(`${cn}/applications/${r}`,{credentials:"include"})).json()}catch(a){return console.error("Error fetching application:",a),{success:!1,error:a.message}}}static async hasApplied(r){try{return await(await fetch(`${cn}/applications/status?property_id=${r}`,{credentials:"include"})).json()}catch(a){return console.error("Error checking application status:",a),{success:!1,error:a.message}}}static async withdrawApplication(r){try{return await(await fetch(`${cn}/applications/${r}`,{method:"DELETE",credentials:"include"})).json()}catch(a){return console.error("Error withdrawing application:",a),{success:!1,error:a.message}}}static async markAsSeen(r){try{const a=await fetch(`/api/applications/${r}/mark-seen`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),o=await a.text(),c=o?JSON.parse(o):{};if(!a.ok)throw new Error(c.error||"Failed to mark application as seen");return{success:!0,data:c}}catch(a){return console.error("API Error - Failed to mark application as seen:",a),{success:!1,error:a.message}}}static async uploadDocument(r,a,o){try{const c=new FormData;return c.append("file",r),c.append("document_type",a),c.append("application_id",o),await(await fetch(`${cn}/applications/upload-document`,{method:"POST",credentials:"include",body:c})).json()}catch(c){return console.error("Error uploading document:",c),{success:!1,error:c.message}}}static async downloadDocument(r){try{const a=await fetch(`${cn}/applications/download-document?path=${encodeURIComponent(r)}`,{credentials:"include"});if(a.ok){const o=await a.blob(),c=window.URL.createObjectURL(o),d=document.createElement("a");return d.href=c,d.download=r.split("/").pop(),document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),{success:!0}}else throw new Error("Failed to download document")}catch(a){return console.error("Error downloading document:",a),{success:!1,error:a.message}}}static validateApplicationCompleteness(r){var o,c;const a={};return r.full_name||(a.full_name="Full name is required"),r.phone_number||(a.phone_number="Phone number is required"),r.email||(a.email="Email is required"),r.date_of_birth||(a.date_of_birth="Date of birth is required"),r.employment_status||(a.employment_status="Employment status is required"),r.monthly_income||(a.monthly_income="Monthly income is required"),r.bank_name||(a.bank_name="Bank name is required"),!r.id_document_path&&!((o=r.documents)!=null&&o.id_document)&&(a.id_document="ID document is required"),!r.income_proof_path&&!((c=r.documents)!=null&&c.income_proof)&&(a.income_proof="Income proof is required"),{isValid:Object.keys(a).length===0,errors:a}}static calculateFinancialMetrics(r,a){const o=parseFloat(r.monthly_income||0),c=parseFloat(r.additional_income||0),d=o+c,m=parseFloat(a||0);let f=null,g="Unknown";return d>0&&m>0&&(f=(m/d*100).toFixed(2),f<=30?g="Low Risk":f<=40?g="Medium Risk":g="High Risk"),{totalIncome:d,rentToIncomeRatio:f,riskLevel:g}}}const Vt="http://localhost:5001/api/tenancy-agreements/";class Nt{static async getAll(){try{return await(await fetch(Vt,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(r){return console.error("Error fetching agreements:",r),{success:!1,error:"Network error occurred"}}}static async getById(r,a={}){try{const o=new URL(`${Vt}${r}`);return a._t&&o.searchParams.append("_t",a._t),await(await fetch(o.toString(),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})).json()}catch(o){return console.error("Error fetching agreement:",o),{success:!1,error:"Network error occurred"}}}static async createFromApplication(r){try{return await(await fetch(`${Vt}/create-from-application`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({application_id:r})})).json()}catch(a){return console.error("Error creating agreement:",a),{success:!1,error:"Network error occurred"}}}static async signAgreement(r){try{return await(await fetch(`${Vt}${r}/sign`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json()}catch(a){return console.error("Error signing agreement:",a),{success:!1,error:"Network error occurred"}}}static async recordPayment(r,a){try{return await(await fetch(`${Vt}/${r}/payment`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}catch(o){return console.error("Error recording payment:",o),{success:!1,error:"Network error occurred"}}}static async getStatus(r){try{return await(await fetch(`${Vt}/${r}/status`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(a){return console.error("Error getting status:",a),{success:!1,error:"Network error occurred"}}}static async downloadDraftPDF(r){try{const a=await fetch(`${Vt}/${r}/download-draft`,{method:"GET",credentials:"include"});if(a.ok){const o=await a.blob();return{success:!0,download_url:window.URL.createObjectURL(o)}}else return await a.json()}catch(a){return console.error("Error downloading draft PDF:",a),{success:!1,error:"Network error occurred"}}}static async downloadFinalPDF(r){try{const a=await fetch(`${Vt}/${r}/download-final`,{method:"GET",credentials:"include"});if(a.ok){const o=await a.blob();return{success:!0,download_url:window.URL.createObjectURL(o)}}else return await a.json()}catch(a){return console.error("Error downloading final PDF:",a),{success:!1,error:"Network error occurred"}}}static async previewHTML(r){try{const a=await fetch(`${Vt}/${r}/preview`,{method:"GET",credentials:"include"});return a.ok?{success:!0,html:await a.text()}:await a.json()}catch(a){return console.error("Error previewing agreement:",a),{success:!1,error:"Network error occurred"}}}static async regeneratePDF(r){try{return await(await fetch(`${Vt}/${r}/regenerate-pdf`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(a){return console.error("Error regenerating PDF:",a),{success:!1,error:"Network error occurred"}}}static async completeDepositPayment(r,a){try{return await(await fetch(`/api/deposit-payment/complete/${r}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}catch(o){return console.error("Error completing deposit payment:",o),{success:!1,error:"Network error occurred"}}}static getStatusColor(r){switch(r){case"pending_signatures":return"text-yellow-600 bg-yellow-100";case"pending_payment":return"text-blue-600 bg-blue-100";case"website_fee_paid":return"text-orange-600 bg-orange-100";case"active":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}}static formatStatus(r){switch(r){case"pending_signatures":return"Pending Signatures";case"pending_payment":return"Pending Payment";case"active":return"Active";case"cancelled":return"Cancelled";default:return r}}static isFullySigned(r){return r.landlord_signed_at&&r.tenant_signed_at}static async initiateSigning(r){try{return await(await fetch(`${Vt}/${r}/initiate-signing`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(a){return console.error("Error initiating signing:",a),{success:!1,error:"Network error occurred"}}}static async initiatePayment(r){try{return await(await fetch(`${Vt}/${r}/initiate-payment`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(a){return console.error("Error initiating payment:",a),{success:!1,error:"Network error occurred"}}}static async cancelAgreement(r,a){try{return await(await fetch(`${Vt}/${r}/cancel`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:a})})).json()}catch(o){return console.error("Error cancelling agreement:",o),{success:!1,error:"Network error occurred"}}}static async getServiceStatus(){try{return await(await fetch(`${Vt}/service-status`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(r){return console.error("Error getting service status:",r),{success:!1,error:"Network error occurred"}}}static async getTenantAgreements(){try{return await(await fetch(`${Vt}tenant`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(r){return console.error("Error fetching tenant agreements:",r),{success:!1,error:"Network error occurred"}}}static async withdrawLandlordOffer(r,a="Landlord changed mind"){try{return await(await fetch(`${Vt}/${r}/withdraw-offer`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:a})})).json()}catch(o){return console.error("Error withdrawing landlord offer:",o),{success:!1,error:"Network error occurred"}}}static async withdrawTenantSignature(r,a="Tenant changed mind"){try{return await(await fetch(`${Vt}/${r}/withdraw-signature`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:a})})).json()}catch(o){return console.error("Error withdrawing tenant signature:",o),{success:!1,error:"Network error occurred"}}}static async checkExpiry(r){try{return await(await fetch(`${Vt}/${r}/check-expiry`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(a){return console.error("Error checking agreement expiry:",a),{success:!1,error:"Network error occurred"}}}static getStatusColor(r){switch(r){case"pending_signatures":return"text-yellow-600 bg-yellow-100";case"pending_payment":return"text-blue-600 bg-blue-100";case"website_fee_paid":return"text-orange-600 bg-orange-100";case"active":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"withdrawn":return"text-orange-600 bg-orange-100";case"expired":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}}static formatStatus(r){switch(r){case"pending_signatures":return"Pending Signatures";case"pending_payment":return"Pending Payment";case"website_fee_paid":return"Pending Deposit Payment";case"active":return"Active";case"cancelled":return"Cancelled";case"withdrawn":return"Withdrawn";case"expired":return"Expired";default:return r}}static formatTimeUntilExpiry(r){if(!r||r<=0)return"Expired";if(r<1)return`${Math.floor(r*60)}m remaining`;if(r<24){const a=Math.floor(r),o=Math.floor((r-a)*60);return`${a}h ${o}m remaining`}else{const a=Math.floor(r/24),o=Math.floor(r%24);return`${a}d ${o}h remaining`}}static canWithdraw(r,a){return a==="landlord"?r.can_landlord_withdraw:a==="tenant"?r.can_tenant_withdraw:!1}}const Nm="http://localhost:5001";class mo{static async getTenantDepositDashboard(){try{const r=await fetch(`${Nm}/api/tenant/deposits/dashboard`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching tenant deposit dashboard:",r),r}}static async getDepositForAgreement(r){try{const a=await fetch(`${Nm}/api/tenant/deposits/agreement/${r}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error fetching deposit for agreement:",a),a}}static async getDepositStatus(r){try{const a=await fetch(`${Nm}/api/tenant/deposits/${r}/status`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error fetching deposit status:",a),a}}static formatMYR(r){return new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}static getDepositStatusColor(r){switch(r){case"held_in_escrow":return"bg-blue-100 text-blue-800";case"pending_release":return"bg-yellow-100 text-yellow-800";case"partially_released":return"bg-orange-100 text-orange-800";case"fully_released":return"bg-green-100 text-green-800";case"disputed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}static getDepositStatusText(r){switch(r){case"held_in_escrow":return"Held in Escrow";case"pending_release":return"Pending Release";case"partially_released":return"Partially Released";case"fully_released":return"Fully Released";case"disputed":return"Under Dispute";default:return r||"Unknown"}}}const Zs=n=>{if(!n)return"Invalid Date";try{const r=new Date(n);return isNaN(r.getTime())?"Invalid Date":r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(r){return console.error("Error formatting date:",r),"Invalid Date"}},qr=n=>{if(!n)return"Invalid Time";try{let r;return n.includes("T")?r=new Date(n):r=new Date(`1970-01-01T${n}:00`),isNaN(r.getTime())?"Invalid Time":r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(r){return console.error("Error formatting time:",r),"Invalid Time"}},uE=(n,r)=>{const a=Zs(n),o=qr(r);return a==="Invalid Date"||o==="Invalid Time"?"Invalid Date/Time":`${a} at ${o}`},mE=({propertyId:n,onBookingSuccess:r,onClose:a,onSlotSelect:o,isReschedule:c=!1})=>{const{user:d}=Qt(),[m,f]=p.useState([]),[g,x]=p.useState(null),[y,b]=p.useState(!0),[w,S]=p.useState(!1),[N,v]=p.useState(new Date);p.useEffect(()=>{(async()=>{if(n)try{b(!0);const P=await ys.getAvailableSlots(n);f(P)}catch(P){console.error("Error loading available slots:",P)}finally{b(!1)}})()},[n]);const _=()=>{const T={};return m.forEach(P=>{if(P.is_available){const F=P.date;T[F]||(T[F]=[]),T[F].push(P)}}),T},k=()=>{const T=[],P=new Date;for(let F=0;F<60;F++){const J=new Date(P);J.setDate(P.getDate()+F),T.push(J)}return T},E=T=>T.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),D=T=>T.toISOString().split("T")[0],L=T=>{const P=new Date;return T.toDateString()===P.toDateString()},M=T=>{x(T)},z=async()=>{if(!(!g||!d))try{S(!0);const T=await Gt.createBooking({property_id:n,viewing_slot_id:g.id,tenant_id:d.id,booking_date:g.date,booking_time:g.start_time,status:"pending"});T.success?(alert("Viewing appointment booked successfully!"),r&&r(),a&&a()):alert(`Failed to book appointment: ${T.error}`)}catch(T){console.error("Error booking appointment:",T),alert("An error occurred while booking the appointment.")}finally{S(!1)}};if(y)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"})});const $=_(),O=k();return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select Viewing Time"}),a&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"text-gray-600 text-lg",children:"No viewing slots available"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Please contact the landlord to schedule a viewing"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map((T,P)=>{const F=D(T),J=$[F]||[];return J.length===0?null:e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:`text-sm font-medium mb-3 ${L(T)?"text-yellow-600":"text-gray-700"}`,children:[E(T),L(T)&&e.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Today"})]}),e.jsx("div",{className:"space-y-2",children:J.map(Z=>e.jsxs("button",{onClick:()=>M(Z),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${(g==null?void 0:g.id)===Z.id?"bg-yellow-500 text-white":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:[Z.start_time," - ",Z.end_time]},Z.id))})]},P)})}),g&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Selected Viewing Time"}),e.jsxs("p",{className:"text-yellow-700",children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(g.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("p",{className:"text-yellow-700",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",g.start_time," - ",g.end_time]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:g?"Ready to book your viewing appointment?":"Please select a time slot above"}),e.jsxs("div",{className:"flex space-x-3",children:[a&&e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c?()=>{g&&o&&o(g.id)}:z,disabled:!g||w,className:`px-6 py-2 rounded-md font-medium transition-colors ${g&&!w?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:w?"Processing...":c?"Select This Slot":"Book Viewing"})]})]})]})]})};class fE{constructor(){this.baseURL="http://localhost:5001/api"}async getConversations(){try{const r=await fetch(`${this.baseURL}/conversations`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch conversations");return a}catch(r){throw console.error("Error fetching conversations:",r),r}}async getMessages(r,a=1,o=50){try{const c=await fetch(`${this.baseURL}/conversations/${r}/messages?page=${a}&per_page=${o}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),d=await c.json();if(!c.ok)throw new Error(d.error||"Failed to fetch messages");return d}catch(c){throw console.error("Error fetching messages:",c),c}}async sendMessage(r,a,o="text"){try{const c=await fetch(`${this.baseURL}/conversations/${r}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message_body:a,message_type:o})}),d=await c.json();if(!c.ok)throw new Error(d.error||"Failed to send message");return d}catch(c){throw console.error("Error sending message:",c),c}}async createConversation(r){try{const a=await fetch(`${this.baseURL}/conversations/create`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_id:r})}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to create conversation");return o}catch(a){throw console.error("Error creating conversation:",a),a}}async getOrCreateConversation(r){try{const a=await fetch(`${this.baseURL}/conversations/create`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_id:r})}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to get or create conversation");return o}catch(a){throw console.error("Error getting or creating conversation:",a),a}}async getConversation(r){try{const a=await fetch(`${this.baseURL}/conversations/${r}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to fetch conversation");return o}catch(a){throw console.error("Error fetching conversation:",a),a}}async editMessage(r,a){try{const o=await fetch(`${this.baseURL}/messages/${r}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message_body:a})}),c=await o.json();if(!o.ok)throw new Error(c.error||"Failed to edit message");return c}catch(o){throw console.error("Error editing message:",o),o}}async deleteMessage(r){try{const a=await fetch(`${this.baseURL}/messages/${r}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw new Error(o.error||"Failed to delete message");return o}catch(a){throw console.error("Error deleting message:",a),a}}formatTimestamp(r){if(!r)return"";const a=new Date(r),o=new Date,c=(o-a)/(1e3*60*60);if(c<1){const d=Math.floor((o-a)/6e4);return d<=1?"Just now":`${d}m ago`}else return c<24?`${Math.floor(c)}h ago`:c<48?"Yesterday":a.toLocaleDateString()}getStatusDisplay(r,a){return r==="read_only"?`Read Only (${a})`:r==="closed"?"Closed":"Active"}async markConversationAsRead(r){try{const a=await fetch(`${this.baseURL}/conversations/${r}/mark-read`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!a.ok){const o=await a.json();throw new Error(o.error||"Failed to mark conversation as read")}return await a.json().catch(()=>({success:!0}))}catch(a){throw console.error("Error marking conversation as read:",a),a}}}const Os=new fE,hE=({conversations:n,selectedConversation:r,onConversationSelect:a,currentUser:o})=>{const c=f=>{var g,x,y,b;return o?o.role==="landlord"?{name:((g=f.other_participant)==null?void 0:g.name)||"Tenant",avatarInitial:(((x=f.other_participant)==null?void 0:x.name)||"T").charAt(0).toUpperCase()}:{name:((y=f.other_participant)==null?void 0:y.name)||"Landlord",avatarInitial:(((b=f.other_participant)==null?void 0:b.name)||"L").charAt(0).toUpperCase()}:{name:"Unknown",avatarInitial:"?"}},d=f=>f.last_message_body?f.last_message_body:"No messages yet",m=f=>{if(!f)return"";const g=new Date(f);return new Date().toDateString()===g.toDateString()?g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):g.toLocaleDateString([],{month:"short",day:"numeric"})};return!n||n.length===0?null:e.jsx("div",{className:"h-full overflow-y-auto",children:n.map(f=>{const g=c(f),x=(r==null?void 0:r.id)===f.id;return e.jsxs("div",{onClick:()=>a(f),className:`
                            flex items-center p-3 space-x-3 cursor-pointer border-b border-gray-200
                            transition-colors duration-150
                            ${x?"bg-blue-50":"hover:bg-gray-50"}
                        `,children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-semibold text-gray-600",children:g.avatarInitial})}),f.unread_count>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-4 w-4 rounded-full bg-red-500 text-white text-xs flex items-center justify-center border-2 border-white",children:f.unread_count})]}),e.jsxs("div",{className:"flex-grow overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-800 truncate",children:g.name}),e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:m(f.last_message_at||f.created_at)})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:f.property_title||"Property Details"}),e.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:d(f)})]})]},f.id)})})},pE=({message:n,isOwn:r,currentUser:a})=>{const[o,c]=p.useState(!1),[d,m]=p.useState(n.message_body),[f,g]=p.useState(!1),x=async()=>{if(d.trim())try{await Os.editMessage(n.id,d.trim()),c(!1)}catch(N){console.error("Error editing message:",N),alert("Failed to edit message: "+N.message)}},y=async()=>{if(window.confirm("Are you sure you want to delete this message?"))try{g(!0),await Os.deleteMessage(n.id)}catch(N){console.error("Error deleting message:",N),alert("Failed to delete message: "+N.message),g(!1)}},b=()=>{if(!r)return!1;const N=new Date(n.created_at);return(new Date-N)/(1e3*60)<15},w=()=>r,S=N=>new Date(N).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return f?e.jsx("div",{className:`message-bubble ${r?"own":"other"} deleted`,children:e.jsx("div",{className:"message-content",children:e.jsx("em",{children:"Message deleted"})})}):e.jsx("div",{className:`message-bubble ${r?"own":"other"}`,children:e.jsxs("div",{className:"message-content",children:[!r&&e.jsxs("div",{className:"sender-name",children:[n.sender_name," (",n.sender_role,")"]}),o?e.jsxs("div",{className:"message-edit",children:[e.jsx("textarea",{value:d,onChange:N=>m(N.target.value),className:"edit-textarea",rows:"3"}),e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{onClick:x,className:"save-button",children:"Save"}),e.jsx("button",{onClick:()=>{c(!1),m(n.message_body)},className:"cancel-button",children:"Cancel"})]})]}):e.jsxs("div",{className:"message-text",children:[n.message_body,n.is_edited&&e.jsx("span",{className:"edited-indicator",children:" (edited)"})]}),e.jsxs("div",{className:"message-footer",children:[e.jsx("span",{className:"message-time",children:S(n.created_at)}),r&&!o&&e.jsxs("div",{className:"message-actions",children:[b()&&e.jsx("button",{onClick:()=>c(!0),className:"action-button edit-button",title:"Edit message",children:""}),w()&&e.jsx("button",{onClick:y,className:"action-button delete-button",title:"Delete message",children:""})]}),r&&n.is_read&&e.jsx("span",{className:"read-indicator",title:"Read",children:""})]})]})})},xE=({onSendMessage:n,disabled:r,placeholder:a="Type a message..."})=>{const[o,c]=p.useState(""),d=p.useRef(null);p.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+"px")},[o]);const m=x=>{x.preventDefault(),!(!o.trim()||r)&&(n(o),c(""))},f=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),m(x))},g=x=>{c(x.target.value)};return e.jsx("div",{className:"message-input",children:e.jsxs("form",{onSubmit:m,className:"message-form",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("textarea",{ref:d,value:o,onChange:g,onKeyPress:f,placeholder:a,disabled:r,className:"message-textarea",rows:"1",maxLength:1e3}),e.jsx("button",{type:"submit",disabled:!o.trim()||r,className:"send-button",title:"Send message",children:r?e.jsx("span",{className:"sending-indicator",children:""}):e.jsx("span",{className:"send-icon",children:""})})]}),e.jsxs("div",{className:"input-footer",children:[e.jsxs("span",{className:"character-count",children:[o.length,"/1000"]}),e.jsx("span",{className:"input-hint",children:"Press Enter to send, Shift+Enter for new line"})]})]})})},gE=({conversation:n,currentUser:r,onMessageSent:a})=>{const[o,c]=p.useState([]),[d,m]=p.useState(!0),[f,g]=p.useState(null),[x,y]=p.useState(!1),b=p.useRef(null),w=p.useRef(null);p.useEffect(()=>{n!=null&&n.id&&S()},[n==null?void 0:n.id]),p.useEffect(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[o,d]);const S=async()=>{try{m(!0),g(null);const k=await Os.getMessages(n.id);c(k.messages||[])}catch(k){console.error("Error loading messages:",k),g("Failed to load messages. Please try again.")}finally{m(!1)}},N=async k=>{if(!(!k.trim()||x))try{y(!0);const E=await Os.sendMessage(n.id,k.trim());c(D=>[...D,E.message]),a()}catch(E){console.error("Error sending message:",E)}finally{y(!1)}},v=(n==null?void 0:n.other_participant)||{name:"User"},_=()=>n.status==="active"&&["pending","confirmed"].includes(n.booking_status);return e.jsxs("div",{className:"flex flex-col h-full bg-white max-h-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center p-3 border-b border-gray-200 flex-shrink-0",children:[e.jsx("div",{className:"relative flex-shrink-0 mr-3",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-semibold text-gray-600",children:v.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:v.name}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Regarding: ",n.property_title]})]})]}),e.jsxs("div",{ref:w,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 min-h-0",children:[d&&e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),f&&e.jsxs("div",{className:"text-center p-4",children:[e.jsx("p",{className:"text-red-500 mb-2",children:f}),e.jsx("button",{onClick:S,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm",children:"Try Again"})]}),!d&&!f&&o.length===0&&e.jsxs("div",{className:"text-center p-4 text-gray-500",children:[e.jsx("div",{className:"text-5xl mb-2",children:""}),e.jsx("h4",{className:"font-semibold",children:"Start the conversation"}),e.jsxs("p",{className:"text-sm",children:["Send a message to ",v.name,"."]})]}),!d&&!f&&o.length>0&&o.map(k=>e.jsx(pE,{message:k,isOwn:k.sender_id===(r==null?void 0:r.id)},k.id)),e.jsx("div",{ref:b})]}),e.jsx("div",{className:"p-3 border-t border-gray-200 flex-shrink-0 bg-white",children:_()?e.jsx(xE,{onSendMessage:N,disabled:x,placeholder:`Message ${v.name}...`}):e.jsx("div",{className:"text-center text-sm text-gray-500 p-2 bg-gray-100 rounded-lg",children:"Messaging is disabled for this conversation."})})]})},Ob=({user:n,selectedConversationId:r,onConversationSelect:a,onConversationRead:o})=>{const[c,d]=p.useState([]),[m,f]=p.useState(null),[g,x]=p.useState(!0),[y,b]=p.useState(null);p.useEffect(()=>{w()},[]),p.useEffect(()=>{if(r&&c.length>0){const v=c.find(_=>_.id===r);v&&f(v)}},[r,c]);const w=async()=>{try{x(!0);const v=await Os.getConversations();d(v.conversations||[]),b(null)}catch(v){console.error("Error loading conversations:",v),b("Failed to load conversations")}finally{x(!1)}},S=async v=>{if(f(v),a&&a(v.id),v.unread_count>0)try{await Os.markConversationAsRead(v.id),o&&o(),w()}catch(_){console.error("Failed to mark conversation as read:",_)}},N=async()=>{try{const v=await Os.getConversations();v.success&&d(v.conversations)}catch(v){console.error("Failed to refresh conversations after sending message:",v)}};return g?e.jsx("div",{className:"messaging-center h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading conversations..."})]})}):y?e.jsx("div",{className:"messaging-center h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load conversations"}),e.jsx("p",{className:"text-gray-500 mb-4",children:y}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Try Again"})]})}):c.length===0?e.jsx("div",{className:"messaging-center h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conversations yet"}),e.jsx("p",{className:"text-gray-500 max-w-md",children:(n==null?void 0:n.role)==="landlord"?"Conversations will appear here when tenants book viewings for your properties.":"Start a conversation by booking a property viewing. You can message the landlord once your booking is submitted."})]})}):e.jsx("div",{className:"messaging-center w-full h-full",children:e.jsxs("div",{className:"messaging-layout h-full flex",children:[e.jsxs("div",{className:"conversation-list-panel w-1/3 border-r border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:" Messages"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(n==null?void 0:n.role)==="landlord"?"Chat with your tenants":"Chat with landlords"})]}),e.jsx(hE,{conversations:c,selectedConversation:m,onConversationSelect:S,currentUser:n,loading:!1})]}),e.jsx("div",{className:"chat-window-panel w-2/3 flex flex-col max-h-full overflow-hidden",children:m?e.jsx(gE,{conversation:m,currentUser:n,onBack:null,onMessageSent:N}):e.jsx("div",{className:"no-conversation-selected h-full flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})})},yE=({favorites:n,toggleFavorite:r})=>{const a=ws(),{user:o,isAuthenticated:c,isTenant:d,updateProfile:m,refreshUser:f}=Qt(),[g,x]=p.useState([]),[y,b]=p.useState("dashboard"),[w,S]=p.useState(null),[N,v]=p.useState([]),[_,k]=p.useState([]),[E,D]=p.useState([]),[L,M]=p.useState([]),[z,$]=p.useState([]),[O,T]=p.useState(!1),[P,F]=p.useState({first_name:"",last_name:"",phone:"",bio:"",occupation:"",company_name:"",profile_picture:null}),[J,Z]=p.useState(!1),oe=p.useRef(null),[ae,U]=p.useState(!1),[G,Y]=p.useState({bookingId:null,newDate:"",newTime:""}),[xe,C]=p.useState(!1),[H,V]=p.useState(null);p.useEffect(()=>{o&&F({first_name:o.first_name||"",last_name:o.last_name||"",phone:o.phone||"",bio:o.bio||"",occupation:o.occupation||"",company_name:o.company_name||"",profile_picture:o.profile_picture||null})},[o]);const X=q=>{const{name:ge,value:ne}=q.target;F(Se=>({...Se,[ge]:ne}))},se=q=>{const ge=q.target.files[0];if(ge){if(!ge.type.startsWith("image/")){alert("Please select an image file.");return}if(ge.size>2*1024*1024){alert("File is too large. Please select an image under 2MB.");return}const ne=new FileReader;ne.onloadend=()=>{F(Se=>({...Se,profile_picture:ne.result}))},ne.readAsDataURL(ge)}},le=async q=>{q.preventDefault(),Z(!0);try{const ge=await m(P);ge.success?(alert("Profile updated successfully!"),T(!1),await f()):alert(`Failed to update profile: ${ge.error}`)}catch(ge){console.error("Error saving profile:",ge),alert("An unexpected error occurred.")}finally{Z(!1)}},ye=()=>{T(!1),o&&F({first_name:o.first_name||"",last_name:o.last_name||"",phone:o.phone||"",bio:o.bio||"",occupation:o.occupation||"",company_name:o.company_name||"",profile_picture:o.profile_picture||null})},ce=async q=>{if(window.confirm("Are you sure you want to withdraw this application? This action cannot be undone."))try{const ge=await Un.withdrawApplication(q);ge.success?(alert("Application withdrawn successfully."),await ie()):alert(`Failed to withdraw application: ${ge.error}`)}catch(ge){console.error("Error withdrawing application:",ge),alert("An unexpected error occurred while withdrawing the application.")}};p.useEffect(()=>{if(!c){a("/");return}if(!d()){alert("Access denied. This dashboard is for tenants only."),a("/");return}},[c,d,a]);const he=async()=>{if(!(!c||!o))try{const q=await Gt.getBookingsByUser(o.id);q.success&&v(q.bookings)}catch(q){console.error("Error loading bookings:",q)}},ie=async()=>{if(!(!c||!o))try{const q=await Un.getApplicationsByTenant();q.success&&k(q.applications)}catch(q){console.error("Error loading applications:",q)}},be=async()=>{if(!(!c||!o))try{const q=await Nt.getTenantAgreements();q.success&&D(q.agreements)}catch(q){console.error("Error loading agreements:",q)}},ke=async()=>{if(!(!c||!o))try{const q=await mo.getTenantDepositDashboard();q.success&&$(q.dashboard.active_agreements||[])}catch(q){console.error("Error loading deposits:",q)}},Re=async q=>{try{a(`/deposit-payment/${q}`)}catch(ge){console.error("Error initiating deposit payment:",ge),alert("Unable to initiate deposit payment at this time.")}},Qe=async()=>{if(!n||n.length===0){M([]);return}try{const q=await ys.getPropertiesForFavorites();if(q.success){const ge=q.properties.filter(ne=>n.includes(ne.id));M(ge)}}catch(q){console.error("Error loading favorited properties:",q)}};p.useEffect(()=>{c&&o&&(he(),ie(),be(),ke())},[c,o]),p.useEffect(()=>{Qe()},[n]);const ct=async q=>{if(window.confirm("Are you sure you want to cancel this viewing appointment?"))try{const ge=await Gt.cancelBooking(q);ge.success?(await he(),alert("Viewing appointment cancelled successfully.")):alert(`Failed to cancel appointment: ${ge.error}`)}catch(ge){console.error("Error cancelling booking:",ge)}},_t=q=>{const ge=q.property_id||q.propertyId;ge&&a(`/property/${ge}`)},At=async q=>{if(window.confirm("Are you sure you want to sign this tenancy agreement? This action cannot be undone."))try{const ge=await Nt.signAgreement(q);ge.success?(alert("Agreement signed successfully! The landlord will be notified."),await be()):alert(`Failed to sign agreement: ${ge.error}`)}catch(ge){console.error("Error signing agreement:",ge),alert("An error occurred while signing the agreement. Please try again.")}},qe=async q=>{if(window.confirm("Are you sure you want to cancel this reschedule request?"))try{const ge=await Gt.cancelReschedule(q);ge.success?(await he(),alert("Reschedule request has been cancelled.")):alert(`Failed to cancel reschedule request: ${ge.error}`)}catch(ge){console.error("Error cancelling reschedule request:",ge)}};p.useEffect(()=>{(async()=>{try{const ge=await Os.getConversations();ge.success&&x(ge.conversations)}catch(ge){console.error("Failed to load conversations:",ge)}})()},[]);const rt=g.some(q=>q.unread_count>0),Wt=q=>{const ge=(q.status==="pending"||q.status==="Reschedule Requested")&&(q.reschedule_requested_by==="landlord"||q.rescheduleRequestedBy==="landlord"),ne=(q.status==="pending"||q.status==="Reschedule Requested")&&(q.reschedule_requested_by==="tenant"||q.rescheduleRequestedBy==="tenant");return ge?{text:"Reschedule Proposed",color:"bg-orange-100 text-orange-800",description:"Landlord has proposed a new date/time"}:ne?{text:"Reschedule Requested",color:"bg-blue-100 text-blue-800",description:"Waiting for landlord response"}:{pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800",description:"Awaiting confirmation"},confirmed:{text:"Confirmed",color:"bg-green-100 text-green-800",description:"Appointment confirmed"},cancelled:{text:"Cancelled",color:"bg-red-100 text-red-800",description:"Appointment cancelled"},completed:{text:"Completed",color:"bg-gray-100 text-gray-800",description:"Viewing completed"}}[q.status]||{text:q.status,color:"bg-gray-100 text-gray-800",description:""}},Jt=async()=>{try{const q=await Os.getConversations();q.success&&x(q.conversations)}catch(q){console.error("Failed to re-load conversations:",q)}},ve=q=>({pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"}})[q]||{text:q,color:"bg-gray-100 text-gray-800"},Ve=q=>{Y({bookingId:q,newDate:"",newTime:""}),U(!0)},dt=q=>{V(q),C(!0)},ut=async q=>{try{const ge=await Gt.selectRescheduleSlot(H.id,q);ge.success?(alert("New viewing time selected successfully!"),C(!1),V(null),he()):alert(`Failed to select slot: ${ge.error}`)}catch(ge){console.error("Error selecting slot:",ge),alert("An error occurred while selecting the slot.")}},Et=async q=>{q.preventDefault();const{bookingId:ge,newDate:ne,newTime:Se}=G;if(!ne||!Se){alert("Please select a new date and time.");return}try{const Ae=await Gt.rescheduleBooking(ge,{date:ne,time:Se,requested_by:"tenant"});Ae.success?(await he(),U(!1),alert("Reschedule request sent successfully!")):alert(`Failed to send reschedule request: ${Ae.error}`)}catch(Ae){console.error("Error sending reschedule request:",Ae)}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8 font-sans",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Dashboard"}),e.jsx("div",{className:"bg-white shadow-sm rounded-lg mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>b("dashboard"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Dashboard"}),e.jsxs("button",{onClick:()=>b("messages"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${y==="messages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{children:" Messages"}),rt&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold bg-red-500 text-white",children:"New"})]}),e.jsx("button",{onClick:()=>b("agreements"),className:`py-4 px-1 border-b-2 font-medium text-sm ${y==="agreements"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Agreements"})]})})}),y==="dashboard"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[e.jsx("div",{className:"relative mb-4",children:e.jsx("img",{src:(o==null?void 0:o.profile_picture)||`https://ui-avatars.com/api/?name=${(o==null?void 0:o.full_name)||(o==null?void 0:o.username)}&background=fbbF24&color=fff`,alt:"Profile",className:"rounded-full w-24 h-24 object-cover border-4 border-white shadow-lg"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:(o==null?void 0:o.full_name)||(o==null?void 0:o.username)||"User"}),e.jsx("p",{className:"text-gray-600 break-all",children:(o==null?void 0:o.email)||"No email provided"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Account Type:"}),e.jsx("span",{className:"font-medium bg-gray-100 px-2 py-1 rounded",children:"Tenant"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Member Since:"}),e.jsx("span",{className:"font-medium",children:Zs(o==null?void 0:o.created_at)})]})]})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Profile"}),!O&&e.jsx("button",{onClick:()=>T(!0),className:"text-blue-600 hover:text-blue-800 text-sm font-semibold",children:"Edit"})]}),O?e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("img",{src:P.profile_picture||`https://ui-avatars.com/api/?name=${(o==null?void 0:o.full_name)||(o==null?void 0:o.username)}&background=fbbF24&color=fff`,alt:"Profile Preview",className:"rounded-full w-24 h-24 object-cover border-4 border-gray-200"}),e.jsx("input",{type:"file",ref:oe,onChange:se,accept:"image/*",className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>oe.current.click(),className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg text-sm font-semibold hover:bg-gray-200",children:"Change Picture"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{type:"text",name:"first_name",value:P.first_name,onChange:X,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"last_name",value:P.last_name,onChange:X,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:P.phone,onChange:X,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Occupation"}),e.jsx("input",{type:"text",name:"occupation",value:P.occupation,onChange:X,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",placeholder:"e.g., Software Engineer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),e.jsx("input",{type:"text",name:"company_name",value:P.company_name,onChange:X,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",placeholder:"e.g., Speedhome Inc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"About Me / Bio"}),e.jsx("textarea",{name:"bio",value:P.bio,onChange:X,rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Introduce yourself to landlords..."})]}),e.jsxs("div",{className:"flex gap-4 pt-2",children:[e.jsx("button",{type:"button",onClick:ye,className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:J,className:"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 transition duration-200 disabled:bg-yellow-300",children:J?"Saving...":"Save Changes"})]})]}):e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Full Name:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(o==null?void 0:o.full_name)||"Not set"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(o==null?void 0:o.phone)||"Not set"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Occupation:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(o==null?void 0:o.occupation)||"Not set"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Company:"}),e.jsx("span",{className:"font-medium text-gray-800",children:(o==null?void 0:o.company_name)||"Not set"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"About Me:"}),e.jsx("p",{className:"font-medium text-gray-800 whitespace-pre-wrap mt-1",children:(o==null?void 0:o.bio)||"Not set"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Rental Applications"}),_.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No applications submitted yet"}),e.jsx("p",{className:"text-gray-500",children:"When you apply for a property, your application will appear here."}),e.jsx(Me,{to:"/",className:"inline-block mt-4 bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition duration-200 font-semibold",children:"Find a Property"})]}):e.jsx("div",{className:"space-y-4",children:_.map(q=>{var ne;const ge=ve(q.status);return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow bg-white",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:((ne=q.property)==null?void 0:ne.title)||"Application"}),e.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{children:["Applied: ",Zs(q.created_at)]}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsxs("span",{children:["Application ID: #",q.id]})]}),q.message&&e.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-md border border-gray-200",children:[e.jsx("strong",{className:"text-gray-800",children:"Your message:"}),' "',q.message,'"']})]}),e.jsx("div",{className:"flex flex-col items-start sm:items-end space-y-2 w-full sm:w-auto",children:e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${ge.color}`,children:ge.text})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center gap-4",children:[e.jsx(Me,{to:`/property/${q.property_id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Property"}),q.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ce(q.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Withdraw Application"})]})]})]},q.id)})})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Viewing Appointments"}),N.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No viewing appointments yet"}),e.jsx("p",{className:"text-gray-500",children:"Browse properties and schedule viewings to see them here."}),e.jsx(Me,{to:"/",className:"inline-block mt-4 bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition duration-200 font-semibold",children:"Browse Properties"})]}):e.jsx("div",{className:"space-y-4",children:N.map(q=>{const ge=Wt(q),ne=(q.status==="pending"||q.status==="Reschedule Requested")&&(q.reschedule_requested_by==="landlord"||q.rescheduleRequestedBy==="landlord"),Se=(q.status==="pending"||q.status==="Reschedule Requested")&&(q.reschedule_requested_by==="tenant"||q.rescheduleRequestedBy==="tenant"),Ae=q.status==="confirmed"||q.status==="pending",Ke=q.appointment_date,Bt=q.appointment_time,ds=q.proposed_date,os=q.proposed_time,Ns=ds&&os;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer bg-white",onClick:()=>_t(q),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:q.propertyTitle||"Property Viewing"}),e.jsx("div",{className:"mb-3",children:Ns?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-gray-400 line-through",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:["Original: ",Zs(Ke)," at ",qr(Bt)]})]}),e.jsxs("div",{className:"flex items-center font-semibold text-orange-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:["New: ",Zs(ds)," at ",qr(os)]})]})]}):e.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 text-gray-500 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Zs(Ke)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),qr(Bt)]})]})}),e.jsx("div",{className:"flex items-center gap-x-4 text-xs text-gray-500",children:e.jsxs("span",{children:["Booking ID: #",q.id]})})]}),e.jsxs("div",{className:"flex flex-col items-start sm:items-end space-y-2 w-full sm:w-auto",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${ge.color}`,children:ge.text}),ge.description&&e.jsx("p",{className:"text-xs text-gray-500 text-left sm:text-right max-w-xs",children:ge.description})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex flex-wrap gap-x-4 gap-y-2",children:[q.status!=="cancelled"&&q.status!=="completed"&&e.jsx("button",{onClick:$t=>{$t.stopPropagation(),ct(q.id)},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Cancel Appointment"}),Ae&&!Se&&!ne&&e.jsx("button",{onClick:$t=>{$t.stopPropagation(),Ve(q.id)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Request Reschedule"}),(q.status==="pending"||q.status==="confirmed"||q.status==="Pending"||q.status==="Confirmed")&&e.jsx("button",{onClick:async $t=>{$t.stopPropagation();try{const us=await Os.getOrCreateConversation(q.id);us.success&&(b("messages"),S(us.conversation.id))}catch(us){console.error("Error opening conversation:",us),alert("Failed to open conversation")}},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Message Landlord"}),ne&&e.jsx("div",{onClick:$t=>$t.stopPropagation(),className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>dt(q),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 font-semibold",children:"View Available Slots"})}),Se&&e.jsx("div",{onClick:$t=>$t.stopPropagation(),children:e.jsx("button",{onClick:()=>qe(q.id),className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 font-semibold",children:"Cancel Request"})})]})]},q.id)})})]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Favorite Properties"}),L.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No favorite properties yet"}),e.jsx("p",{className:"text-gray-500",children:"Heart properties you like to save them here for easy access."}),e.jsx(Me,{to:"/",className:"inline-block mt-4 bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition duration-200 font-semibold",children:"Browse Properties"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.map(q=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl transition-shadow bg-white",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:q.image||"https://placehold.co/600x400/e2e8f0/4a5568?text=No+Image",alt:q.title,className:"w-full h-48 object-cover"}),e.jsx("button",{onClick:()=>r(q.id),className:"absolute top-3 right-3 p-2 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),q.status==="Rented"&&e.jsx("div",{className:"absolute top-2 left-2 bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold",children:"Rented"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:q.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:q.location}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xl font-bold text-yellow-600",children:["RM ",q.price,"/month"]}),e.jsx(Me,{to:`/property/${q.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]})]})]},q.id))})]})]})]}),y==="messages"&&e.jsx("div",{className:"bg-white shadow-lg rounded-lg h-[600px] flex",children:e.jsx(Ob,{user:o,onConversationRead:Jt,selectedConversationId:w,onConversationSelect:S})}),y==="agreements"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Tenancy Agreements"}),e.jsx("button",{onClick:be,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Refresh"})]}),E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Tenancy Agreements"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have any tenancy agreements yet. Once a landlord approves your application, an agreement will appear here."})]}):e.jsx("div",{className:"space-y-4",children:E.map(q=>{var ge;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:q.property_address}),e.jsxs("p",{className:"text-gray-600",children:["Monthly Rent: ",e.jsxs("span",{className:"font-semibold text-green-600",children:["RM ",q.monthly_rent]})]}),e.jsxs("p",{className:"text-gray-600",children:["Lease Start: ",e.jsx("span",{className:"font-semibold",children:Zs(q.lease_start_date)})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${q.status==="pending_signatures"?"bg-yellow-100 text-yellow-800":q.status==="pending_payment"?"bg-blue-100 text-blue-800":q.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.status==="pending_signatures"?"Pending Signatures":q.status==="pending_payment"?"Pending Payment":q.status==="active"?"Active":q.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Landlord Signed"}),e.jsx("div",{className:`mt-1 ${q.landlord_signed_at?"text-green-600":"text-yellow-600"}`,children:q.landlord_signed_at?" Signed":" Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Tenant Signed"}),e.jsx("div",{className:`mt-1 ${q.tenant_signed_at?"text-green-600":"text-yellow-600"}`,children:q.tenant_signed_at?" Signed":" Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Payment"}),e.jsx("div",{className:`mt-1 ${q.payment_completed_at?"text-green-600":"text-yellow-600"}`,children:q.payment_completed_at?" Paid":" Pending"})]})]}),(q.status==="active"||q.status==="ended")&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-blue-900",children:" Security Deposit"}),e.jsx("span",{className:"text-sm text-blue-600",children:"Malaysian Standard (2 months)"})]}),q.deposit_transaction&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total Deposit"}),e.jsxs("div",{className:"font-semibold text-blue-800",children:["RM ",q.deposit_transaction.amount]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Status"}),e.jsx("div",{className:"font-semibold text-blue-800",children:q.deposit_transaction.status.replace("_"," ").toUpperCase()})]})]}),q.deposit_transaction.fund_breakdown&&e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[q.deposit_transaction.fund_breakdown.refunded_to_tenant>0&&e.jsxs("div",{className:"bg-green-100 p-2 rounded text-center",children:[e.jsx("div",{className:"text-xs text-green-600",children:"Refunded to You"}),e.jsxs("div",{className:"font-bold text-green-700 text-sm",children:["RM ",q.deposit_transaction.fund_breakdown.refunded_to_tenant.toFixed(2)]})]}),q.deposit_transaction.fund_breakdown.released_to_landlord>0&&e.jsxs("div",{className:"bg-blue-100 p-2 rounded text-center",children:[e.jsx("div",{className:"text-xs text-blue-600",children:"To Landlord"}),e.jsxs("div",{className:"font-bold text-blue-700 text-sm",children:["RM ",q.deposit_transaction.fund_breakdown.released_to_landlord.toFixed(2)]})]}),q.deposit_transaction.fund_breakdown.remaining_in_escrow>0&&e.jsxs("div",{className:"bg-yellow-100 p-2 rounded text-center",children:[e.jsx("div",{className:"text-xs text-yellow-600",children:"In Escrow"}),e.jsxs("div",{className:"font-bold text-yellow-700 text-sm",children:["RM ",q.deposit_transaction.fund_breakdown.remaining_in_escrow.toFixed(2)]})]})]}),q.deposit_transaction.fund_breakdown&&e.jsx("div",{className:"text-xs text-blue-600 mt-2",children:" Fair Release System: Only disputed amounts held in escrow"})]}),!q.deposit_transaction&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Security Deposit"}),e.jsx("div",{className:"font-semibold text-blue-800",children:mo.formatMYR((q.monthly_rent||0)*2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Utility Deposit"}),e.jsx("div",{className:"font-semibold text-blue-800",children:mo.formatMYR((q.monthly_rent||0)*.5)})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-blue-900",children:q.deposit_transaction?"Deposit Status:":"Total Deposit:"}),e.jsx("span",{className:"font-bold text-lg text-blue-900",children:q.deposit_transaction?`RM ${q.deposit_transaction.amount}`:mo.formatMYR((q.monthly_rent||0)*2.5)})]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Held in Escrow"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Me,{to:`/agreement/${q.id}`,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"View Agreement"}),q.status==="pending_signatures"&&!q.tenant_signed_at&&e.jsx("button",{onClick:()=>At(q.id),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Sign Agreement"}),q.status==="pending_payment"&&q.tenant_signed_at&&q.landlord_signed_at&&e.jsx(Me,{to:`/payment/${q.id}`,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:"Pay Website Fee"}),q.status==="website_fee_paid"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>Re(q.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[" Pay Security Deposit (",mo.formatMYR((q.monthly_rent||0)*2.5),")"]}),e.jsx("p",{className:"text-sm text-gray-600",children:" Security deposit payment will activate your tenancy agreement"})]}),q.deposit_transaction&&q.deposit_transaction.tenancy_has_ended&&e.jsx(Me,{to:`/deposit/${q.deposit_transaction.id}/manage`,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors",children:q.deposit_transaction.status==="refunded"||q.deposit_transaction.status==="released"?"View Deposit Status":(ge=q.deposit_transaction.claims)!=null&&ge.some(ne=>ne.tenant_response_status==="pending")?"Respond to Deposit Claims":"Manage Deposit"})]})]},q.id)})})]})})]}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:e.jsxs("div",{id:"rescheduleModal",className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Reschedule"}),e.jsx("button",{id:"closeModal",onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:Et,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Preferred Date"}),e.jsx("input",{type:"date",id:"newDate",value:G.newDate,onChange:q=>Y(ge=>({...ge,newDate:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Preferred Time"}),e.jsx("input",{type:"time",id:"newTime",value:G.newTime,onChange:q=>Y(ge=>({...ge,newTime:q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{id:"cancelButton",type:"button",onClick:()=>U(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{id:"submitButton",type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Submit Request"})]})]})]})})}),xe&&H&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Select New Viewing Time"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Choose a new time slot for your viewing of ",H.propertyTitle]})]}),e.jsx("button",{onClick:()=>{C(!1),V(null)},className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsx(mE,{propertyId:H.property_id,onSlotSelect:ut,isReschedule:!0})]})})})]})},y0="http://localhost:5001/api",b0={getProfile:async()=>{try{return(await fetch(`${y0}/profile`,{method:"GET",headers:{},credentials:"include"})).json()}catch(n){return console.error("Error fetching profile:",n),{success:!1,error:n.message}}},updateProfile:async n=>{try{return(await fetch(`${y0}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"})).json()}catch(r){return console.error("Error updating profile:",r),{success:!1,error:r.message}}}},bE=({propertyId:n,onClose:r,onSuccess:a})=>{const[o,c]=p.useState(!1),[d,m]=p.useState(""),[f,g]=p.useState({monday:{enabled:!1,from:"09:00",to:"17:00"},tuesday:{enabled:!1,from:"09:00",to:"17:00"},wednesday:{enabled:!1,from:"09:00",to:"17:00"},thursday:{enabled:!1,from:"09:00",to:"17:00"},friday:{enabled:!1,from:"09:00",to:"17:00"},saturday:{enabled:!1,from:"09:00",to:"17:00"},sunday:{enabled:!1,from:"09:00",to:"17:00"}}),[x,y]=p.useState({startDate:new Date().toISOString().split("T")[0],endDate:""}),b=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}],w=D=>{g(L=>({...L,[D]:{...L[D],enabled:!L[D].enabled}}))},S=(D,L,M)=>{g(z=>({...z,[D]:{...z[D],[L]:M}}))},N=(D,L)=>{y(M=>({...M,[D]:L}))},v=()=>{if(!Object.values(f).some(L=>L.enabled))return m("Please select at least one day of the week."),!1;if(!x.startDate||!x.endDate)return m("Please provide both start and end dates."),!1;if(new Date(x.endDate)<=new Date(x.startDate))return m("End date must be after start date."),!1;for(const[L,M]of Object.entries(f))if(M.enabled&&M.from>=M.to)return m(`Invalid time range for ${L}. End time must be after start time.`),!1;return!0},_=()=>{const D={};return Object.entries(f).forEach(([L,M])=>{M.enabled&&(D[L]={from:M.from,to:M.to})}),{start_date:x.startDate,end_date:x.endDate,schedule:D}},k=async D=>{if(D.preventDefault(),m(""),!!v()){c(!0);try{const L=_(),M=await ys.addRecurringAvailability(n,L);M.success?(a&&a(M),r&&r()):m(M.error||"Failed to set recurring availability")}catch(L){console.error("Error setting recurring availability:",L),m("An error occurred while setting availability. Please try again.")}finally{c(!1)}}},E=()=>new Date().toISOString().split("T")[0];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Availability"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",disabled:o,children:""})]}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:d}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Schedule"}),e.jsx("div",{className:"space-y-3",children:b.map(({key:D,label:L})=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center min-w-[120px]",children:[e.jsx("input",{type:"checkbox",id:`day-${D}`,checked:f[D].enabled,onChange:()=>w(D),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:o}),e.jsx("label",{htmlFor:`day-${D}`,className:"ml-2 text-sm font-medium text-gray-700",children:L})]}),f[D].enabled&&e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"From:"}),e.jsx("input",{type:"time",value:f[D].from,onChange:M=>S(D,"from",M.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o}),e.jsx("span",{className:"text-sm text-gray-600",children:"To:"}),e.jsx("input",{type:"time",value:f[D].to,onChange:M=>S(D,"to",M.target.value),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o})]})]},D))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",id:"start-date",value:x.startDate,onChange:D=>N("startDate",D.target.value),min:E(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",id:"end-date",value:x.endDate,onChange:D=>N("endDate",D.target.value),min:x.startDate||E(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o,required:!0})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:o,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?"Setting Availability...":"Set Availability"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"How it works:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Select the days of the week when you're available for viewings"}),e.jsx("li",{children:" Set your preferred time slots for each day"}),e.jsx("li",{children:" Choose the date range for this availability schedule"}),e.jsx("li",{children:" Tenants will be able to book 30-minute viewing slots during your available times"})]})]})]})})})},vE=({onClose:n,onSuccess:r})=>{const{user:a}=Qt(),[o,c]=p.useState(!1),[d,m]=p.useState(""),[f,g]=p.useState("form"),[x,y]=p.useState([]),[b,w]=p.useState(null),[S,N]=p.useState(()=>{const T=localStorage.getItem(`landlord_availability_${a==null?void 0:a.id}`);return T?JSON.parse(T):{monday:{enabled:!1,from:"09:00",to:"17:00"},tuesday:{enabled:!1,from:"09:00",to:"17:00"},wednesday:{enabled:!1,from:"09:00",to:"17:00"},thursday:{enabled:!1,from:"09:00",to:"17:00"},friday:{enabled:!1,from:"09:00",to:"17:00"},saturday:{enabled:!1,from:"09:00",to:"17:00"},sunday:{enabled:!1,from:"09:00",to:"17:00"}}}),[v,_]=p.useState(()=>{const T=new Date().toISOString().split("T")[0],P=localStorage.getItem(`landlord_daterange_${a==null?void 0:a.id}`);if(P){const J=JSON.parse(P);if(J.startDate<T&&(J.startDate=T),J.endDate<=J.startDate){const Z=new Date(J.startDate);Z.setDate(Z.getDate()+1),J.endDate=Z.toISOString().split("T")[0]}return J}const F=new Date;return F.setDate(new Date().getDate()+30),{startDate:T,endDate:F.toISOString().split("T")[0]}});p.useEffect(()=>{a&&(localStorage.setItem(`landlord_availability_${a.id}`,JSON.stringify(S)),localStorage.setItem(`landlord_daterange_${a.id}`,JSON.stringify(v)))},[S,v,a]);const k=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}],E=T=>{N(P=>({...P,[T]:{...P[T],enabled:!P[T].enabled}}))},D=(T,P,F)=>{N(J=>({...J,[T]:{...J[T],[P]:F}}))},L=(T,P)=>{_(F=>({...F,[T]:P}))},M=()=>{if(!Object.values(S).some(P=>P.enabled))return m("Please select at least one day of the week."),!1;if(!v.startDate||!v.endDate)return m("Please provide both start and end dates."),!1;if(new Date(v.endDate)<=new Date(v.startDate))return m("End date must be after start date."),!1;for(const[P,F]of Object.entries(S))if(F.enabled&&F.from>=F.to)return m(`Invalid time range for ${P}. End time must be after start time.`),!1;return!0},z=()=>{const T={};return Object.entries(S).forEach(([P,F])=>{F.enabled&&(T[P]={from:F.from,to:F.to})}),{schedule:T,start_date:v.startDate,end_date:v.endDate}},$=async T=>{var F,J;if(T.preventDefault(),m(""),!M())return;const P=z();w(P),c(!0);try{const Z=await ys.addLandlordRecurringAvailability(a.id,P);Z.success&&(r(Z),n())}catch(Z){if(console.log(" Error caught:",Z),console.log(" Error response:",Z.response),console.log(" Error status:",(F=Z.response)==null?void 0:F.status),console.log(" Error data:",(J=Z.response)==null?void 0:J.data),Z.response&&Z.response.status===409){const oe=Z.response.data.conflicts||[];console.log(" CONFLICTS DETECTED:",oe),y(oe),g("conflict"),m("Your new schedule conflicts with existing bookings."),console.log(" View set to conflict, conflicts set:",oe.length)}else m(Z.message||"Failed to set availability. Please try again.")}finally{c(!1)}},O=async T=>{m(""),c(!0);try{const P=await Gt.resolveAvailabilityConflicts({...b,resolution:T,conflict_ids:x.map(F=>F.id)});P.success&&(r(P),n())}catch(P){m(P.message||"Failed to resolve conflicts. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f==="form"?"Set Your Availability":"Resolve Scheduling Conflicts"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",disabled:o,children:""})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto",children:[d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:d}),f==="form"&&e.jsxs("form",{id:"availability-form",onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],value:v.startDate,onChange:T=>L("startDate",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:v.endDate,onChange:T=>L("endDate",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Weekly Schedule"}),e.jsx("div",{className:"space-y-3",children:k.map(({key:T,label:P})=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-lg",children:[e.jsxs("label",{className:"flex items-center space-x-2 min-w-[100px]",children:[e.jsx("input",{type:"checkbox",checked:S[T].enabled,onChange:()=>E(T),className:"rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:P})]}),S[T].enabled&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"From:"}),e.jsx("input",{type:"time",value:S[T].from,onChange:F=>D(T,"from",F.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"To:"}),e.jsx("input",{type:"time",value:S[T].to,onChange:F=>D(T,"to",F.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})]},T))})]})]}),f==="conflict"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Your new schedule conflicts with the following confirmed appointments. Please choose how to resolve them."}),e.jsx("div",{className:"border rounded-lg max-h-60 overflow-y-auto",children:e.jsx("ul",{className:"divide-y",children:x.map(T=>{var P;return e.jsxs("li",{className:"p-3",children:[e.jsx("p",{className:"font-semibold",children:((P=T.property)==null?void 0:P.title)||`Booking ID: ${T.id}`}),e.jsxs("p",{className:"text-sm text-gray-600",children:["with ",T.name," on ",new Date(T.appointment_date+"T00:00:00").toLocaleDateString()," at ",T.appointment_time]})]},T.id)})})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Option 1: Cancel Conflicting Viewings"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tenants will be notified that their viewings have been cancelled due to a schedule change."}),e.jsx("button",{onClick:()=>O("cancel"),disabled:o,className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:o?"Processing...":"Cancel Viewings & Update Schedule"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Option 2: Request Reschedule"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tenants will be notified to choose a new time from your updated availability. Their current slots will be cancelled."}),e.jsx("button",{onClick:()=>O("reschedule"),disabled:o,className:"w-full px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 disabled:opacity-50",children:o?"Processing...":"Request Reschedule & Update Schedule"})]})]})]})]}),e.jsx("div",{className:"p-6 border-t mt-auto bg-gray-50",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",disabled:o,children:"Cancel"}),f==="form"&&e.jsx("button",{type:"submit",form:"availability-form",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o?"Setting...":"Set Availability"})]})})]})})},jE=()=>{const{user:n}=Qt(),[r,a]=p.useState(new Date),[o,c]=p.useState([]),[d,m]=p.useState(!0),[f,g]=p.useState(!1),x=p.useCallback(async()=>{if(n)try{m(!0);const L=await ys.getLandlordViewingSlots(n.id);L.success&&c(L.slots)}catch(L){console.error("Error loading calendar data:",L)}finally{m(!1)}},[n]);p.useEffect(()=>{x()},[x]);const y=()=>{a(new Date(r.getFullYear(),r.getMonth()-1,1))},b=()=>{a(new Date(r.getFullYear(),r.getMonth()+1,1))},w=()=>{a(new Date)},S=()=>{const L=r.getFullYear(),M=r.getMonth(),z=new Date(L,M,1),$=new Date(z);$.setDate($.getDate()-$.getDay());const O=[],T=new Date($);for(let P=0;P<42;P++)O.push(new Date(T)),T.setDate(T.getDate()+1);return O},N=L=>{const[M,z,$]=L.split("-").map(Number);return new Date(M,z-1,$)},v=L=>{const M=L.toISOString().split("T")[0];return o.filter(z=>N(z.date).toISOString().split("T")[0]===M)},_=L=>L.toLocaleDateString("en-US",{month:"long",year:"numeric"}),k=L=>{const M=new Date;return L.toDateString()===M.toDateString()},E=L=>L.getMonth()===r.getMonth();if(d&&o.length===0)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"})});const D=S();return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Availability Calendar"}),e.jsx("button",{onClick:w,className:"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-md hover:bg-yellow-200 transition-colors",children:"Today"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors text-sm font-medium",children:"Manage Availability"})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",children:"<"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_(r)}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",children:">"})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(L=>e.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50",children:L},L)),D.map((L,M)=>{const z=v(L),$=E(L),O=k(L);return e.jsxs("div",{className:`min-h-[120px] p-2 border border-gray-200 ${$?"bg-white":"bg-gray-50"} ${O?"ring-2 ring-yellow-400":""}`,children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${$?"text-gray-900":"text-gray-400"} ${O?"text-yellow-600 font-bold":""}`,children:L.getDate()}),e.jsxs("div",{className:"space-y-1",children:[z.slice(0,3).map((T,P)=>e.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${T.is_available?"bg-green-500":"bg-red-500"}`,title:`${T.property_title||"No Property Assigned"} - ${T.start_time}-${T.end_time}`,children:[T.start_time,"-",T.end_time]},P)),z.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",z.length-3," more"]})]})]},M)})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),e.jsx("span",{children:"Booked"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 border-2 border-yellow-400 rounded"}),e.jsx("span",{children:"Today"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.filter(L=>L.is_available).length}),e.jsx("div",{className:"text-sm text-green-700",children:"Available Slots"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.filter(L=>!L.is_available).length}),e.jsx("div",{className:"text-sm text-red-700",children:"Booked Slots"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Slots"})]})]}),f&&e.jsx(vE,{onClose:()=>g(!1),onSuccess:L=>{const M=(L==null?void 0:L.message)||(L==null?void 0:L.success_message)||"Availability updated successfully!";alert(M),g(!1),x()}})]})};function Pb(n,r){return function(){return n.apply(r,arguments)}}const{toString:wE}=Object.prototype,{getPrototypeOf:Cf}=Object,{iterator:Oc,toStringTag:Lb}=Symbol,Pc=(n=>r=>{const a=wE.call(r);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),sn=n=>(n=n.toLowerCase(),r=>Pc(r)===n),Lc=n=>r=>typeof r===n,{isArray:ol}=Array,yo=Lc("undefined");function _o(n){return n!==null&&!yo(n)&&n.constructor!==null&&!yo(n.constructor)&&vs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ub=sn("ArrayBuffer");function NE(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&Ub(n.buffer),r}const SE=Lc("string"),vs=Lc("function"),zb=Lc("number"),Eo=n=>n!==null&&typeof n=="object",_E=n=>n===!0||n===!1,ic=n=>{if(Pc(n)!=="object")return!1;const r=Cf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Lb in n)&&!(Oc in n)},EE=n=>{if(!Eo(n)||_o(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},CE=sn("Date"),kE=sn("File"),RE=sn("Blob"),TE=sn("FileList"),AE=n=>Eo(n)&&vs(n.pipe),DE=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||vs(n.append)&&((r=Pc(n))==="formdata"||r==="object"&&vs(n.toString)&&n.toString()==="[object FormData]"))},ME=sn("URLSearchParams"),[OE,PE,LE,UE]=["ReadableStream","Request","Response","Headers"].map(sn),zE=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Co(n,r,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let o,c;if(typeof n!="object"&&(n=[n]),ol(n))for(o=0,c=n.length;o<c;o++)r.call(null,n[o],o,n);else{if(_o(n))return;const d=a?Object.getOwnPropertyNames(n):Object.keys(n),m=d.length;let f;for(o=0;o<m;o++)f=d[o],r.call(null,n[f],f,n)}}function Bb(n,r){if(_o(n))return null;r=r.toLowerCase();const a=Object.keys(n);let o=a.length,c;for(;o-- >0;)if(c=a[o],r===c.toLowerCase())return c;return null}const Hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$b=n=>!yo(n)&&n!==Hr;function Vm(){const{caseless:n}=$b(this)&&this||{},r={},a=(o,c)=>{const d=n&&Bb(r,c)||c;ic(r[d])&&ic(o)?r[d]=Vm(r[d],o):ic(o)?r[d]=Vm({},o):ol(o)?r[d]=o.slice():r[d]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Co(arguments[o],a);return r}const BE=(n,r,a,{allOwnKeys:o}={})=>(Co(r,(c,d)=>{a&&vs(c)?n[d]=Pb(c,a):n[d]=c},{allOwnKeys:o}),n),$E=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),FE=(n,r,a,o)=>{n.prototype=Object.create(r.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),a&&Object.assign(n.prototype,a)},HE=(n,r,a,o)=>{let c,d,m;const f={};if(r=r||{},n==null)return r;do{for(c=Object.getOwnPropertyNames(n),d=c.length;d-- >0;)m=c[d],(!o||o(m,n,r))&&!f[m]&&(r[m]=n[m],f[m]=!0);n=a!==!1&&Cf(n)}while(n&&(!a||a(n,r))&&n!==Object.prototype);return r},qE=(n,r,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=r.length;const o=n.indexOf(r,a);return o!==-1&&o===a},IE=n=>{if(!n)return null;if(ol(n))return n;let r=n.length;if(!zb(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=n[r];return a},VE=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&Cf(Uint8Array)),YE=(n,r)=>{const o=(n&&n[Oc]).call(n);let c;for(;(c=o.next())&&!c.done;){const d=c.value;r.call(n,d[0],d[1])}},GE=(n,r)=>{let a;const o=[];for(;(a=n.exec(r))!==null;)o.push(a);return o},WE=sn("HTMLFormElement"),XE=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,c){return o.toUpperCase()+c}),v0=(({hasOwnProperty:n})=>(r,a)=>n.call(r,a))(Object.prototype),KE=sn("RegExp"),Fb=(n,r)=>{const a=Object.getOwnPropertyDescriptors(n),o={};Co(a,(c,d)=>{let m;(m=r(c,d,n))!==!1&&(o[d]=m||c)}),Object.defineProperties(n,o)},ZE=n=>{Fb(n,(r,a)=>{if(vs(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=n[a];if(vs(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},QE=(n,r)=>{const a={},o=c=>{c.forEach(d=>{a[d]=!0})};return ol(n)?o(n):o(String(n).split(r)),a},JE=()=>{},eC=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function tC(n){return!!(n&&vs(n.append)&&n[Lb]==="FormData"&&n[Oc])}const sC=n=>{const r=new Array(10),a=(o,c)=>{if(Eo(o)){if(r.indexOf(o)>=0)return;if(_o(o))return o;if(!("toJSON"in o)){r[c]=o;const d=ol(o)?[]:{};return Co(o,(m,f)=>{const g=a(m,c+1);!yo(g)&&(d[f]=g)}),r[c]=void 0,d}}return o};return a(n,0)},nC=sn("AsyncFunction"),rC=n=>n&&(Eo(n)||vs(n))&&vs(n.then)&&vs(n.catch),Hb=((n,r)=>n?setImmediate:r?((a,o)=>(Hr.addEventListener("message",({source:c,data:d})=>{c===Hr&&d===a&&o.length&&o.shift()()},!1),c=>{o.push(c),Hr.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",vs(Hr.postMessage)),aC=typeof queueMicrotask<"u"?queueMicrotask.bind(Hr):typeof process<"u"&&process.nextTick||Hb,lC=n=>n!=null&&vs(n[Oc]),re={isArray:ol,isArrayBuffer:Ub,isBuffer:_o,isFormData:DE,isArrayBufferView:NE,isString:SE,isNumber:zb,isBoolean:_E,isObject:Eo,isPlainObject:ic,isEmptyObject:EE,isReadableStream:OE,isRequest:PE,isResponse:LE,isHeaders:UE,isUndefined:yo,isDate:CE,isFile:kE,isBlob:RE,isRegExp:KE,isFunction:vs,isStream:AE,isURLSearchParams:ME,isTypedArray:VE,isFileList:TE,forEach:Co,merge:Vm,extend:BE,trim:zE,stripBOM:$E,inherits:FE,toFlatObject:HE,kindOf:Pc,kindOfTest:sn,endsWith:qE,toArray:IE,forEachEntry:YE,matchAll:GE,isHTMLForm:WE,hasOwnProperty:v0,hasOwnProp:v0,reduceDescriptors:Fb,freezeMethods:ZE,toObjectSet:QE,toCamelCase:XE,noop:JE,toFiniteNumber:eC,findKey:Bb,global:Hr,isContextDefined:$b,isSpecCompliantForm:tC,toJSONObject:sC,isAsyncFn:nC,isThenable:rC,setImmediate:Hb,asap:aC,isIterable:lC};function Pe(n,r,a,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}re.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const qb=Pe.prototype,Ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ib[n]={value:n}});Object.defineProperties(Pe,Ib);Object.defineProperty(qb,"isAxiosError",{value:!0});Pe.from=(n,r,a,o,c,d)=>{const m=Object.create(qb);return re.toFlatObject(n,m,function(g){return g!==Error.prototype},f=>f!=="isAxiosError"),Pe.call(m,n.message,r,a,o,c),m.cause=n,m.name=n.name,d&&Object.assign(m,d),m};const oC=null;function Ym(n){return re.isPlainObject(n)||re.isArray(n)}function Vb(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function j0(n,r,a){return n?n.concat(r).map(function(c,d){return c=Vb(c),!a&&d?"["+c+"]":c}).join(a?".":""):r}function iC(n){return re.isArray(n)&&!n.some(Ym)}const cC=re.toFlatObject(re,{},null,function(r){return/^is[A-Z]/.test(r)});function Uc(n,r,a){if(!re.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,a=re.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!re.isUndefined(_[v])});const o=a.metaTokens,c=a.visitor||y,d=a.dots,m=a.indexes,g=(a.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(r);if(!re.isFunction(c))throw new TypeError("visitor must be a function");function x(N){if(N===null)return"";if(re.isDate(N))return N.toISOString();if(re.isBoolean(N))return N.toString();if(!g&&re.isBlob(N))throw new Pe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(N)||re.isTypedArray(N)?g&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function y(N,v,_){let k=N;if(N&&!_&&typeof N=="object"){if(re.endsWith(v,"{}"))v=o?v:v.slice(0,-2),N=JSON.stringify(N);else if(re.isArray(N)&&iC(N)||(re.isFileList(N)||re.endsWith(v,"[]"))&&(k=re.toArray(N)))return v=Vb(v),k.forEach(function(D,L){!(re.isUndefined(D)||D===null)&&r.append(m===!0?j0([v],L,d):m===null?v:v+"[]",x(D))}),!1}return Ym(N)?!0:(r.append(j0(_,v,d),x(N)),!1)}const b=[],w=Object.assign(cC,{defaultVisitor:y,convertValue:x,isVisitable:Ym});function S(N,v){if(!re.isUndefined(N)){if(b.indexOf(N)!==-1)throw Error("Circular reference detected in "+v.join("."));b.push(N),re.forEach(N,function(k,E){(!(re.isUndefined(k)||k===null)&&c.call(r,k,re.isString(E)?E.trim():E,v,w))===!0&&S(k,v?v.concat(E):[E])}),b.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return S(n),r}function w0(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function kf(n,r){this._pairs=[],n&&Uc(n,this,r)}const Yb=kf.prototype;Yb.append=function(r,a){this._pairs.push([r,a])};Yb.toString=function(r){const a=r?function(o){return r.call(this,o,w0)}:w0;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function dC(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gb(n,r,a){if(!r)return n;const o=a&&a.encode||dC;re.isFunction(a)&&(a={serialize:a});const c=a&&a.serialize;let d;if(c?d=c(r,a):d=re.isURLSearchParams(r)?r.toString():new kf(r,a).toString(o),d){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class N0{constructor(){this.handlers=[]}use(r,a,o){return this.handlers.push({fulfilled:r,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){re.forEach(this.handlers,function(o){o!==null&&r(o)})}}const Wb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uC=typeof URLSearchParams<"u"?URLSearchParams:kf,mC=typeof FormData<"u"?FormData:null,fC=typeof Blob<"u"?Blob:null,hC={isBrowser:!0,classes:{URLSearchParams:uC,FormData:mC,Blob:fC},protocols:["http","https","file","blob","url","data"]},Rf=typeof window<"u"&&typeof document<"u",Gm=typeof navigator=="object"&&navigator||void 0,pC=Rf&&(!Gm||["ReactNative","NativeScript","NS"].indexOf(Gm.product)<0),xC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gC=Rf&&window.location.href||"http://localhost",yC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rf,hasStandardBrowserEnv:pC,hasStandardBrowserWebWorkerEnv:xC,navigator:Gm,origin:gC},Symbol.toStringTag,{value:"Module"})),as={...yC,...hC};function bC(n,r){return Uc(n,new as.classes.URLSearchParams,{visitor:function(a,o,c,d){return as.isNode&&re.isBuffer(a)?(this.append(o,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...r})}function vC(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function jC(n){const r={},a=Object.keys(n);let o;const c=a.length;let d;for(o=0;o<c;o++)d=a[o],r[d]=n[d];return r}function Xb(n){function r(a,o,c,d){let m=a[d++];if(m==="__proto__")return!0;const f=Number.isFinite(+m),g=d>=a.length;return m=!m&&re.isArray(c)?c.length:m,g?(re.hasOwnProp(c,m)?c[m]=[c[m],o]:c[m]=o,!f):((!c[m]||!re.isObject(c[m]))&&(c[m]=[]),r(a,o,c[m],d)&&re.isArray(c[m])&&(c[m]=jC(c[m])),!f)}if(re.isFormData(n)&&re.isFunction(n.entries)){const a={};return re.forEachEntry(n,(o,c)=>{r(vC(o),c,a,0)}),a}return null}function wC(n,r,a){if(re.isString(n))try{return(r||JSON.parse)(n),re.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(n)}const ko={transitional:Wb,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const o=a.getContentType()||"",c=o.indexOf("application/json")>-1,d=re.isObject(r);if(d&&re.isHTMLForm(r)&&(r=new FormData(r)),re.isFormData(r))return c?JSON.stringify(Xb(r)):r;if(re.isArrayBuffer(r)||re.isBuffer(r)||re.isStream(r)||re.isFile(r)||re.isBlob(r)||re.isReadableStream(r))return r;if(re.isArrayBufferView(r))return r.buffer;if(re.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return bC(r,this.formSerializer).toString();if((f=re.isFileList(r))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Uc(f?{"files[]":r}:r,g&&new g,this.formSerializer)}}return d||c?(a.setContentType("application/json",!1),wC(r)):r}],transformResponse:[function(r){const a=this.transitional||ko.transitional,o=a&&a.forcedJSONParsing,c=this.responseType==="json";if(re.isResponse(r)||re.isReadableStream(r))return r;if(r&&re.isString(r)&&(o&&!this.responseType||c)){const m=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(r)}catch(f){if(m)throw f.name==="SyntaxError"?Pe.from(f,Pe.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:as.classes.FormData,Blob:as.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{ko.headers[n]={}});const NC=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SC=n=>{const r={};let a,o,c;return n&&n.split(`
`).forEach(function(m){c=m.indexOf(":"),a=m.substring(0,c).trim().toLowerCase(),o=m.substring(c+1).trim(),!(!a||r[a]&&NC[a])&&(a==="set-cookie"?r[a]?r[a].push(o):r[a]=[o]:r[a]=r[a]?r[a]+", "+o:o)}),r},S0=Symbol("internals");function fo(n){return n&&String(n).trim().toLowerCase()}function cc(n){return n===!1||n==null?n:re.isArray(n)?n.map(cc):String(n)}function _C(n){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(n);)r[o[1]]=o[2];return r}const EC=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Sm(n,r,a,o,c){if(re.isFunction(o))return o.call(this,r,a);if(c&&(r=a),!!re.isString(r)){if(re.isString(o))return r.indexOf(o)!==-1;if(re.isRegExp(o))return o.test(r)}}function CC(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,o)=>a.toUpperCase()+o)}function kC(n,r){const a=re.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+a,{value:function(c,d,m){return this[o].call(this,r,c,d,m)},configurable:!0})})}let js=class{constructor(r){r&&this.set(r)}set(r,a,o){const c=this;function d(f,g,x){const y=fo(g);if(!y)throw new Error("header name must be a non-empty string");const b=re.findKey(c,y);(!b||c[b]===void 0||x===!0||x===void 0&&c[b]!==!1)&&(c[b||g]=cc(f))}const m=(f,g)=>re.forEach(f,(x,y)=>d(x,y,g));if(re.isPlainObject(r)||r instanceof this.constructor)m(r,a);else if(re.isString(r)&&(r=r.trim())&&!EC(r))m(SC(r),a);else if(re.isObject(r)&&re.isIterable(r)){let f={},g,x;for(const y of r){if(!re.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[x=y[0]]=(g=f[x])?re.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}m(f,a)}else r!=null&&d(a,r,o);return this}get(r,a){if(r=fo(r),r){const o=re.findKey(this,r);if(o){const c=this[o];if(!a)return c;if(a===!0)return _C(c);if(re.isFunction(a))return a.call(this,c,o);if(re.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=fo(r),r){const o=re.findKey(this,r);return!!(o&&this[o]!==void 0&&(!a||Sm(this,this[o],o,a)))}return!1}delete(r,a){const o=this;let c=!1;function d(m){if(m=fo(m),m){const f=re.findKey(o,m);f&&(!a||Sm(o,o[f],f,a))&&(delete o[f],c=!0)}}return re.isArray(r)?r.forEach(d):d(r),c}clear(r){const a=Object.keys(this);let o=a.length,c=!1;for(;o--;){const d=a[o];(!r||Sm(this,this[d],d,r,!0))&&(delete this[d],c=!0)}return c}normalize(r){const a=this,o={};return re.forEach(this,(c,d)=>{const m=re.findKey(o,d);if(m){a[m]=cc(c),delete a[d];return}const f=r?CC(d):String(d).trim();f!==d&&delete a[d],a[f]=cc(c),o[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return re.forEach(this,(o,c)=>{o!=null&&o!==!1&&(a[c]=r&&re.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const o=new this(r);return a.forEach(c=>o.set(c)),o}static accessor(r){const o=(this[S0]=this[S0]={accessors:{}}).accessors,c=this.prototype;function d(m){const f=fo(m);o[f]||(kC(c,m),o[f]=!0)}return re.isArray(r)?r.forEach(d):d(r),this}};js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(js.prototype,({value:n},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(o){this[a]=o}}});re.freezeMethods(js);function _m(n,r){const a=this||ko,o=r||a,c=js.from(o.headers);let d=o.data;return re.forEach(n,function(f){d=f.call(a,d,c.normalize(),r?r.status:void 0)}),c.normalize(),d}function Kb(n){return!!(n&&n.__CANCEL__)}function il(n,r,a){Pe.call(this,n??"canceled",Pe.ERR_CANCELED,r,a),this.name="CanceledError"}re.inherits(il,Pe,{__CANCEL__:!0});function Zb(n,r,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?n(a):r(new Pe("Request failed with status code "+a.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function RC(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function TC(n,r){n=n||10;const a=new Array(n),o=new Array(n);let c=0,d=0,m;return r=r!==void 0?r:1e3,function(g){const x=Date.now(),y=o[d];m||(m=x),a[c]=g,o[c]=x;let b=d,w=0;for(;b!==c;)w+=a[b++],b=b%n;if(c=(c+1)%n,c===d&&(d=(d+1)%n),x-m<r)return;const S=y&&x-y;return S?Math.round(w*1e3/S):void 0}}function AC(n,r){let a=0,o=1e3/r,c,d;const m=(x,y=Date.now())=>{a=y,c=null,d&&(clearTimeout(d),d=null),n(...x)};return[(...x)=>{const y=Date.now(),b=y-a;b>=o?m(x,y):(c=x,d||(d=setTimeout(()=>{d=null,m(c)},o-b)))},()=>c&&m(c)]}const bc=(n,r,a=3)=>{let o=0;const c=TC(50,250);return AC(d=>{const m=d.loaded,f=d.lengthComputable?d.total:void 0,g=m-o,x=c(g),y=m<=f;o=m;const b={loaded:m,total:f,progress:f?m/f:void 0,bytes:g,rate:x||void 0,estimated:x&&f&&y?(f-m)/x:void 0,event:d,lengthComputable:f!=null,[r?"download":"upload"]:!0};n(b)},a)},_0=(n,r)=>{const a=n!=null;return[o=>r[0]({lengthComputable:a,total:n,loaded:o}),r[1]]},E0=n=>(...r)=>re.asap(()=>n(...r)),DC=as.hasStandardBrowserEnv?((n,r)=>a=>(a=new URL(a,as.origin),n.protocol===a.protocol&&n.host===a.host&&(r||n.port===a.port)))(new URL(as.origin),as.navigator&&/(msie|trident)/i.test(as.navigator.userAgent)):()=>!0,MC=as.hasStandardBrowserEnv?{write(n,r,a,o,c,d){const m=[n+"="+encodeURIComponent(r)];re.isNumber(a)&&m.push("expires="+new Date(a).toGMTString()),re.isString(o)&&m.push("path="+o),re.isString(c)&&m.push("domain="+c),d===!0&&m.push("secure"),document.cookie=m.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OC(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function PC(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function Qb(n,r,a){let o=!OC(r);return n&&(o||a==!1)?PC(n,r):r}const C0=n=>n instanceof js?{...n}:n;function Gr(n,r){r=r||{};const a={};function o(x,y,b,w){return re.isPlainObject(x)&&re.isPlainObject(y)?re.merge.call({caseless:w},x,y):re.isPlainObject(y)?re.merge({},y):re.isArray(y)?y.slice():y}function c(x,y,b,w){if(re.isUndefined(y)){if(!re.isUndefined(x))return o(void 0,x,b,w)}else return o(x,y,b,w)}function d(x,y){if(!re.isUndefined(y))return o(void 0,y)}function m(x,y){if(re.isUndefined(y)){if(!re.isUndefined(x))return o(void 0,x)}else return o(void 0,y)}function f(x,y,b){if(b in r)return o(x,y);if(b in n)return o(void 0,x)}const g={url:d,method:d,data:d,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:f,headers:(x,y,b)=>c(C0(x),C0(y),b,!0)};return re.forEach(Object.keys({...n,...r}),function(y){const b=g[y]||c,w=b(n[y],r[y],y);re.isUndefined(w)&&b!==f||(a[y]=w)}),a}const Jb=n=>{const r=Gr({},n);let{data:a,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:m,auth:f}=r;r.headers=m=js.from(m),r.url=Gb(Qb(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&m.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let g;if(re.isFormData(a)){if(as.hasStandardBrowserEnv||as.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((g=m.getContentType())!==!1){const[x,...y]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];m.setContentType([x||"multipart/form-data",...y].join("; "))}}if(as.hasStandardBrowserEnv&&(o&&re.isFunction(o)&&(o=o(r)),o||o!==!1&&DC(r.url))){const x=c&&d&&MC.read(d);x&&m.set(c,x)}return r},LC=typeof XMLHttpRequest<"u",UC=LC&&function(n){return new Promise(function(a,o){const c=Jb(n);let d=c.data;const m=js.from(c.headers).normalize();let{responseType:f,onUploadProgress:g,onDownloadProgress:x}=c,y,b,w,S,N;function v(){S&&S(),N&&N(),c.cancelToken&&c.cancelToken.unsubscribe(y),c.signal&&c.signal.removeEventListener("abort",y)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function k(){if(!_)return;const D=js.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),M={data:!f||f==="text"||f==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:n,request:_};Zb(function($){a($),v()},function($){o($),v()},M),_=null}"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(k)},_.onabort=function(){_&&(o(new Pe("Request aborted",Pe.ECONNABORTED,n,_)),_=null)},_.onerror=function(){o(new Pe("Network Error",Pe.ERR_NETWORK,n,_)),_=null},_.ontimeout=function(){let L=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const M=c.transitional||Wb;c.timeoutErrorMessage&&(L=c.timeoutErrorMessage),o(new Pe(L,M.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,n,_)),_=null},d===void 0&&m.setContentType(null),"setRequestHeader"in _&&re.forEach(m.toJSON(),function(L,M){_.setRequestHeader(M,L)}),re.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),f&&f!=="json"&&(_.responseType=c.responseType),x&&([w,N]=bc(x,!0),_.addEventListener("progress",w)),g&&_.upload&&([b,S]=bc(g),_.upload.addEventListener("progress",b),_.upload.addEventListener("loadend",S)),(c.cancelToken||c.signal)&&(y=D=>{_&&(o(!D||D.type?new il(null,n,_):D),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(y),c.signal&&(c.signal.aborted?y():c.signal.addEventListener("abort",y)));const E=RC(c.url);if(E&&as.protocols.indexOf(E)===-1){o(new Pe("Unsupported protocol "+E+":",Pe.ERR_BAD_REQUEST,n));return}_.send(d||null)})},zC=(n,r)=>{const{length:a}=n=n?n.filter(Boolean):[];if(r||a){let o=new AbortController,c;const d=function(x){if(!c){c=!0,f();const y=x instanceof Error?x:this.reason;o.abort(y instanceof Pe?y:new il(y instanceof Error?y.message:y))}};let m=r&&setTimeout(()=>{m=null,d(new Pe(`timeout ${r} of ms exceeded`,Pe.ETIMEDOUT))},r);const f=()=>{n&&(m&&clearTimeout(m),m=null,n.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),n=null)};n.forEach(x=>x.addEventListener("abort",d));const{signal:g}=o;return g.unsubscribe=()=>re.asap(f),g}},BC=function*(n,r){let a=n.byteLength;if(a<r){yield n;return}let o=0,c;for(;o<a;)c=o+r,yield n.slice(o,c),o=c},$C=async function*(n,r){for await(const a of FC(n))yield*BC(a,r)},FC=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:a,value:o}=await r.read();if(a)break;yield o}}finally{await r.cancel()}},k0=(n,r,a,o)=>{const c=$C(n,r);let d=0,m,f=g=>{m||(m=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:x,value:y}=await c.next();if(x){f(),g.close();return}let b=y.byteLength;if(a){let w=d+=b;a(w)}g.enqueue(new Uint8Array(y))}catch(x){throw f(x),x}},cancel(g){return f(g),c.return()}},{highWaterMark:2})},zc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ev=zc&&typeof ReadableStream=="function",HC=zc&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),tv=(n,...r)=>{try{return!!n(...r)}catch{return!1}},qC=ev&&tv(()=>{let n=!1;const r=new Request(as.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),R0=64*1024,Wm=ev&&tv(()=>re.isReadableStream(new Response("").body)),vc={stream:Wm&&(n=>n.body)};zc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!vc[r]&&(vc[r]=re.isFunction(n[r])?a=>a[r]():(a,o)=>{throw new Pe(`Response type '${r}' is not supported`,Pe.ERR_NOT_SUPPORT,o)})})})(new Response);const IC=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(as.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await HC(n)).byteLength},VC=async(n,r)=>{const a=re.toFiniteNumber(n.getContentLength());return a??IC(r)},YC=zc&&(async n=>{let{url:r,method:a,data:o,signal:c,cancelToken:d,timeout:m,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:w}=Jb(n);x=x?(x+"").toLowerCase():"text";let S=zC([c,d&&d.toAbortSignal()],m),N;const v=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let _;try{if(g&&qC&&a!=="get"&&a!=="head"&&(_=await VC(y,o))!==0){let M=new Request(r,{method:"POST",body:o,duplex:"half"}),z;if(re.isFormData(o)&&(z=M.headers.get("content-type"))&&y.setContentType(z),M.body){const[$,O]=_0(_,bc(E0(g)));o=k0(M.body,R0,$,O)}}re.isString(b)||(b=b?"include":"omit");const k="credentials"in Request.prototype;N=new Request(r,{...w,signal:S,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:k?b:void 0});let E=await fetch(N,w);const D=Wm&&(x==="stream"||x==="response");if(Wm&&(f||D&&v)){const M={};["status","statusText","headers"].forEach(T=>{M[T]=E[T]});const z=re.toFiniteNumber(E.headers.get("content-length")),[$,O]=f&&_0(z,bc(E0(f),!0))||[];E=new Response(k0(E.body,R0,$,()=>{O&&O(),v&&v()}),M)}x=x||"text";let L=await vc[re.findKey(vc,x)||"text"](E,n);return!D&&v&&v(),await new Promise((M,z)=>{Zb(M,z,{data:L,headers:js.from(E.headers),status:E.status,statusText:E.statusText,config:n,request:N})})}catch(k){throw v&&v(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,n,N),{cause:k.cause||k}):Pe.from(k,k&&k.code,n,N)}}),Xm={http:oC,xhr:UC,fetch:YC};re.forEach(Xm,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const T0=n=>`- ${n}`,GC=n=>re.isFunction(n)||n===null||n===!1,sv={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:r}=n;let a,o;const c={};for(let d=0;d<r;d++){a=n[d];let m;if(o=a,!GC(a)&&(o=Xm[(m=String(a)).toLowerCase()],o===void 0))throw new Pe(`Unknown adapter '${m}'`);if(o)break;c[m||"#"+d]=o}if(!o){const d=Object.entries(c).map(([f,g])=>`adapter ${f} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=r?d.length>1?`since :
`+d.map(T0).join(`
`):" "+T0(d[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o},adapters:Xm};function Em(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new il(null,n)}function A0(n){return Em(n),n.headers=js.from(n.headers),n.data=_m.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),sv.getAdapter(n.adapter||ko.adapter)(n).then(function(o){return Em(n),o.data=_m.call(n,n.transformResponse,o),o.headers=js.from(o.headers),o},function(o){return Kb(o)||(Em(n),o&&o.response&&(o.response.data=_m.call(n,n.transformResponse,o.response),o.response.headers=js.from(o.response.headers))),Promise.reject(o)})}const nv="1.11.0",Bc={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{Bc[n]=function(o){return typeof o===n||"a"+(r<1?"n ":" ")+n}});const D0={};Bc.transitional=function(r,a,o){function c(d,m){return"[Axios v"+nv+"] Transitional option '"+d+"'"+m+(o?". "+o:"")}return(d,m,f)=>{if(r===!1)throw new Pe(c(m," has been removed"+(a?" in "+a:"")),Pe.ERR_DEPRECATED);return a&&!D0[m]&&(D0[m]=!0,console.warn(c(m," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(d,m,f):!0}};Bc.spelling=function(r){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function WC(n,r,a){if(typeof n!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let c=o.length;for(;c-- >0;){const d=o[c],m=r[d];if(m){const f=n[d],g=f===void 0||m(f,d,n);if(g!==!0)throw new Pe("option "+d+" must be "+g,Pe.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Pe("Unknown option "+d,Pe.ERR_BAD_OPTION)}}const dc={assertOptions:WC,validators:Bc},dn=dc.validators;let Ir=class{constructor(r){this.defaults=r||{},this.interceptors={request:new N0,response:new N0}}async request(r,a){try{return await this._request(r,a)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Gr(this.defaults,a);const{transitional:o,paramsSerializer:c,headers:d}=a;o!==void 0&&dc.assertOptions(o,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),c!=null&&(re.isFunction(c)?a.paramsSerializer={serialize:c}:dc.assertOptions(c,{encode:dn.function,serialize:dn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),dc.assertOptions(a,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let m=d&&re.merge(d.common,d[a.method]);d&&re.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),a.headers=js.concat(m,d);const f=[];let g=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(g=g&&v.synchronous,f.unshift(v.fulfilled,v.rejected))});const x=[];this.interceptors.response.forEach(function(v){x.push(v.fulfilled,v.rejected)});let y,b=0,w;if(!g){const N=[A0.bind(this),void 0];for(N.unshift(...f),N.push(...x),w=N.length,y=Promise.resolve(a);b<w;)y=y.then(N[b++],N[b++]);return y}w=f.length;let S=a;for(b=0;b<w;){const N=f[b++],v=f[b++];try{S=N(S)}catch(_){v.call(this,_);break}}try{y=A0.call(this,S)}catch(N){return Promise.reject(N)}for(b=0,w=x.length;b<w;)y=y.then(x[b++],x[b++]);return y}getUri(r){r=Gr(this.defaults,r);const a=Qb(r.baseURL,r.url,r.allowAbsoluteUrls);return Gb(a,r.params,r.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(r){Ir.prototype[r]=function(a,o){return this.request(Gr(o||{},{method:r,url:a,data:(o||{}).data}))}});re.forEach(["post","put","patch"],function(r){function a(o){return function(d,m,f){return this.request(Gr(f||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:m}))}}Ir.prototype[r]=a(),Ir.prototype[r+"Form"]=a(!0)});let XC=class rv{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const m=new Promise(f=>{o.subscribe(f),d=f}).then(c);return m.cancel=function(){o.unsubscribe(d)},m},r(function(d,m,f){o.reason||(o.reason=new il(d,m,f),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=o=>{r.abort(o)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new rv(function(c){r=c}),cancel:r}}};function KC(n){return function(a){return n.apply(null,a)}}function ZC(n){return re.isObject(n)&&n.isAxiosError===!0}const Km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Km).forEach(([n,r])=>{Km[r]=n});function av(n){const r=new Ir(n),a=Pb(Ir.prototype.request,r);return re.extend(a,Ir.prototype,r,{allOwnKeys:!0}),re.extend(a,r,null,{allOwnKeys:!0}),a.create=function(c){return av(Gr(n,c))},a}const gt=av(ko);gt.Axios=Ir;gt.CanceledError=il;gt.CancelToken=XC;gt.isCancel=Kb;gt.VERSION=nv;gt.toFormData=Uc;gt.AxiosError=Pe;gt.Cancel=gt.CanceledError;gt.all=function(r){return Promise.all(r)};gt.spread=KC;gt.isAxiosError=ZC;gt.mergeConfig=Gr;gt.AxiosHeaders=js;gt.formToJSON=n=>Xb(re.isHTMLForm(n)?new FormData(n):n);gt.getAdapter=sv.getAdapter;gt.HttpStatusCode=Km;gt.default=gt;const{Axios:QR,AxiosError:JR,CanceledError:eT,isCancel:tT,CancelToken:sT,VERSION:nT,all:rT,Cancel:aT,isAxiosError:lT,spread:oT,toFormData:iT,AxiosHeaders:cT,HttpStatusCode:dT,formToJSON:uT,getAdapter:mT,mergeConfig:fT}=gt,Ji="http://localhost:5001";class Ks{static async uploadDocument(r,a,o,c=null){var d;try{const m=new FormData;m.append("file",o),m.append("document_type",a);const f={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0};return c&&(f.onUploadProgress=x=>{const y=Math.round(x.loaded*100/x.total);c(y)}),{success:!0,data:(await gt.post(`${Ji}/upload/documents/${r}`,m,f)).data}}catch(m){console.error("Document upload error:",m);let f="Failed to upload document";return m.response?f=((d=m.response.data)==null?void 0:d.error)||f:m.request&&(f="Network error - please check your connection"),{success:!1,error:f}}}static async deleteDocument(r,a){var o;try{return{success:!0,data:(await gt.delete(`${Ji}/upload/documents/${r}/${a}`,{withCredentials:!0})).data}}catch(c){console.error("Document delete error:",c);let d="Failed to delete document";return c.response&&(d=((o=c.response.data)==null?void 0:o.error)||d),{success:!1,error:d}}}static async getDocuments(r){var a;try{return{success:!0,data:(await gt.get(`${Ji}/upload/documents/${r}`,{withCredentials:!0})).data}}catch(o){console.error("Get documents error:",o);let c="Failed to fetch documents";return o.response&&(c=((a=o.response.data)==null?void 0:a.error)||c),{success:!1,error:c}}}static getDocumentUrl(r,a,o=!1){return`${Ji}/upload/documents/${r}/${a}${o?"?download=true":"?download=false"}`}static getPreviewUrl(r,a){return this.getDocumentUrl(r,a,!1)}static getDownloadUrl(r,a){return this.getDocumentUrl(r,a,!0)}static validateFile(r){const a=["application/pdf","image/jpeg","image/png","image/jpg"];return r?a.includes(r.type)?r.size>5242880?{valid:!1,error:"File size too large. Maximum size is 5MB."}:r.size===0?{valid:!1,error:"File is empty."}:{valid:!0}:{valid:!1,error:"Invalid file type. Please upload PDF, JPG, or PNG files only."}:{valid:!1,error:"No file selected"}}static formatFileSize(r){if(r===0)return"0 Bytes";const a=1024,o=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(r)/Math.log(a));return parseFloat((r/Math.pow(a,c)).toFixed(2))+" "+o[c]}static getDocumentDisplayName(r){return{id_document:"ID Document",income_proof:"Income Proof",employment_letter:"Employment Letter",bank_statement:"Bank Statement",reference_letter:"Reference Letter"}[r]||r}static isDocumentRequired(r){return["id_document","income_proof"].includes(r)}}const QC=({application:n,onClose:r,onApprove:a,onReject:o})=>{var k,E,D,L;const[c,d]=p.useState(null);if(!n)return null;const m=M=>M?`RM ${parseFloat(M).toLocaleString()}`:"Not specified",f=M=>{if(!n.id)return;const z=Ks.getPreviewUrl(n.id,M);d({type:M,url:z,name:Ks.getDocumentDisplayName(M)})},g=M=>{if(!n.id)return;const z=Ks.getDownloadUrl(n.id,M);window.open(z,"_blank")},x=()=>{d(null)},y=(M,z,$)=>{const O=!!$;return e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("span",{className:"text-gray-600",children:[z,":"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`font-medium ${O?"text-green-600":"text-red-600"}`,children:O?" Uploaded":" Not uploaded"}),O&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>f(M),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded",title:"Preview document",children:e.jsx(bb,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>g(M),className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded",title:"Download document",children:e.jsx(gc,{className:"h-4 w-4"})})]})]})]},M)},b=M=>M?new Date(M).toLocaleDateString():"Not specified",w=M=>M==null?"Not specified":M?"Yes":"No",S=M=>{if(!M)return"Not specified";const z=new Date,$=new Date(M);let O=z.getFullYear()-$.getFullYear();const T=z.getMonth()-$.getMonth();return(T<0||T===0&&z.getDate()<$.getDate())&&O--,`${O} years old`},N=()=>n.rent_to_income_ratio?`${n.rent_to_income_ratio}%`:"Not calculated",v=()=>{if(!n.rent_to_income_ratio)return"text-gray-600";const M=n.rent_to_income_ratio;return M<=30?"text-green-600":M<=40?"text-yellow-600":"text-red-600"},_=()=>{if(!n.rent_to_income_ratio)return"Unable to assess";const M=n.rent_to_income_ratio;return M<=30?"Excellent":M<=40?"Good":"High Risk"};return e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Enhanced Application Details"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["For property: ",((k=n.property)==null?void 0:k.title)||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Applied on: ",b(n.created_at)]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:n.full_name?n.full_name.charAt(0).toUpperCase():"T"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-800",children:n.full_name||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600",children:n.email||"Not provided"}),e.jsx("p",{className:"text-sm text-gray-600",children:n.phone_number||"Not provided"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Age"}),e.jsx("p",{className:"font-semibold text-gray-700",children:S(n.date_of_birth)})]})]}),n.emergency_contact_name&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[e.jsx("h5",{className:"font-semibold text-gray-700 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Name:"}),e.jsx("span",{className:"ml-2 font-medium",children:n.emergency_contact_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"}),e.jsx("span",{className:"ml-2 font-medium",children:n.emergency_contact_phone||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Employment Details"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"font-medium capitalize",children:n.employment_status||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Employer:"}),e.jsx("span",{className:"font-medium",children:n.employer_name||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Job Title:"}),e.jsx("span",{className:"font-medium",children:n.job_title||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsx("span",{className:"font-medium",children:n.employment_duration||"Not specified"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),"Financial Profile"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Income:"}),e.jsx("span",{className:"font-medium",children:m(n.monthly_income)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Additional Income:"}),e.jsx("span",{className:"font-medium",children:m(n.additional_income)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Expenses:"}),e.jsx("span",{className:"font-medium",children:m(n.monthly_expenses)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Rent:"}),e.jsx("span",{className:"font-medium",children:m(n.current_rent)})]}),e.jsxs("div",{className:"pt-2 border-t border-yellow-200",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rent-to-Income Ratio:"}),e.jsx("span",{className:`font-bold ${v()}`,children:N()})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Financial Health:"}),e.jsx("span",{className:`font-semibold ${v()}`,children:_()})]})]})]})]})]}),(n.bank_name||n.credit_score)&&e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg border border-purple-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Banking & Credit Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Bank:"}),e.jsx("span",{className:"font-medium",children:n.bank_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Account Number:"}),e.jsx("span",{className:"font-medium",children:n.account_number?`****${n.account_number.slice(-4)}`:"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Credit Score:"}),e.jsx("span",{className:"font-medium",children:n.credit_score||"Not provided"})]})]})]}),n.previous_address&&e.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg border border-indigo-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full mr-2"}),"Rental History"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Previous Address:"}),e.jsx("span",{className:"font-medium",children:n.previous_address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Previous Landlord:"}),e.jsx("span",{className:"font-medium",children:n.previous_landlord_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Landlord Phone:"}),e.jsx("span",{className:"font-medium",children:n.previous_landlord_phone||"Not provided"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Rental Duration:"}),e.jsx("span",{className:"font-medium",children:n.rental_duration||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Reason for Moving:"}),e.jsx("span",{className:"font-medium",children:n.reason_for_moving||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full mr-2"}),"Tenant Preferences"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Preferred Move-in Date:"}),e.jsx("span",{className:"font-medium",children:b(n.move_in_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Lease Duration Preference:"}),e.jsx("span",{className:"font-medium",children:n.lease_duration_preference||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Number of Occupants:"}),e.jsx("span",{className:"font-medium",children:n.number_of_occupants||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Pets:"}),e.jsx("span",{className:"font-medium",children:w(n.pets)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Smoking:"}),e.jsx("span",{className:"font-medium",children:w(n.smoking)})]})]}),n.pet_details&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-600 block",children:"Pet Details:"}),e.jsx("span",{className:"font-medium",children:n.pet_details})]}),n.additional_notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-600 block",children:"Additional Notes:"}),e.jsx("span",{className:"font-medium",children:n.additional_notes})]})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg border border-orange-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Document Status"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[y("id_document","ID Document",n.id_document_path),y("income_proof","Income Proof",n.income_proof_path),y("employment_letter","Employment Letter",n.employment_letter_path),y("bank_statement","Bank Statement",n.bank_statement_path),y("reference_letter","Reference Letter",n.reference_letter_path),y("credit_check","Credit Check",n.credit_check_path)]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Application Status"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Current Status:"}),e.jsx("span",{className:`font-bold capitalize px-2 py-1 rounded text-xs ${n.status==="pending"?"bg-yellow-100 text-yellow-800":n.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Application Completed:"}),e.jsx("span",{className:"font-medium",children:w(n.is_complete)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 block",children:"Steps Completed:"}),e.jsxs("span",{className:"font-medium",children:[n.step_completed||0,"/7"]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t mt-6",children:[e.jsx("button",{onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"}),n.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>o(n.id),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Reject Application"}),e.jsx("button",{onClick:()=>a(n.id),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Approve Application"})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",c.name]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(yc,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[c.type&&(c.type.includes("image")||(E=n[`${c.type}_path`])!=null&&E.toLowerCase().includes(".jpg")||(D=n[`${c.type}_path`])!=null&&D.toLowerCase().includes(".jpeg")||(L=n[`${c.type}_path`])!=null&&L.toLowerCase().includes(".png"))?e.jsx("img",{src:c.url,alt:`Preview of ${c.name}`,className:"max-w-full h-auto mx-auto",onError:M=>{M.target.style.display="none",M.target.nextSibling.style.display="block"}}):e.jsx("iframe",{src:c.url,className:"w-full h-96 border rounded",title:`Preview of ${c.name}`}),e.jsxs("div",{className:"text-center text-gray-500 py-8 hidden",children:[e.jsx("p",{children:"Preview not available"}),e.jsx("button",{onClick:()=>g(c.type),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Download to view"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[e.jsxs("button",{onClick:()=>g(c.type),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center space-x-2",children:[e.jsx(gc,{className:"h-4 w-4"}),e.jsx("span",{children:"Download"})]}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})]})})]})},JC=({status:n,availableFromDate:r=null,size:a="sm"})=>{const c=(f=>{switch(f){case"Active":return{color:"bg-green-100 text-green-800 border-green-200",icon:"",label:"Active"};case"Pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",label:"Pending"};case"Rented":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",label:"Rented"};case"Inactive":return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:"",label:"Inactive"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:"?",label:f||"Unknown"}}})(n),d={xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},m=f=>{if(!f)return null;try{const g=new Date(f);return g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:g.getFullYear()!==new Date().getFullYear()?"numeric":void 0})}catch{return null}};return e.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[e.jsxs("span",{className:`
          inline-flex items-center font-semibold rounded-full border
          ${c.color} ${d[a]}
        `,children:[e.jsx("span",{className:"mr-1",children:c.icon}),c.label]}),r&&n==="Active"&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Available from ",m(r)]})]})},e6=({property:n,onStatusChange:r,onRelistProperty:a,disabled:o=!1})=>{const[c,d]=p.useState(!1),[m,f]=p.useState(!1),[g,x]=p.useState(""),y=async N=>{if(!(o||c)){d(!0);try{await r(n.id,N)}finally{d(!1)}}},b=async N=>{if(N.preventDefault(),!(!g||c)){d(!0);try{await a(n.id,g),f(!1),x("")}finally{d(!1)}}},S=(()=>{const N=[];switch(n.status){case"Active":N.push({label:"Deactivate",action:()=>y("Inactive"),color:"text-gray-600 hover:text-gray-800",icon:""});break;case"Inactive":N.push({label:"Re-activate Listing",action:()=>y("Active"),color:"text-green-600 hover:text-green-800",icon:""});break;case"Rented":N.push({label:"Find New Tenant",action:()=>f(!0),color:"text-blue-600 hover:text-blue-800",icon:""});break}return N})();return S.length===0?e.jsx("div",{className:"text-xs text-gray-400",children:n.status==="Pending"?"Agreement in progress":"No actions available"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col space-y-1",children:S.map((N,v)=>e.jsxs("button",{onClick:N.action,disabled:o||c,className:`
              text-xs font-medium transition-colors duration-200
              ${N.color}
              ${o||c?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:[e.jsx("span",{className:"mr-1",children:N.icon}),c?"Loading...":N.label]},v))}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Find New Tenant"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set when this property will be available for new tenants:"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available From Date"}),e.jsx("input",{type:"date",value:g,onChange:N=>x(N.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Property will be re-listed and visible to tenants from this date"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1),x("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",disabled:c,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:c||!g,children:c?"Re-listing...":"Re-list Property"})]})]})]})})})]})},t6=({onAddProperty:n})=>{const r=ws(),{user:a,isAuthenticated:o,isLandlord:c}=Qt(),[d,m]=p.useState("properties"),[f,g]=p.useState(null),[x,y]=p.useState(!1),[b,w]=p.useState(!1),[S,N]=p.useState(null),[v,_]=p.useState(null),[k,E]=p.useState([]),D=k.some(A=>A.unread_count>0),[L,M]=p.useState([]),[z,$]=p.useState(!1),[O,T]=p.useState(!1),[P,F]=p.useState({bookingId:null,newDate:"",newTime:""}),[J,Z]=p.useState(!1),[oe,ae]=p.useState(null),[U,G]=p.useState({first_name:"",last_name:"",phone:"",email:""});p.useEffect(()=>{(async()=>{if(a){const de=await b0.getProfile();de.success?G(de.profile):console.error("Failed to load profile data:",de.error)}})()},[a]),p.useEffect(()=>{(async()=>{if(a)try{const de=await Os.getConversations();de.success&&E(de.conversations)}catch(de){console.error("Failed to load conversations:",de)}})()},[a]);const Y=A=>{const{name:de,value:pe}=A.target;G(Oe=>({...Oe,[de]:pe}))},xe=async A=>{A.preventDefault();try{const de=await b0.updateProfile(U);de.success?(alert("Profile updated successfully!"),G(de.profile)):alert(`Failed to update profile: ${de.error}`)}catch{alert("An error occurred while saving your profile.")}},C=async A=>{try{await Gt.markAsSeen(A),he(de=>de.map(pe=>pe.id===A?{...pe,is_seen_by_landlord:!0}:pe))}catch(de){console.error("Failed to mark booking as seen:",de)}};p.useEffect(()=>{if(!o){r("/");return}if(!c()){alert("Access denied. This page is for landlords only."),r("/dashboard");return}},[o,c,r]);const[H,V]=p.useState([]),[X,se]=p.useState(!0),le=async()=>{if(!(!o||!a))try{se(!0);const A=await ys.getPropertiesByOwner(a.id);A.success?V(A.properties):(console.error("Failed to load properties:",A.error),V([]))}catch(A){console.error("Error loading properties:",A),V([])}finally{se(!1)}};p.useEffect(()=>{le()},[o,a]);const ye=async()=>{if(!(!o||!a))try{$(!0);const A=await Nt.getAll();A.success?M(A.agreements):(console.error("Failed to load agreements:",A.error),M([]))}catch(A){console.error("Error loading agreements:",A),M([])}finally{$(!1)}};p.useEffect(()=>{ye()},[o,a]);const[ce,he]=p.useState([]);p.useEffect(()=>{const A=async()=>{if(!(!o||!a))try{const pe=await Gt.getBookingsByLandlord(a.id);pe.success?he(pe.bookings):(console.error("Failed to load viewing requests:",pe.error),he([]))}catch(pe){console.error("Error loading viewing requests:",pe),he([])}};A();const de=setInterval(A,5e3);return()=>clearInterval(de)},[o,a]),p.useEffect(()=>{const A=()=>{le()};return window.addEventListener("propertyUpdated",A),()=>{window.removeEventListener("propertyUpdated",A)}},[]);const[ie,be]=p.useState({title:"",location:"",price:"",sqft:"",bedrooms:"",bathrooms:"",parking:"",propertyType:"Apartment",furnished:"Unfurnished",description:"",amenities:[],tags:[],pictures:[],videoLinks:"",floorPlan:"",zeroDeposit:!1,cookingReady:!1,hotProperty:!1}),ke=ce.some(A=>!A.is_seen_by_landlord),[Re,Qe]=p.useState([]),ct=Re.some(A=>!A.is_seen_by_landlord),[_t,At]=p.useState(!1),[qe,rt]=p.useState(null),Wt=async()=>{if(!(!o||!a))try{const A=await Un.getApplicationsByLandlord();A.success?Qe(A.applications):console.error("Failed to load applications:",A.error)}catch(A){console.error("Error loading applications:",A)}};p.useEffect(()=>{Wt()},[o,a]);const Jt={totalEarnings:"RM 0",pendingPayments:"RM 0",thisMonth:"RM 0",transactions:[]},ve=async(A,de)=>{try{const pe=de==="approved"?"confirmed":"cancelled",Oe=await Gt.updateBookingStatus(A,pe);if(Oe.success){const _e=ce.map(bn=>bn.id===A?{...bn,status:pe}:bn);he(_e),alert(`Viewing request has been ${de==="approved"?"confirmed":"declined"} successfully!`)}else alert(`Failed to ${de==="approved"?"approve":"decline"} viewing request: ${Oe.error}`)}catch(pe){console.error("Error updating viewing request:",pe),alert("An error occurred while updating the viewing request")}},Ve=A=>{F({bookingId:A,newDate:"",newTime:""}),T(!0)},dt=async A=>{A.preventDefault();const{bookingId:de,newDate:pe,newTime:Oe}=P;if(!pe||!Oe){alert("Please select a new date and time.");return}try{const _e=await Gt.rescheduleBooking(de,{date:pe,time:Oe,requested_by:"landlord"});_e.success?(T(!1),alert("Reschedule request sent successfully!"),await loadViewingRequests()):alert(`Failed to send reschedule request: ${_e.error}`)}catch(_e){console.error("Error sending reschedule request:",_e)}},ut=A=>{_(v===A?null:A)},Et=async(A,de)=>{try{let pe;if(de==="approved")if(pe=await Gt.approveReschedule(A),pe.success)alert("Reschedule request has been accepted!");else{alert(`Failed to approve reschedule: ${pe.error}`);return}else if(de==="declined")if(pe=await Gt.declineReschedule(A),pe.success)alert("Reschedule request has been declined!");else{alert(`Failed to decline reschedule: ${pe.error}`);return}const Oe=await Gt.getBookingsByLandlord(a.id);Oe.success&&he(Oe.bookings)}catch(pe){console.error("Error responding to reschedule request:",pe),alert("An error occurred while responding to the reschedule request")}},q=async A=>{try{await Un.markAsSeen(A),Qe(de=>de.map(pe=>pe.id===A?{...pe,is_seen_by_landlord:!0}:pe))}catch(de){console.error("Failed to mark application as seen:",de)}},ge=async A=>{if(confirm("Are you sure you want to cancel this reschedule request? The original date and time will be restored."))try{const de=await Gt.cancelReschedule(A);if(de.success){const pe=await Gt.getBookingsByLandlord(a.id);pe.success&&he(pe.bookings),alert("Reschedule request has been cancelled. Original date and time restored.")}else alert(`Failed to cancel reschedule request: ${de.error}`)}catch(de){console.error("Error cancelling reschedule request:",de),alert("An error occurred while cancelling the reschedule request")}},ne=async(A,de)=>{const pe=Re.find(_e=>_e.id===A);pe&&!pe.is_seen_by_landlord&&q(A);const Oe=de==="approved"?"approved":"rejected";try{const _e=await Un.updateApplicationStatus(A,Oe);_e.success?(alert(`Tenant application has been ${Oe} successfully!`),await Wt(),await ye(),await le(),window.dispatchEvent(new CustomEvent("propertyUpdated"))):alert(`Failed to update application: ${_e.error}`)}catch(_e){console.error("Error updating application status:",_e),alert("An error occurred while updating the application.")}},Se=A=>{A.is_seen_by_landlord||q(A.id),rt(A),At(!0)},Ae=()=>{At(!1),rt(null)},Ke=async A=>{if(A.preventDefault(),!ie.title||!ie.location||!ie.price){alert("Please fill in all required fields (Title, Location, Price)");return}try{const de={title:ie.title,location:ie.location,price:parseInt(ie.price),sqft:parseInt(ie.sqft)||0,bedrooms:parseInt(ie.bedrooms)||0,bathrooms:parseInt(ie.bathrooms)||0,parking:parseInt(ie.parking)||0,propertyType:ie.propertyType||"Apartment",furnished:ie.furnished||"Unfurnished",description:ie.description||"",amenities:ie.amenities||[],zeroDeposit:ie.zeroDeposit||!1,cookingReady:ie.cookingReady||!1,hotProperty:ie.hotProperty||!1,videoLinks:ie.videoLinks||"",ownerId:a.id},pe=await ys.createProperty(de);pe.success?(alert("Property added successfully!"),await le(),window.dispatchEvent(new CustomEvent("propertyUpdated")),y(!1),be({title:"",location:"",price:"",sqft:"",bedrooms:"",bathrooms:"",parking:"",propertyType:"Apartment",furnished:"Unfurnished",description:"",amenities:[],tags:[],pictures:[],videoLinks:"",floorPlan:null,zeroDeposit:!1,cookingReady:!1,hotProperty:!1})):alert("Failed to add property: "+(pe.error||"Unknown error"))}catch(de){console.error("Error adding property:",de),alert("Failed to add property. Please try again.")}},Bt=A=>{try{if(!A||!A.id){console.error("Invalid property data:",A),alert("Error: Invalid property data. Cannot edit this property.");return}N(A),be({title:A.title||"",location:A.location||"",price:(A.price||"").toString(),sqft:(A.sqft||"").toString(),bedrooms:(A.bedrooms||"").toString(),bathrooms:(A.bathrooms||"").toString(),parking:(A.parking||"").toString(),propertyType:A.propertyType||"Apartment",furnished:A.furnished||"Unfurnished",description:A.description||"",amenities:A.amenities||[],tags:A.tags||[],pictures:A.pictures||[],videoLinks:A.videoLinks||"",floorPlan:A.floorPlan||null,zeroDeposit:A.zeroDeposit||!1,cookingReady:A.cookingReady||!1,hotProperty:A.hotProperty||!1}),w(!0)}catch(de){console.error("Error in handleEditProperty:",de),alert("Error: Unable to edit this property. Please try again.")}},ds=async A=>{if(A.preventDefault(),!ie.title||!ie.location||!ie.price){alert("Please fill in all required fields (Title, Location, Price)");return}try{const de={title:ie.title,location:ie.location,price:parseInt(ie.price),sqft:parseInt(ie.sqft)||0,bedrooms:parseInt(ie.bedrooms)||0,bathrooms:parseInt(ie.bathrooms)||0,parking:parseInt(ie.parking)||0,propertyType:ie.propertyType||"Apartment",furnished:ie.furnished||"Unfurnished",description:ie.description||"",amenities:ie.amenities||[],zeroDeposit:ie.zeroDeposit||!1,cookingReady:ie.cookingReady||!1,hotProperty:ie.hotProperty||!1,videoLinks:ie.videoLinks||""},pe=await ys.updateProperty(S.id,de);pe.success?(await le(),window.dispatchEvent(new CustomEvent("propertyUpdated")),w(!1),N(null),be({title:"",location:"",price:"",sqft:"",bedrooms:"",bathrooms:"",parking:"",propertyType:"Apartment",furnished:"Unfurnished",description:"",amenities:[],tags:[],pictures:[],videoLinks:"",floorPlan:"",zeroDeposit:!1,cookingReady:!1,hotProperty:!1}),alert("Property updated successfully!")):alert(`Failed to update property: ${pe.error}`)}catch(de){console.error("Error updating property:",de),alert("An error occurred while updating the property")}},os=async()=>{try{const A=await Os.getConversations();A.success&&E(A.conversations)}catch(A){console.error("Failed to re-load conversations:",A)}},Ns=async A=>{if(window.confirm("Are you sure you want to delete this property? This action cannot be undone."))try{const de=await ys.deleteProperty(A);de.success?(alert("Property deleted successfully!"),await le(),window.dispatchEvent(new CustomEvent("propertyUpdated"))):alert(`Failed to delete property: ${de.error}`)}catch(de){console.error("Error deleting property:",de),alert("An error occurred while deleting the property. Please try again.")}},$t=()=>{Z(!1),ae(null)},us=A=>{alert(`Availability set successfully! Created ${A.slots_created||0} viewing slots.`)},ot=A=>{const{name:de,value:pe}=A.target;be(Oe=>({...Oe,[de]:pe}))},Qr=async(A,de)=>{try{let pe;switch(de){case"Active":pe=await ys.reactivateProperty(A);break;case"Inactive":pe=await ys.deactivateProperty(A);break;default:pe=await ys.updatePropertyStatus(A,de);break}pe.success?(await le(),window.dispatchEvent(new CustomEvent("propertyUpdated")),alert(pe.message||`Property status updated to ${de}`)):alert(`Failed to update property status: ${pe.error}`)}catch(pe){console.error("Error updating property status:",pe),alert(`Error updating property status: ${pe.message}`)}},Jr=async(A,de)=>{try{const pe=await ys.relistProperty(A,de);pe.success?(await le(),window.dispatchEvent(new CustomEvent("propertyUpdated")),alert(pe.message||"Property re-listed successfully")):alert(`Failed to re-list property: ${pe.error}`)}catch(pe){console.error("Error re-listing property:",pe),alert(`Error re-listing property: ${pe.message}`)}},Pt=()=>{switch(d){case"properties":return e.jsx("div",{children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inquiries"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(A=>e.jsxs("tr",{onClick:()=>r(`/property/${A.id}`),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-md object-cover",src:A.image,alt:A.title})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.title}),e.jsx("div",{className:"text-sm text-gray-500",children:A.location})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(JC,{status:A.status,availableFromDate:A.available_from_date,size:"sm"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.views}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.inquiries}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["RM ",A.price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col space-y-2",onClick:de=>de.stopPropagation(),children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>Bt(A),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),e.jsx("button",{onClick:()=>Ns(A.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]}),e.jsx(e6,{property:A,onStatusChange:Qr,onRelistProperty:Jr})]})})]},A.id))})]})})})})})});case"viewings":return e.jsx("div",{children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No viewing requests"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When tenants schedule property viewings, they will appear here."})]})})}):ce.map(A=>{const de=A.propertyId||A.property_id||A.propertyID,pe=H.find(_e=>_e.id==de),Oe=!A.is_seen_by_landlord;return e.jsxs(He.Fragment,{children:[e.jsxs("tr",{className:`transition-colors duration-300 ${Oe?"bg-red-50 hover:bg-red-100":"hover:bg-gray-50"}`,onClick:()=>{Oe&&C(A.id),ut(A.id)},children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:pe?pe.title:"Title Unavailable"}),e.jsx("div",{className:"text-sm text-gray-500",children:pe?pe.location:"Address Unavailable"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),e.jsx("div",{className:"text-sm text-gray-500",children:A.phone}),e.jsx("div",{className:"text-sm text-gray-500",children:A.email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:Zs(A.appointment_date)}),e.jsx("div",{className:"text-sm text-gray-500",children:qr(A.appointment_time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="Confirmed"?"bg-green-100 text-green-800":A.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:A.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:_e=>{_e.stopPropagation(),ut(A.id)},className:"text-blue-600 hover:text-blue-900 text-xs mr-2 mb-1 block",children:v===A.id?" Hide Details":" View Details"}),(A.status==="Pending"||A.status==="pending")&&!A.reschedule_requested_by&&e.jsxs("div",{className:"flex space-x-2 mb-2",children:[e.jsx("button",{onClick:_e=>{_e.stopPropagation(),ve(A.id,"approved")},id:"confirmButton",className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded-md text-xs",children:"Confirm"}),e.jsx("button",{onClick:_e=>{_e.stopPropagation(),ve(A.id,"declined")},id:"declineButton",className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md text-xs",children:"Decline"})]}),(A.status==="Pending"||A.status==="pending"||A.status==="Confirmed"||A.status==="confirmed")&&e.jsx("button",{onClick:async _e=>{_e.stopPropagation();try{const es=await Os.getOrCreateConversation(A.id);es.success&&(m("messages"),g(es.conversation.id))}catch(es){console.error("Error opening conversation:",es),alert("Failed to open conversation")}},className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded-md text-xs mb-2",children:" Message Tenant"}),(A.status==="Confirmed"||A.status==="confirmed")&&e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:_e=>{_e.stopPropagation(),Ve(A.id)},id:"rescheduleButton",className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded-md text-xs",children:"Reschedule"})}),(A.status==="pending"||A.status==="Reschedule Requested")&&(A.reschedule_requested_by||A.rescheduleRequestedBy)&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-orange-600 text-xs font-medium",children:"Reschedule Requested"}),e.jsx("div",{className:"text-xs text-gray-500",children:A.proposed_date&&A.proposed_time?e.jsxs(e.Fragment,{children:["New:"," ",Zs(A.proposed_date)," ","at"," ",qr(A.proposed_time)]}):A.reschedule_requested_by==="landlord"?"Waiting for tenant response":"Tenant will choose new time"}),A.reschedule_requested_by==="tenant"||A.rescheduleRequestedBy==="tenant"?e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:_e=>{_e.stopPropagation(),Et(A.id,"approved")},id:"acceptButton",className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded-md text-xs",children:"Accept"}),e.jsx("button",{onClick:_e=>{_e.stopPropagation(),Et(A.id,"declined")},id:"declineButton",className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md text-xs",children:"Decline"})]}):e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-xs text-blue-600",children:"Waiting for tenant response"}),e.jsx("button",{onClick:_e=>{_e.stopPropagation(),ge(A.id)},className:"bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded-md text-xs",children:"Cancel Request"})]})]}),(A.status==="Declined"||A.status==="declined"||A.status==="cancelled")&&e.jsx("span",{className:"text-red-600 text-xs font-medium",children:"Declined"})]})]}),v===A.id&&e.jsx("tr",{className:"bg-gray-50",children:e.jsx("td",{colSpan:"5",className:"px-6 py-4",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tenant Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",A.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",A.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",A.phone]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Appointment Details"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",Zs(A.appointment_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",qr(A.appointment_time)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:`ml-1 px-2 py-1 text-xs rounded-full ${A.status==="Confirmed"?"bg-green-100 text-green-800":A.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:A.status})]})]})]}),e.jsxs("div",{className:"md:col-span-2 border-t pt-4",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Employment & Occupancy"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Occupation:"})," ",A.occupation||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Monthly Income:"})," ",A.monthly_income?`RM ${A.monthly_income.toLocaleString()}`:"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Occupants:"})," ",A.number_of_occupants||"N/A"]})]})]})]}),A.message&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Additional Message"}),e.jsx("div",{className:"bg-gray-50 rounded-md p-3 text-sm text-gray-700",children:A.message})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500",children:["Request submitted: ",uE(A.created_at)]})})]})})})]},A.id)})})]})})})})})});case"applications":return e.jsx("div",{children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Re.map(A=>{var pe,Oe,_e,es,bn;const de=!A.is_seen_by_landlord;return e.jsxs("tr",{className:de?"bg-blue-50":"",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((pe=A.property)==null?void 0:pe.title)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((Oe=A.property)==null?void 0:Oe.location)||"N/A"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((_e=A.tenant)==null?void 0:_e.full_name)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((es=A.tenant)==null?void 0:es.phone_number)||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((bn=A.tenant)==null?void 0:bn.email)||"N/A"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Applied: ",Zs(A.created_at)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Move-in: ",A.moveInDate||"N/A"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Income: ",A.monthlyIncome?`RM ${A.monthlyIncome}`:"N/A"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="approved"?"bg-green-100 text-green-800":A.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:A.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[A.status==="pending"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>ne(A.id,"approved"),id:"approveButton",className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded-md text-xs",children:"Approve"}),e.jsx("button",{onClick:()=>ne(A.id,"rejected"),id:"rejectButton",className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md text-xs",children:"Reject"})]}),e.jsx("button",{onClick:()=>Se(A),className:"text-blue-600 hover:text-blue-900 text-xs mt-1",children:"View Details"})]})]},A.id)})})]})})})})})});case"earnings":return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Earnings"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:Jt.totalEarnings})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:Jt.thisMonth})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pending Payments"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:Jt.pendingPayments})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Transaction History"})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Jt.transactions.map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.propertyTitle})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:A.tenantName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:A.date})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.amount})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="Received"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})})]},A.id))})]})})})})})]})]});case"calendar":return e.jsx("div",{children:e.jsx(jE,{})});case"messages":return e.jsx("div",{className:"bg-white rounded-lg shadow max-h-[600px] overflow-hidden",children:e.jsx("div",{className:"h-[600px] flex",children:e.jsx(Ob,{user:a,selectedConversationId:f,onConversationSelect:g,onConversationRead:os})})});case"profile":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Edit Your Profile"}),e.jsxs("form",{onSubmit:xe,className:"space-y-6 max-w-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{type:"text",name:"first_name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:U.first_name||"",onChange:Y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"last_name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:U.last_name||"",onChange:Y})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phone",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:U.phone||"",onChange:Y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed",value:U.email||"",disabled:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-400 hover:bg-yellow-500",children:"Save Changes"})})]})]});case"agreements":return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Tenancy Agreements"}),e.jsx("button",{onClick:ye,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm",children:"Refresh"})]}),z?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading agreements..."})]}):L.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenancy Agreements"}),e.jsx("p",{className:"text-gray-600",children:"Agreements will appear here when you approve tenant applications."})]}):e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:L.map(A=>{var de;return e.jsx("li",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A.property_address}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Nt.getStatusColor(A.status)}`,children:Nt.formatStatus(A.status)})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tenant:"})," ",A.tenant_full_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Monthly Rent:"})," RM ",A.monthly_rent]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Lease Start:"})," ",new Date(A.lease_start_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Landlord Signed:"}),A.landlord_signed_at?e.jsxs("span",{className:"text-green-600 ml-1",children:[" ",new Date(A.landlord_signed_at).toLocaleDateString()]}):e.jsx("span",{className:"text-yellow-600 ml-1",children:" Pending"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tenant Signed:"}),A.tenant_signed_at?e.jsxs("span",{className:"text-green-600 ml-1",children:[" ",new Date(A.tenant_signed_at).toLocaleDateString()]}):e.jsx("span",{className:"text-yellow-600 ml-1",children:" Pending"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Payment:"}),A.payment_completed_at?e.jsx("span",{className:"text-green-600 ml-1",children:" Completed"}):e.jsx("span",{className:"text-yellow-600 ml-1",children:" Pending"})]})]})]}),e.jsxs("div",{className:"ml-4 flex space-x-2",children:[e.jsx(Me,{to:`/agreement/${A.id}`,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm inline-block",children:"View Agreement"}),A.status==="pending_signatures"&&!A.landlord_signed_at&&e.jsx(Me,{to:`/agreement/${A.id}`,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm inline-block",children:"Sign Agreement"}),A.deposit_transaction&&A.deposit_transaction.tenancy_has_ended&&e.jsx(Me,{to:`/deposit/${A.deposit_transaction.id}/manage`,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm inline-block",children:A.deposit_transaction.status==="refunded"||A.deposit_transaction.status==="released"?"View Deposit Status":((de=A.deposit_transaction.claims)==null?void 0:de.length)>0?"View Deposit Claims":"Manage Deposit"})]})]})},A.id)})})})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Landlord Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your properties, tenants, and earnings"})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsx("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-400 hover:bg-yellow-500",children:"+ Add New Property"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Properties"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:H.length})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Monthly Earnings"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:Jt.thisMonth})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:e.jsxs("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Views"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:H.reduce((A,de)=>A+de.views,0)})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Viewings"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ce.filter(A=>A.status==="Pending").length})]})})]})})]}),e.jsxs("div",{className:"relative z-10 bg-white shadow rounded-lg overflow-hidden mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex",children:[e.jsx("button",{onClick:()=>m("properties"),className:`${d==="properties"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"My Properties"}),e.jsxs("button",{onClick:()=>m("viewings"),className:`${d==="viewings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} relative whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx("span",{children:"Viewing Requests"}),ke&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold bg-red-500 text-white",children:"New"})]}),e.jsxs("button",{onClick:()=>m("applications"),className:`${d==="applications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} relative whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx("span",{children:"Tenant Applications"}),ct&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold bg-red-500 text-white",children:"New"})]}),e.jsx("button",{onClick:()=>m("earnings"),className:`${d==="earnings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"Earnings"}),e.jsx("button",{onClick:()=>m("calendar"),className:`${d==="calendar"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:" My Calendar"}),e.jsxs("button",{onClick:()=>m("messages"),className:`${d==="messages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} relative whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx("span",{children:" Messages"}),D&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-semibold bg-red-500 text-white",children:"New"})]}),e.jsx("button",{onClick:()=>m("agreements"),className:`${d==="agreements"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:" Agreements"}),e.jsx("button",{onClick:()=>m("profile"),className:`${d==="profile"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,children:"My Profile"})]})}),e.jsx("div",{className:"p-4 sm:p-6",children:Pt()})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Property"}),e.jsxs("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),e.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Title *"}),e.jsx("input",{type:"text",name:"title",value:ie.title,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location *"}),e.jsx("input",{type:"text",name:"location",value:ie.location,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Rent (RM) *"}),e.jsx("input",{type:"number",name:"price",value:ie.price,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size (sqft)"}),e.jsx("input",{type:"number",name:"sqft",value:ie.sqft,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bedrooms"}),e.jsx("input",{type:"number",name:"bedrooms",value:ie.bedrooms,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bathrooms"}),e.jsx("input",{type:"number",name:"bathrooms",value:ie.bathrooms,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parking Spaces"}),e.jsx("input",{type:"number",name:"parking",value:ie.parking,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Type"}),e.jsxs("select",{name:"propertyType",value:ie.propertyType,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",children:[e.jsx("option",{value:"Apartment",children:"Apartment"}),e.jsx("option",{value:"Condominium",children:"Condominium"}),e.jsx("option",{value:"Studio",children:"Studio"}),e.jsx("option",{value:"Penthouse",children:"Penthouse"}),e.jsx("option",{value:"House",children:"House"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Furnishing"}),e.jsxs("select",{name:"furnished",value:ie.furnished,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",children:[e.jsx("option",{value:"Unfurnished",children:"Unfurnished"}),e.jsx("option",{value:"Partially Furnished",children:"Partially Furnished"}),e.jsx("option",{value:"Fully Furnished",children:"Fully Furnished"})]})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Media & Special Features"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Pictures"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-yellow-400 transition-colors cursor-pointer",onDragOver:A=>{A.preventDefault(),A.currentTarget.classList.add("border-yellow-400","bg-yellow-50")},onDragLeave:A=>{A.preventDefault(),A.currentTarget.classList.remove("border-yellow-400","bg-yellow-50")},onDrop:A=>{A.preventDefault(),A.currentTarget.classList.remove("border-yellow-400","bg-yellow-50");const de=Array.from(A.dataTransfer.files).filter(pe=>pe.type.startsWith("image/"));if(de.length>0){const Oe=[...ie.pictures||[],...de].slice(0,10);be(_e=>({..._e,pictures:Oe}))}},onClick:()=>document.getElementById("property-images-input").click(),children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-yellow-600",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB each (max 10 images)"})]})}),e.jsx("input",{id:"property-images-input",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:A=>{const de=Array.from(A.target.files),Oe=[...ie.pictures||[],...de].slice(0,10);be(_e=>({..._e,pictures:Oe}))}}),ie.pictures&&ie.pictures.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["Uploaded Images (",ie.pictures.length,"/10)"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:ie.pictures.map((A,de)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:URL.createObjectURL(A),alt:`Property image ${de+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>{const pe=ie.pictures.filter((Oe,_e)=>_e!==de);be(Oe=>({...Oe,pictures:pe}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",children:""}),de===0&&e.jsx("div",{className:"absolute bottom-1 left-1 bg-yellow-500 text-white text-xs px-2 py-1 rounded",children:"Main"})]},de))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"First image will be used as the main property photo. Drag to reorder."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Video Links"}),e.jsx("input",{type:"url",name:"videoLinks",value:ie.videoLinks,onChange:ot,placeholder:"https://youtube.com/watch?v=...",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"YouTube, Vimeo, or other video platform links"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Floor Plan"}),e.jsx("input",{type:"file",name:"floorPlan",accept:"image/*,.pdf",onChange:A=>{const de=A.target.files[0];be(pe=>({...pe,floorPlan:de}))},className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload floor plan (Image or PDF)"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Special Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"zeroDeposit",checked:ie.zeroDeposit,onChange:A=>{be(de=>({...de,zeroDeposit:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Zero Deposit",e.jsx("span",{className:"block text-xs text-gray-500",children:"No security deposit required"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"cookingReady",checked:ie.cookingReady,onChange:A=>{be(de=>({...de,cookingReady:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Cooking Ready",e.jsx("span",{className:"block text-xs text-gray-500",children:"Fully equipped kitchen with appliances"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hotProperty",checked:ie.hotProperty,onChange:A=>{be(de=>({...de,hotProperty:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Hot Property",e.jsx("span",{className:"block text-xs text-gray-500",children:"High demand, premium location"})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Swimming Pool","Gym","Security","Parking","Playground","BBQ Area","Laundry","Concierge","Private Lift","Cooking Allowed","Air Conditioning","Balcony","Water Heater","Internet"].map(A=>{var de;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`amenity-${A}`,checked:((de=ie.amenities)==null?void 0:de.includes(A))||!1,onChange:pe=>{const Oe=pe.target.checked;be(_e=>({..._e,amenities:Oe?[..._e.amenities||[],A]:(_e.amenities||[]).filter(es=>es!==A)}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:`amenity-${A}`,className:"ml-2 block text-sm text-gray-900",children:A})]},A)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",value:ie.description,onChange:ot,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Describe your property..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-400 hover:bg-yellow-500",children:"Add Property"})]})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 xl:w-1/2 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Property"}),e.jsxs("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),e.jsxs("form",{onSubmit:ds,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Title *"}),e.jsx("input",{type:"text",name:"title",value:ie.title,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location *"}),e.jsx("input",{type:"text",name:"location",value:ie.location,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Rent (RM) *"}),e.jsx("input",{type:"number",name:"price",value:ie.price,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size (sqft)"}),e.jsx("input",{type:"number",name:"sqft",value:ie.sqft,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bedrooms"}),e.jsx("input",{type:"number",name:"bedrooms",value:ie.bedrooms,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bathrooms"}),e.jsx("input",{type:"number",name:"bathrooms",value:ie.bathrooms,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parking Spaces"}),e.jsx("input",{type:"number",name:"parking",value:ie.parking,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Property Type"}),e.jsxs("select",{name:"propertyType",value:ie.propertyType,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",children:[e.jsx("option",{value:"Apartment",children:"Apartment"}),e.jsx("option",{value:"Condominium",children:"Condominium"}),e.jsx("option",{value:"Studio",children:"Studio"}),e.jsx("option",{value:"Penthouse",children:"Penthouse"}),e.jsx("option",{value:"House",children:"House"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Furnishing"}),e.jsxs("select",{name:"furnished",value:ie.furnished,onChange:ot,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",children:[e.jsx("option",{value:"Unfurnished",children:"Unfurnished"}),e.jsx("option",{value:"Partially Furnished",children:"Partially Furnished"}),e.jsx("option",{value:"Fully Furnished",children:"Fully Furnished"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",value:ie.description,onChange:ot,rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Describe your property..."})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Media & Special Features"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Pictures"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-yellow-400 transition-colors cursor-pointer",onDragOver:A=>{A.preventDefault(),A.currentTarget.classList.add("border-yellow-400","bg-yellow-50")},onDragLeave:A=>{A.preventDefault(),A.currentTarget.classList.remove("border-yellow-400","bg-yellow-50")},onDrop:A=>{A.preventDefault(),A.currentTarget.classList.remove("border-yellow-400","bg-yellow-50");const de=Array.from(A.dataTransfer.files).filter(pe=>pe.type.startsWith("image/"));if(de.length>0){const Oe=[...ie.pictures||[],...de].slice(0,10);be(_e=>({..._e,pictures:Oe}))}},onClick:()=>document.getElementById("edit-property-images-input").click(),children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-yellow-600",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB each (max 10 images)"})]})}),e.jsx("input",{id:"edit-property-images-input",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:A=>{const de=Array.from(A.target.files),Oe=[...ie.pictures||[],...de].slice(0,10);be(_e=>({..._e,pictures:Oe}))}}),ie.pictures&&ie.pictures.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["Uploaded Images (",ie.pictures.length,"/10)"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:ie.pictures.map((A,de)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:typeof A=="string"?A:URL.createObjectURL(A),alt:`Property image ${de+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>{const pe=ie.pictures.filter((Oe,_e)=>_e!==de);be(Oe=>({...Oe,pictures:pe}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",children:""}),de===0&&e.jsx("div",{className:"absolute bottom-1 left-1 bg-yellow-500 text-white text-xs px-2 py-1 rounded",children:"Main"})]},de))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"First image will be used as the main property photo. Drag to reorder."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Video Links"}),e.jsx("input",{type:"url",name:"videoLinks",value:ie.videoLinks||"",onChange:ot,placeholder:"https://youtube.com/watch?v=...",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"YouTube, Vimeo, or other video platform links"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Floor Plan"}),e.jsx("input",{type:"file",name:"floorPlan",accept:"image/*,.pdf",onChange:A=>{const de=A.target.files[0];be(pe=>({...pe,floorPlan:de}))},className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload floor plan (Image or PDF)"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Special Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"zeroDeposit",checked:ie.zeroDeposit||!1,onChange:A=>{be(de=>({...de,zeroDeposit:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Zero Deposit",e.jsx("span",{className:"block text-xs text-gray-500",children:"No security deposit required"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"cookingReady",checked:ie.cookingReady||!1,onChange:A=>{be(de=>({...de,cookingReady:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Cooking Ready",e.jsx("span",{className:"block text-xs text-gray-500",children:"Fully equipped kitchen with appliances"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hotProperty",checked:ie.hotProperty||!1,onChange:A=>{be(de=>({...de,hotProperty:A.target.checked}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:["Hot Property",e.jsx("span",{className:"block text-xs text-gray-500",children:"High demand, premium location"})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Swimming Pool","Gym","Security","Parking","Playground","BBQ Area","Laundry","Concierge","Private Lift","Cooking Allowed","Air Conditioning","Balcony","Water Heater","Internet"].map(A=>{var de;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`edit-amenity-${A}`,checked:((de=ie.amenities)==null?void 0:de.includes(A))||!1,onChange:pe=>{const Oe=pe.target.checked;be(_e=>({..._e,amenities:Oe?[..._e.amenities||[],A]:(_e.amenities||[]).filter(es=>es!==A)}))},className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:`edit-amenity-${A}`,className:"ml-2 text-sm text-gray-700",children:A})]},A)})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-400 hover:bg-yellow-500",children:"Update Property"})]})]})]})})}),_t&&qe&&e.jsx(QC,{application:qe,onClose:Ae,onApprove:A=>{ne(A,"approved"),Ae()},onReject:A=>{ne(A,"rejected"),Ae()}}),O&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:e.jsxs("div",{id:"rescheduleModal",className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Propose New Time"}),e.jsx("button",{id:"closeButton",onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:dt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Proposed Date"}),e.jsx("input",{type:"date",id:"newDate",value:P.newDate,onChange:A=>F(de=>({...de,newDate:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Proposed Time"}),e.jsx("input",{type:"time",id:"newTime",value:P.newTime,onChange:A=>F(de=>({...de,newTime:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{id:"cancelButton",type:"button",onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{id:"submitButton",type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Send Proposal"})]})]})]})})}),J&&oe&&e.jsx(bE,{propertyId:oe.id,onClose:$t,onSuccess:us})]})})},s6=()=>{const{agreementId:n}=en(),r=ws(),{user:a,isAuthenticated:o,isLandlord:c,isTenant:d}=Qt();console.log("=== AUTH DEBUG ==="),console.log("User object:",a),console.log("Is authenticated:",o),console.log("User role (from user object):",a==null?void 0:a.role),console.log("==================");const[m,f]=p.useState(null),[g,x]=p.useState(!0),[y,b]=p.useState(null),[w,S]=p.useState(!1),[N,v]=p.useState(!1),[_,k]=p.useState(null),[E,D]=p.useState(!1),[L,M]=p.useState(!1),[z,$]=p.useState("");p.useEffect(()=>{P()},[n]),p.useEffect(()=>{if(m&&m.expires_at&&!m.is_expired){const V=setInterval(()=>{const X=new Date().getTime(),le=new Date(m.expires_at+"Z").getTime()-X;if(le>0){const ye=Math.floor(le/36e5),ce=Math.floor(le%(1e3*60*60)/(1e3*60)),he=Math.floor(le%(1e3*60)/1e3);k({hours:ye,minutes:ce,seconds:he})}else k(null),O()},1e3);return()=>clearInterval(V)}},[m]);const O=async()=>{try{const V=await Nt.checkExpiry(n);V.success&&f(V.agreement)}catch(V){console.error("Error checking expiry:",V)}},T=async()=>{try{M(!0);const V=c();let X;V?X=await Nt.withdrawLandlordOffer(n,z):X=await Nt.withdrawTenantSignature(n,z),X.success?(D(!1),$(""),await P(),alert(X.message||"Withdrawal successful!")):alert(X.error||"Failed to withdraw")}catch(V){console.error("Error withdrawing:",V),alert("Failed to withdraw")}finally{M(!1)}},P=async()=>{try{x(!0);const V=await Nt.getById(n,{_t:Date.now()});V.success?(f(V.agreement),console.log("Agreement loaded:",V.agreement.status,"Payment completed:",V.agreement.payment_completed_at)):b(V.error||"Failed to load agreement")}catch(V){b("Failed to load agreement"),console.error("Error loading agreement:",V)}finally{x(!1)}},F=async()=>{try{v(!0);const V=await Nt.signAgreement(n,{signature_id:`temp_signature_${Date.now()}`,signed_at:new Date().toISOString()});V.success?(S(!1),await P(),alert("Agreement signed successfully!")):alert(V.error||"Failed to sign agreement")}catch(V){console.error("Error signing agreement:",V),alert("Failed to sign agreement")}finally{v(!1)}},J=(V="draft")=>{const X=`http://localhost:5001/api/tenancy-agreements/${n}/download/${V}`;window.open(X,"_blank")},Z=()=>{const V=`http://localhost:5001/api/tenancy-agreements/${n}/preview`;window.open(V,"_blank")};if(g)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading agreement..."})]})});if(y)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Agreement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:y}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});if(!m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Agreement Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested agreement could not be found."}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});const oe=c(),ae=d(),U=m.landlord_signed_at,G=m.tenant_signed_at,Y=oe&&!U||ae&&!G,xe=U&&G;console.log("=== WITHDRAWAL DEBUG ==="),console.log("User is landlord:",oe),console.log("User is tenant:",ae),console.log("Agreement can_landlord_withdraw:",m.can_landlord_withdraw),console.log("Agreement can_tenant_withdraw:",m.can_tenant_withdraw),console.log("Landlord signed at:",m.landlord_signed_at),console.log("Tenant signed at:",m.tenant_signed_at);const C=oe?"landlord":"tenant",H=Nt.canWithdraw(m,C);return console.log("User role for withdrawal:",C),console.log("Can withdraw result:",H),console.log("========================"),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenancy Agreement"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${Nt.getStatusColor(m.status)}`,children:Nt.formatStatus(m.status)}),console.log("=== COUNTDOWN DEBUG ===")||console.log("timeRemaining:",_)||console.log("agreement.is_expired:",m.is_expired)||console.log("agreement.status:",m.status)||console.log("agreement.expires_at:",m.expires_at)||console.log("Show countdown?",_&&!m.is_expired&&(m.status==="pending_signatures"||m.status==="pending_payment"))||console.log("=======================")||!1,_&&!m.is_expired&&(m.status==="pending_signatures"||m.status==="pending_payment")&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg px-3 py-1",children:e.jsxs("div",{className:"flex items-center text-red-700",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm font-medium",children:[_.hours,"h ",_.minutes,"m ",_.seconds,"s remaining"]})]})}),m.is_expired&&e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:" Expired"})}),Nt.canWithdraw(m,oe?"landlord":"tenant")&&e.jsx("button",{onClick:()=>D(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-md text-sm font-medium",children:oe?"Withdraw Offer":"Withdraw Signature"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Agreement ID"}),e.jsx("p",{className:"text-gray-900",children:m.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Created Date"}),e.jsx("p",{className:"text-gray-900",children:new Date(m.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Lease Duration"}),e.jsxs("p",{className:"text-gray-900",children:[m.lease_duration_months," months"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Agreement Fee"}),e.jsxs("p",{className:"text-gray-900",children:["RM ",m.payment_required]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Property Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:m.property_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Property Type"}),e.jsx("p",{className:"text-gray-900",children:m.property_type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Bedrooms"}),e.jsx("p",{className:"text-gray-900",children:m.property_bedrooms})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Bathrooms"}),e.jsx("p",{className:"text-gray-900",children:m.property_bathrooms})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Floor Area"}),e.jsxs("p",{className:"text-gray-900",children:[m.property_sqft," sq ft"]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Financial Terms"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Monthly Rent"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["RM ",m.monthly_rent]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Security Deposit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["RM ",m.security_deposit]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"Agreement Fee"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["RM ",m.payment_required]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Lease Terms"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Lease Start Date"}),e.jsx("p",{className:"text-gray-900",children:new Date(m.lease_start_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Lease End Date"}),e.jsx("p",{className:"text-gray-900",children:new Date(m.lease_end_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Utilities Included"}),e.jsx("p",{className:"text-gray-900",children:m.utilities_included?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Parking Included"}),e.jsx("p",{className:"text-gray-900",children:m.parking_included?"Yes":"No"})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Signature Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Landlord"}),e.jsx("p",{className:"text-sm text-gray-600",children:m.landlord_full_name})]}),e.jsx("div",{className:"text-right",children:U?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:" Signed"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.landlord_signed_at).toLocaleDateString()})]}):e.jsx("span",{className:"text-yellow-600 font-medium",children:" Pending"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Tenant"}),e.jsx("p",{className:"text-sm text-gray-600",children:m.tenant_full_name})]}),e.jsx("div",{className:"text-right",children:G?e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:" Signed"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.tenant_signed_at).toLocaleDateString()})]}):e.jsx("span",{className:"text-yellow-600 font-medium",children:" Pending"})})]})]}),xe&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800 font-medium text-center",children:" All parties have signed!"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:Z,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Preview Agreement"}),m.status!=="active"&&e.jsx("button",{onClick:()=>J("draft"),className:"w-full bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Download Draft PDF"}),m.status==="active"&&e.jsx("button",{onClick:()=>J("final"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Download Final PDF"}),Y&&e.jsx("button",{onClick:()=>S(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Sign Agreement"})]})]}),!xe&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Next Steps"}),e.jsxs("div",{className:"text-sm text-yellow-700",children:[!U&&!G&&e.jsx("p",{children:"Both landlord and tenant need to review and sign this agreement."}),U&&!G&&e.jsx("p",{children:"Waiting for tenant to sign the agreement."}),!U&&G&&e.jsx("p",{children:"Waiting for landlord to sign the agreement."}),e.jsx("p",{className:"mt-2",children:"Once both parties sign, the tenant will be prompted for payment to activate the tenancy."})]})]}),m.status==="pending_payment"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Agreement Signed!"}),ae&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Both parties have signed the agreement. Complete the payment to finalize your tenancy."}),e.jsxs(Me,{to:`/agreement/${m.id}/payment`,className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm font-medium",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Complete Payment (RM ",m.payment_required,")"]})]}),oe&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Waiting for tenant payment"}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["The tenant needs to complete the RM ",m.payment_required," agreement fee to activate the tenancy."]})]})]})]}),m.status==="website_fee_paid"&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:" Next Step: Pay Security Deposit"}),ae&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-orange-700 mb-4",children:"Website fee paid! Now complete your security deposit payment to activate your tenancy agreement."}),e.jsxs("div",{className:"mb-3 text-sm text-orange-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Security Deposit:"})," RM ",m.security_deposit]}),e.jsx("p",{className:"text-xs mt-1",children:"This deposit will be held in escrow and returned at the end of your tenancy."})]}),e.jsxs(Me,{to:`/deposit/payment/${m.id}`,className:"inline-flex items-center bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 text-sm font-medium",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Pay Security Deposit (RM ",m.security_deposit,")"]})]}),oe&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-orange-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Waiting for tenant deposit payment"}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["The tenant needs to complete the RM ",m.security_deposit," security deposit to activate the tenancy."]})]})]})]}),m.status==="active"&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:" Agreement Active"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your tenancy agreement is now active and in effect. Welcome to your new home!"})]}),m.status==="withdrawn"&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:" Agreement Withdrawn"}),e.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"This agreement has been withdrawn and is no longer valid."}),m.withdrawal_reason&&e.jsxs("div",{className:"mt-2 p-2 bg-orange-100 rounded text-xs text-orange-800",children:[e.jsx("strong",{children:"Reason:"})," ",m.withdrawal_reason]}),m.landlord_withdrawn_at&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Withdrawn by landlord on ",new Date(m.landlord_withdrawn_at).toLocaleDateString()]}),m.tenant_withdrawn_at&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Withdrawn by tenant on ",new Date(m.tenant_withdrawn_at).toLocaleDateString()]})]}),m.status==="expired"&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:" Agreement Expired"}),e.jsx("p",{className:"text-sm text-gray-700",children:"This agreement has expired and is no longer valid. The signing period has ended."}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Expired on ",m.expires_at?new Date(m.expires_at).toLocaleDateString():"N/A"]})]})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:oe?"Withdraw Offer":"Withdraw Signature"}),e.jsx("p",{className:"text-gray-600 mb-4",children:oe?"Are you sure you want to withdraw your offer? This action cannot be undone and the tenant will be notified.":"Are you sure you want to withdraw your signature? This will remove your commitment to this agreement."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),e.jsx("textarea",{value:z,onChange:V=>$(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",rows:"3",placeholder:"Please provide a reason for withdrawal..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{D(!1),$("")},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md",disabled:L,children:"Cancel"}),e.jsx("button",{onClick:T,disabled:L,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md disabled:opacity-50",children:L?"Processing...":"Confirm Withdrawal"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Sign Agreement"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"By signing this agreement, you confirm that you have read, understood, and agree to all terms and conditions."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>S(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md",disabled:N,children:"Cancel"}),e.jsx("button",{onClick:F,disabled:N,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md disabled:opacity-50",children:N?"Signing...":"Confirm & Sign"})]})]})})]})},n6=()=>{const[n,r]=p.useState("landlord_pending"),[a,o]=p.useState(null),[c,d]=p.useState(!1),[m,f]=p.useState(!1),[g,x]=p.useState(""),y={landlord_pending:{id:1,status:"pending_signatures",landlord_signed_at:"2025-08-03T20:00:00Z",tenant_signed_at:null,expires_at:new Date(Date.now()+7200*1e3).toISOString(),is_expired:!1,can_landlord_withdraw:!1,can_tenant_withdraw:!1,userRole:"landlord",title:"Landlord View - Waiting for Tenant Signature"},tenant_pending:{id:2,status:"pending_signatures",landlord_signed_at:null,tenant_signed_at:null,expires_at:new Date(Date.now()+300*60*1e3).toISOString(),is_expired:!1,can_landlord_withdraw:!0,can_tenant_withdraw:!1,userRole:"tenant",title:"Tenant View - Can Sign Agreement"},tenant_signed:{id:3,status:"pending_signatures",landlord_signed_at:null,tenant_signed_at:"2025-08-03T21:00:00Z",expires_at:new Date(Date.now()+3600*1e3).toISOString(),is_expired:!1,can_landlord_withdraw:!1,can_tenant_withdraw:!0,userRole:"tenant",title:"Tenant View - Can Withdraw Signature"},both_signed:{id:4,status:"pending_payment",landlord_signed_at:"2025-08-03T20:00:00Z",tenant_signed_at:"2025-08-03T21:00:00Z",expires_at:new Date(Date.now()+1800*1e3).toISOString(),is_expired:!1,can_landlord_withdraw:!1,can_tenant_withdraw:!1,userRole:"tenant",title:"Both Signed - Pending Payment"},expired:{id:5,status:"expired",landlord_signed_at:null,tenant_signed_at:null,expires_at:new Date(Date.now()-3600*1e3).toISOString(),is_expired:!0,can_landlord_withdraw:!1,can_tenant_withdraw:!1,userRole:"landlord",title:"Expired Agreement"}},b=y[n];p.useEffect(()=>{if(b&&b.expires_at&&!b.is_expired){const _=setInterval(()=>{const k=new Date().getTime(),D=new Date(b.expires_at).getTime()-k;if(D>0){const L=Math.floor(D/36e5),M=Math.floor(D%(1e3*60*60)/(1e3*60)),z=Math.floor(D%(1e3*60)/1e3);o({hours:L,minutes:M,seconds:z})}else o(null)},1e3);return()=>clearInterval(_)}else o(null)},[b]);const w=async()=>{f(!0),setTimeout(()=>{alert(`Withdrawal successful! Reason: ${g}`),d(!1),x(""),f(!1)},1e3)},S=_=>{switch(_){case"pending_signatures":return"text-yellow-600 bg-yellow-100";case"pending_payment":return"text-blue-600 bg-blue-100";case"active":return"text-green-600 bg-green-100";case"expired":return"text-gray-600 bg-gray-100";case"withdrawn":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},N=_=>{switch(_){case"pending_signatures":return"Pending Signatures";case"pending_payment":return"Pending Payment";case"active":return"Active";case"expired":return"Expired";case"withdrawn":return"Withdrawn";default:return _}},v=(_,k)=>k==="landlord"?_.can_landlord_withdraw:k==="tenant"?_.can_tenant_withdraw:!1;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{to:"/",className:"text-blue-600 hover:text-blue-800 mr-4",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenancy Agreement Demo"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${S(b.status)}`,children:N(b.status)}),a&&!b.is_expired&&b.status!=="active"&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg px-3 py-1",children:e.jsxs("div",{className:"flex items-center text-red-700",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-sm font-medium",children:[a.hours,"h ",a.minutes,"m ",a.seconds,"s remaining"]})]})}),b.is_expired&&e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:" Expired"})}),v(b,b.userRole)&&e.jsx("button",{onClick:()=>d(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-md text-sm font-medium",children:b.userRole==="landlord"?"Withdraw Offer":"Withdraw Signature"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Demo Scenarios"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Select different scenarios to test the countdown timer and withdrawal buttons:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(y).map(([_,k])=>e.jsxs("button",{onClick:()=>r(_),className:`p-4 rounded-lg border text-left transition-colors ${n===_?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:k.title}),e.jsxs("div",{className:"text-sm mt-1",children:["Status: ",N(k.status)]}),e.jsxs("div",{className:"text-sm",children:["Role: ",k.userRole]}),k.can_landlord_withdraw&&k.userRole==="landlord"&&e.jsx("div",{className:"text-sm text-orange-600 mt-1",children:" Can withdraw"}),k.can_tenant_withdraw&&k.userRole==="tenant"&&e.jsx("div",{className:"text-sm text-orange-600 mt-1",children:" Can withdraw"})]},_))})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Current Scenario: ",b.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Agreement Details"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Agreement ID"}),e.jsx("dd",{className:"text-sm font-medium",children:b.id})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("dd",{className:"text-sm font-medium",children:N(b.status)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"User Role"}),e.jsx("dd",{className:"text-sm font-medium capitalize",children:b.userRole})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Expires At"}),e.jsx("dd",{className:"text-sm font-medium",children:new Date(b.expires_at).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Signature Status"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Landlord Signed"}),e.jsx("dd",{className:"text-sm font-medium",children:b.landlord_signed_at?e.jsx("span",{className:"text-green-600",children:" Signed"}):e.jsx("span",{className:"text-yellow-600",children:" Pending"})})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Tenant Signed"}),e.jsx("dd",{className:"text-sm font-medium",children:b.tenant_signed_at?e.jsx("span",{className:"text-green-600",children:" Signed"}):e.jsx("span",{className:"text-yellow-600",children:" Pending"})})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Feature Testing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Countdown Timer"}),e.jsx("div",{className:"text-sm text-gray-600",children:a?`Active: ${a.hours}h ${a.minutes}m ${a.seconds}s remaining`:b.is_expired?"Expired":"Not applicable for this scenario"})]}),e.jsx("div",{className:"text-2xl",children:a?"":b.is_expired?"":""})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Withdrawal Button"}),e.jsx("div",{className:"text-sm text-gray-600",children:v(b,b.userRole)?`Available: ${b.userRole==="landlord"?"Withdraw Offer":"Withdraw Signature"}`:"Not available for this scenario"})]}),e.jsx("div",{className:"text-2xl",children:v(b,b.userRole)?"":""})]})]})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:b.userRole==="landlord"?"Withdraw Offer":"Withdraw Signature"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for withdrawal:"}),e.jsx("textarea",{value:g,onChange:_=>x(_.target.value),className:"w-full p-3 border border-gray-300 rounded-md resize-none",rows:"3",placeholder:"Enter reason for withdrawal..."}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:m,children:"Cancel"}),e.jsx("button",{onClick:w,disabled:m||!g.trim(),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-md disabled:opacity-50",children:m?"Processing...":"Confirm Withdrawal"})]})]})})]})};var lv="basil",r6=function(r){return r===3?"v3":r},ov="https://js.stripe.com",a6="".concat(ov,"/").concat(lv,"/stripe.js"),l6=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o6=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var i6=function(r){return l6.test(r)||o6.test(r)},c6=function(){for(var r=document.querySelectorAll('script[src^="'.concat(ov,'"]')),a=0;a<r.length;a++){var o=r[a];if(i6(o.src))return o}return null},M0=function(r){var a="",o=document.createElement("script");o.src="".concat(a6).concat(a);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(o),o},d6=function(r,a){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"7.7.0",startTime:a})},ho=null,ec=null,tc=null,u6=function(r){return function(a){r(new Error("Failed to load Stripe.js",{cause:a}))}},m6=function(r,a){return function(){window.Stripe?r(window.Stripe):a(new Error("Stripe.js not available"))}},f6=function(r){return ho!==null?ho:(ho=new Promise(function(a,o){if(typeof window>"u"||typeof document>"u"){a(null);return}if(window.Stripe){a(window.Stripe);return}try{var c=c6();if(!(c&&r)){if(!c)c=M0(r);else if(c&&tc!==null&&ec!==null){var d;c.removeEventListener("load",tc),c.removeEventListener("error",ec),(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=M0(r)}}tc=m6(a,o),ec=u6(o),c.addEventListener("load",tc),c.addEventListener("error",ec)}catch(m){o(m);return}}),ho.catch(function(a){return ho=null,Promise.reject(a)}))},h6=function(r,a,o){if(r===null)return null;var c=a[0],d=c.match(/^pk_test/),m=r6(r.version),f=lv;d&&m!==f&&console.warn("Stripe.js@".concat(m," was loaded on the page, but @stripe/stripe-js@").concat("7.7.0"," expected Stripe.js@").concat(f,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=r.apply(void 0,a);return d6(g,o),g},po,iv=!1,cv=function(){return po||(po=f6(null).catch(function(r){return po=null,Promise.reject(r)}),po)};Promise.resolve().then(function(){return cv()}).catch(function(n){iv||console.warn(n)});var dv=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];iv=!0;var c=Date.now();return cv().then(function(d){return h6(d,a,c)})},Cm={exports:{}},km,O0;function p6(){if(O0)return km;O0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return km=n,km}var Rm,P0;function x6(){if(P0)return Rm;P0=1;var n=p6();function r(){}function a(){}return a.resetWarningCache=r,Rm=function(){function o(m,f,g,x,y,b){if(b!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}o.isRequired=o;function c(){return o}var d={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:a,resetWarningCache:r};return d.PropTypes=d,d},Rm}var L0;function g6(){return L0||(L0=1,Cm.exports=x6()()),Cm.exports}var y6=g6();const pt=Rc(y6);function U0(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),a.push.apply(a,o)}return a}function z0(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?U0(Object(a),!0).forEach(function(o){uv(n,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):U0(Object(a)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(a,o))})}return n}function uc(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uc=function(r){return typeof r}:uc=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uc(n)}function uv(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function b6(n,r){if(n==null)return{};var a={},o=Object.keys(n),c,d;for(d=0;d<o.length;d++)c=o[d],!(r.indexOf(c)>=0)&&(a[c]=n[c]);return a}function v6(n,r){if(n==null)return{};var a=b6(n,r),o,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(c=0;c<d.length;c++)o=d[c],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(a[o]=n[o])}return a}function mv(n,r){return j6(n)||w6(n,r)||N6(n,r)||S6()}function j6(n){if(Array.isArray(n))return n}function w6(n,r){var a=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(a!=null){var o=[],c=!0,d=!1,m,f;try{for(a=a.call(n);!(c=(m=a.next()).done)&&(o.push(m.value),!(r&&o.length===r));c=!0);}catch(g){d=!0,f=g}finally{try{!c&&a.return!=null&&a.return()}finally{if(d)throw f}}return o}}function N6(n,r){if(n){if(typeof n=="string")return B0(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B0(n,r)}}function B0(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=n[a];return o}function S6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var As=function(r,a,o){var c=!!o,d=He.useRef(o);He.useEffect(function(){d.current=o},[o]),He.useEffect(function(){if(!c||!r)return function(){};var m=function(){d.current&&d.current.apply(d,arguments)};return r.on(a,m),function(){r.off(a,m)}},[c,a,r,d])},Zm=function(r){var a=He.useRef(r);return He.useEffect(function(){a.current=r},[r]),a.current},Za=function(r){return r!==null&&uc(r)==="object"},_6=function(r){return Za(r)&&typeof r.then=="function"},E6=function(r){return Za(r)&&typeof r.elements=="function"&&typeof r.createToken=="function"&&typeof r.createPaymentMethod=="function"&&typeof r.confirmCardPayment=="function"},$0="[object Object]",C6=function n(r,a){if(!Za(r)||!Za(a))return r===a;var o=Array.isArray(r),c=Array.isArray(a);if(o!==c)return!1;var d=Object.prototype.toString.call(r)===$0,m=Object.prototype.toString.call(a)===$0;if(d!==m)return!1;if(!d&&!o)return r===a;var f=Object.keys(r),g=Object.keys(a);if(f.length!==g.length)return!1;for(var x={},y=0;y<f.length;y+=1)x[f[y]]=!0;for(var b=0;b<g.length;b+=1)x[g[b]]=!0;var w=Object.keys(x);if(w.length!==f.length)return!1;var S=r,N=a,v=function(k){return n(S[k],N[k])};return w.every(v)},fv=function(r,a,o){return Za(r)?Object.keys(r).reduce(function(c,d){var m=!Za(a)||!C6(r[d],a[d]);return o.includes(d)?(m&&console.warn("Unsupported prop change: options.".concat(d," is not a mutable property.")),c):m?z0(z0({},c||{}),{},uv({},d,r[d])):c},null):null},hv="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",F0=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hv;if(r===null||E6(r))return r;throw new Error(a)},k6=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hv;if(_6(r))return{tag:"async",stripePromise:Promise.resolve(r).then(function(c){return F0(c,a)})};var o=F0(r,a);return o===null?{tag:"empty"}:{tag:"sync",stripe:o}},R6=function(r){!r||!r._registerWrapper||!r.registerAppInfo||(r._registerWrapper({name:"react-stripe-js",version:"3.8.1"}),r.registerAppInfo({name:"react-stripe-js",version:"3.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},$c=He.createContext(null);$c.displayName="ElementsContext";var pv=function(r,a){if(!r)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(a," in an <Elements> provider."));return r},Tf=function(r){var a=r.stripe,o=r.options,c=r.children,d=He.useMemo(function(){return k6(a)},[a]),m=He.useState(function(){return{stripe:d.tag==="sync"?d.stripe:null,elements:d.tag==="sync"?d.stripe.elements(o):null}}),f=mv(m,2),g=f[0],x=f[1];He.useEffect(function(){var w=!0,S=function(v){x(function(_){return _.stripe?_:{stripe:v,elements:v.elements(o)}})};return d.tag==="async"&&!g.stripe?d.stripePromise.then(function(N){N&&w&&S(N)}):d.tag==="sync"&&!g.stripe&&S(d.stripe),function(){w=!1}},[d,g,o]);var y=Zm(a);He.useEffect(function(){y!==null&&y!==a&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,a]);var b=Zm(o);return He.useEffect(function(){if(g.elements){var w=fv(o,b,["clientSecret","fonts"]);w&&g.elements.update(w)}},[o,b,g.elements]),He.useEffect(function(){R6(g.stripe)},[g.stripe]),He.createElement($c.Provider,{value:g},c)};Tf.propTypes={stripe:pt.any,options:pt.object};var T6=function(r){var a=He.useContext($c);return pv(a,r)},xv=function(){var r=T6("calls useElements()"),a=r.elements;return a};pt.func.isRequired;var gv=He.createContext(null);gv.displayName="CheckoutSdkContext";var A6=function(r,a){if(!r)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(a," in an <CheckoutProvider> provider."));return r},D6=He.createContext(null);D6.displayName="CheckoutContext";pt.any,pt.shape({fetchClientSecret:pt.func.isRequired,elementsOptions:pt.object}).isRequired;var Qm=function(r){var a=He.useContext(gv),o=He.useContext($c);if(a&&o)throw new Error("You cannot wrap the part of your app that ".concat(r," in both <CheckoutProvider> and <Elements> providers."));return a?A6(a,r):pv(o,r)},M6=["mode"],O6=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},Rt=function(r,a){var o="".concat(O6(r),"Element"),c=function(g){var x=g.id,y=g.className,b=g.options,w=b===void 0?{}:b,S=g.onBlur,N=g.onFocus,v=g.onReady,_=g.onChange,k=g.onEscape,E=g.onClick,D=g.onLoadError,L=g.onLoaderStart,M=g.onNetworksChange,z=g.onConfirm,$=g.onCancel,O=g.onShippingAddressChange,T=g.onShippingRateChange,P=Qm("mounts <".concat(o,">")),F="elements"in P?P.elements:null,J="checkoutSdk"in P?P.checkoutSdk:null,Z=He.useState(null),oe=mv(Z,2),ae=oe[0],U=oe[1],G=He.useRef(null),Y=He.useRef(null);As(ae,"blur",S),As(ae,"focus",N),As(ae,"escape",k),As(ae,"click",E),As(ae,"loaderror",D),As(ae,"loaderstart",L),As(ae,"networkschange",M),As(ae,"confirm",z),As(ae,"cancel",$),As(ae,"shippingaddresschange",O),As(ae,"shippingratechange",T),As(ae,"change",_);var xe;v&&(r==="expressCheckout"?xe=v:xe=function(){v(ae)}),As(ae,"ready",xe),He.useLayoutEffect(function(){if(G.current===null&&Y.current!==null&&(F||J)){var H=null;if(J)switch(r){case"payment":H=J.createPaymentElement(w);break;case"address":if("mode"in w){var V=w.mode,X=v6(w,M6);if(V==="shipping")H=J.createShippingAddressElement(X);else if(V==="billing")H=J.createBillingAddressElement(X);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":H=J.createExpressCheckoutElement(w);break;case"currencySelector":H=J.createCurrencySelectorElement();break;case"taxId":H=J.createTaxIdElement(w);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else F&&(H=F.create(r,w));G.current=H,U(H),H&&H.mount(Y.current)}},[F,J,w]);var C=Zm(w);return He.useEffect(function(){if(G.current){var H=fv(w,C,["paymentRequest"]);H&&"update"in G.current&&G.current.update(H)}},[w,C]),He.useLayoutEffect(function(){return function(){if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}}},[]),He.createElement("div",{id:x,className:y,ref:Y})},d=function(g){Qm("mounts <".concat(o,">"));var x=g.id,y=g.className;return He.createElement("div",{id:x,className:y})},m=a?d:c;return m.propTypes={id:pt.string,className:pt.string,onChange:pt.func,onBlur:pt.func,onFocus:pt.func,onReady:pt.func,onEscape:pt.func,onClick:pt.func,onLoadError:pt.func,onLoaderStart:pt.func,onNetworksChange:pt.func,onConfirm:pt.func,onCancel:pt.func,onShippingAddressChange:pt.func,onShippingRateChange:pt.func,options:pt.object},m.displayName=o,m.__elementType=r,m},Tt=typeof window>"u",P6=He.createContext(null);P6.displayName="EmbeddedCheckoutProviderContext";var yv=function(){var r=Qm("calls useStripe()"),a=r.stripe;return a};Rt("auBankAccount",Tt);var jc=Rt("card",Tt);Rt("cardNumber",Tt);Rt("cardExpiry",Tt);Rt("cardCvc",Tt);Rt("fpxBank",Tt);Rt("iban",Tt);Rt("idealBank",Tt);Rt("p24Bank",Tt);Rt("epsBank",Tt);Rt("payment",Tt);Rt("expressCheckout",Tt);Rt("currencySelector",Tt);Rt("paymentRequestButton",Tt);Rt("linkAuthentication",Tt);Rt("address",Tt);Rt("shippingAddress",Tt);Rt("paymentMethodMessaging",Tt);Rt("affirmMessage",Tt);Rt("afterpayClearpayMessage",Tt);Rt("taxId",Tt);let H0=null;const L6=({agreement:n,onPaymentSuccess:r,onPaymentError:a})=>{const[o,c]=p.useState(null),[d,m]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const x=await(await fetch("/api/stripe/config",{credentials:"include"})).json();x.success?(c(x.publishable_key),H0=dv(x.publishable_key)):console.error("Failed to load Stripe configuration")}catch(g){console.error("Error loading Stripe configuration:",g)}finally{m(!1)}})()},[]),d?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payment form..."})]}):o?e.jsx(Tf,{stripe:H0,children:e.jsx(U6,{agreement:n,onPaymentSuccess:r,onPaymentError:a})}):e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-800",children:"Payment system is currently unavailable. Please try again later."})})},U6=({agreement:n,onPaymentSuccess:r,onPaymentError:a})=>{const o=yv(),c=xv(),[d,m]=p.useState(!1),[f,g]=p.useState(null),[x,y]=p.useState(null);p.useEffect(()=>{(async()=>{try{const N=await Nt.initiatePayment(n.id);N.success?g(N):y(N.error)}catch{y("Failed to initialize payment")}})()},[n.id]);const b=async S=>{if(S.preventDefault(),!o||!c||!f)return;m(!0),y(null);const N=c.getElement(jc);try{const{error:v,paymentIntent:_}=await o.confirmCardPayment(f.client_secret,{payment_method:{card:N,billing_details:{name:n.tenant_full_name,email:n.tenant_email}}});v?(y(v.message),a(v.message)):_.status==="succeeded"&&r(_)}catch{y("Payment processing failed"),a("Payment processing failed")}finally{m(!1)}},w={disableLink:!0,style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.payment_type==="deposit"?"Security Deposit Payment":"Complete Your Tenancy Agreement"}),e.jsx("p",{className:"text-gray-600",children:n.payment_type==="deposit"?"Complete your security deposit payment to activate your tenancy agreement.":"Pay the agreement processing fee to finalize your tenancy agreement."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Property:"}),e.jsx("span",{className:"font-medium",children:n.property_address})]}),n.payment_type!=="deposit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Rent:"}),e.jsxs("span",{className:"font-medium",children:["RM ",n.monthly_rent]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Security Deposit:"}),e.jsxs("span",{className:"font-medium",children:["RM ",n.security_deposit]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Agreement Fee:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["RM ",(f==null?void 0:f.amount)||n.agreement_fee]})]})]}),n.payment_type==="deposit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Security Deposit:"}),e.jsxs("span",{className:"font-medium",children:["RM ",n.security_deposit]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Deposit:"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["RM ",n.payment_required]})]})]})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Information"}),e.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:e.jsx(jc,{options:w})})]}),x&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-red-800 text-sm",children:x})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"terms",required:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"terms and conditions"})," ","and authorize this payment."]})]})}),e.jsx("button",{type:"submit",disabled:!o||d||!f,className:`w-full py-3 px-4 rounded-md text-white font-medium ${d||!o||!f?"bg-gray-400 cursor-not-allowed":n.payment_type==="deposit"?"bg-orange-600 hover:bg-orange-700 focus:ring-2 focus:ring-orange-500":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"}`,children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing Payment..."]}):`Pay RM ${n.payment_required||(f==null?void 0:f.amount)||n.agreement_fee}`})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:" Your payment information is secure and encrypted"})})]})},z6=()=>{const{id:n}=en(),r=ws(),[a,o]=p.useState(null),[c,d]=p.useState(!0),[m,f]=p.useState(null),[g,x]=p.useState("pending");p.useEffect(()=>{y()},[n]);const y=async()=>{try{const S=await Nt.getById(n);S.success?(o(S.agreement),S.agreement.status!=="pending_payment"&&f("This agreement is not ready for payment")):f(S.error)}catch{f("Failed to load agreement details")}finally{d(!1)}},b=async S=>{x("success");try{const N={payment_intent_id:S.id,payment_method:S.payment_method,amount:S.amount,currency:S.currency,status:S.status};console.log("Recording payment completion:",N);const v=await Nt.recordPayment(n,N);v.success?(console.log("Payment recorded successfully, agreement status updated"),setTimeout(()=>{r(`/agreement/${n}/payment-success`)},2e3)):(console.error("Failed to record payment:",v.error),x("error"),f("Payment succeeded but failed to update agreement. Please contact support."))}catch(N){console.error("Error recording payment:",N),x("error"),f("Payment succeeded but failed to update agreement. Please contact support.")}},w=S=>{x("error"),f(S)};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading payment details..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:m}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Return to Dashboard"})]})})}):g==="success"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment has been processed successfully. Redirecting to confirmation page..."}),e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>r(`/agreement/${n}`),className:"flex items-center text-blue-600 hover:text-blue-500 mb-4",children:[e.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Agreement"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Payment"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Finalize your tenancy agreement by completing the payment process"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 text-white rounded-full text-sm font-medium",children:""}),e.jsx("span",{className:"ml-2 text-sm font-medium text-green-600",children:"Agreement Signed"})]}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-1 bg-gray-200 rounded",children:e.jsx("div",{className:"h-1 bg-blue-500 rounded",style:{width:"50%"}})})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-medium",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Payment"})]}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-1 bg-gray-200 rounded"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-300 text-gray-600 rounded-full text-sm font-medium",children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-500",children:"Complete"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agreement Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Property"}),e.jsx("p",{className:"font-medium",children:a.property_address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tenant"}),e.jsx("p",{className:"font-medium",children:a.tenant_full_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Landlord"}),e.jsx("p",{className:"font-medium",children:a.landlord_full_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Lease Period"}),e.jsxs("p",{className:"font-medium",children:[new Date(a.lease_start_date).toLocaleDateString()," - "," ",new Date(a.lease_end_date).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Rent"}),e.jsxs("p",{className:"font-medium",children:["RM ",a.monthly_rent]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Security Deposit"}),e.jsxs("p",{className:"font-medium",children:["RM ",a.security_deposit]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Agreement Fee"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["RM ",a.agreement_fee]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"One-time processing fee"})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(L6,{agreement:a,onPaymentSuccess:b,onPaymentError:w})})]})]})})},B6=()=>{const{id:n}=en(),r=ws(),[a,o]=p.useState(null),[c,d]=p.useState(!0);p.useEffect(()=>{m()},[n]);const m=async()=>{try{const f=await Nt.getById(n);f.success&&o(f.agreement)}catch(f){console.error("Error loading agreement:",f)}finally{d(!1)}};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading agreement details..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Payment Successful!"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Website fee paid! Next step: Pay your security deposit to activate the agreement."})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 text-white rounded-full text-sm font-medium",children:""}),e.jsx("span",{className:"ml-2 text-sm font-medium text-green-600",children:"Agreement Signed"})]}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-1 bg-green-500 rounded"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-500 text-white rounded-full text-sm font-medium",children:""}),e.jsx("span",{className:"ml-2 text-sm font-medium text-green-600",children:"Website Fee Paid"})]}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-1 bg-gray-300 rounded"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-yellow-500 text-white rounded-full text-sm font-medium",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-yellow-600",children:"Pay Security Deposit"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agreement Details"}),a&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Property Address"}),e.jsx("p",{className:"font-medium",children:a.property_address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Lease Period"}),e.jsxs("p",{className:"font-medium",children:[new Date(a.lease_start_date).toLocaleDateString()," - "," ",new Date(a.lease_end_date).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Rent"}),e.jsxs("p",{className:"font-medium",children:["RM ",a.monthly_rent]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Security Deposit"}),e.jsxs("p",{className:"font-medium",children:["RM ",a.security_deposit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Agreement Status"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Website Fee Paid"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"What's Next?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-yellow-500 text-white text-sm font-medium",children:"1"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pay Security Deposit"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete your security deposit payment to activate your tenancy agreement."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-gray-300 text-gray-600 text-sm font-medium",children:"2"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Download Your Agreement"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Available after deposit payment is complete."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-gray-300 text-gray-600 text-sm font-medium",children:"3"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prepare for Move-in"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Contact your landlord after agreement is fully active."})]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>r(`/deposit-payment/${n}`),className:"bg-orange-600 text-white px-6 py-3 rounded-md hover:bg-orange-700 focus:ring-2 focus:ring-orange-500 flex items-center justify-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Pay Security Deposit (RM ",(a==null?void 0:a.security_deposit)||"0",")"]}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 focus:ring-2 focus:ring-gray-500",children:"Return to Dashboard"}),e.jsx("button",{onClick:()=>r(`/agreement/${n}`),className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-md hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:"View Agreement Details"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help? Contact our support team at"," ",e.jsx("a",{href:"mailto:support@speedhome.com",className:"text-blue-600 hover:text-blue-500",children:"support@speedhome.com"})]})})]})})};let q0=null;const $6=({agreement:n,onPaymentSuccess:r,onPaymentError:a})=>{const[o,c]=p.useState(null),[d,m]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const x=await(await fetch("/api/stripe/config",{credentials:"include"})).json();x.success?(c(x.publishable_key),q0=dv(x.publishable_key)):console.error("Failed to load Stripe configuration")}catch(g){console.error("Error loading Stripe configuration:",g)}finally{m(!1)}})()},[]),d?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payment form..."})]}):o?e.jsx(Tf,{stripe:q0,children:e.jsx(F6,{agreement:n,onPaymentSuccess:r,onPaymentError:a})}):e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-800",children:"Payment system is currently unavailable. Please try again later."})})},F6=({agreement:n,onPaymentSuccess:r,onPaymentError:a})=>{const o=yv(),c=xv(),[d,m]=p.useState(!1),[f,g]=p.useState(null),[x,y]=p.useState(null);p.useEffect(()=>{(async()=>{try{const v=await(await fetch(`/api/deposit-payment/initiate/${n.id}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json();v.success?g(v):y(v.error||"Failed to initialize deposit payment")}catch(N){console.error("Error creating deposit payment intent:",N),y("Failed to initialize deposit payment")}})()},[n.id]);const b=async S=>{if(S.preventDefault(),!o||!c||!f)return;m(!0),y(null);const N=c.getElement(jc);try{const{error:v,paymentIntent:_}=await o.confirmCardPayment(f.client_secret,{payment_method:{card:N,billing_details:{name:n.tenant_full_name,email:n.tenant_email}}});v?(y(v.message),a(v.message)):_.status==="succeeded"&&r(_)}catch(v){console.error("Deposit payment processing failed:",v),y("Deposit payment processing failed"),a("Deposit payment processing failed")}finally{m(!1)}},w={disableLink:!0,style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Security Deposit Payment"}),e.jsx("p",{className:"text-gray-600",children:"Complete your security deposit payment to activate your tenancy agreement."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Property:"}),e.jsx("span",{className:"font-medium",children:n.property_address})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Security Deposit:"}),e.jsxs("span",{className:"font-medium",children:["RM ",n.security_deposit]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Deposit:"}),e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["RM ",n.payment_required]})]})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Information"}),e.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:e.jsx(jc,{options:w})})]}),x&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-red-800 text-sm",children:x})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"terms",required:!0,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-500",children:"terms and conditions"})," ","and authorize this payment."]})]})}),e.jsx("button",{type:"submit",disabled:!o||d||!f,className:`w-full py-3 px-4 rounded-md text-white font-medium ${d||!o||!f?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700 focus:ring-2 focus:ring-orange-500"}`,children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing Payment..."]}):`Pay RM ${n.payment_required}`})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:" Your payment information is secure and encrypted"})})]})},H6=()=>{const{agreementId:n}=en(),r=ws(),{user:a,isAuthenticated:o,isTenant:c}=Qt(),[d,m]=p.useState(null),[f,g]=p.useState(!0),[x,y]=p.useState(null),[b,w]=p.useState("pending");p.useEffect(()=>{if(!o||!c()){r("/");return}S()},[o,c,n]);const S=async()=>{try{const E=await Nt.getById(n);E.success?(m(E.agreement),E.agreement.status!=="website_fee_paid"&&y("This agreement is not ready for deposit payment")):y(E.error||"Agreement not found")}catch(E){console.error("Error loading agreement:",E),y("Error loading agreement details")}finally{g(!1)}},N=async E=>{w("success");try{const D={payment_intent_id:E.id,payment_method:E.payment_method,amount:E.amount,currency:E.currency,status:E.status};(await Nt.completeDepositPayment(n,D)).success?r(`/deposit/payment/${n}/success`):(y("Failed to record payment completion"),w("error"))}catch(D){console.error("Error completing deposit payment:",D),y("Failed to complete payment process"),w("error")}},v=E=>{console.error("Deposit payment error:",E),y(E.message||"Payment failed"),w("error")},_=()=>d?(parseFloat(d.monthly_rent)||0)*2.5:0;if(f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading deposit payment details..."})]})});if(x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:x}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md",children:"Return to Dashboard"})]})});if(!d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-600",children:"Agreement not found"})})});const k=_();return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Security Deposit Payment"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your security deposit to activate your tenancy agreement"})]}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"text-gray-500 hover:text-gray-700",children:" Back to Dashboard"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-600",children:"Property Address"}),e.jsx("span",{className:"font-medium",children:d.property_address})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-orange-700 font-medium",children:"Security Deposit (2 months)"}),e.jsxs("span",{className:"font-bold text-orange-900",children:["RM ",(parseFloat(d.monthly_rent)*2).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg mt-2",children:[e.jsx("span",{className:"text-orange-700 font-medium",children:"Utility Deposit (0.5 month)"}),e.jsxs("span",{className:"font-bold text-orange-900",children:["RM ",(parseFloat(d.monthly_rent)*.5).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-orange-100 rounded-lg mt-4 border-2 border-orange-200",children:[e.jsx("span",{className:"text-orange-800 font-bold text-lg",children:"Total Deposit"}),e.jsxs("span",{className:"font-bold text-2xl text-orange-900",children:["RM ",k.toFixed(2)]})]})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[" ",e.jsx("strong",{children:"Secure Escrow:"})," Your deposit will be held in a secure escrow account and returned at the end of your tenancy, subject to property condition."]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Details"}),b==="pending"&&e.jsx($6,{agreement:{...d,payment_required:k.toFixed(2),payment_type:"deposit"},onPaymentSuccess:N,onPaymentError:v}),b==="processing"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Processing your deposit payment..."})]}),b==="error"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:x}),e.jsx("button",{onClick:()=>{w("pending"),y(null)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md",children:"Try Again"})]})]})]})]})})},q6=()=>{const{agreementId:n}=en(),r=ws(),[a,o]=p.useState(null),[c,d]=p.useState(!0);p.useEffect(()=>{m()},[n]);const m=async()=>{try{const x=await Nt.getById(n);x.success&&o(x.agreement)}catch(x){console.error("Error loading agreement:",x)}finally{d(!1)}},f=async()=>{try{const x=await Nt.downloadFinalPDF(n);if(x.success){const y=document.createElement("a");y.href=x.download_url,y.download=`Tenancy_Agreement_${a.property_address.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(y),y.click(),document.body.removeChild(y)}}catch(x){console.error("Error downloading agreement:",x)}};if(c)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading agreement details..."})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-600",children:"Agreement not found"})})});const g=parseFloat(a.monthly_rent)*2.5;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Deposit Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Your tenancy agreement is now fully active and ready!"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"ml-3 text-sm font-medium text-green-600",children:"Agreement Signed"})]}),e.jsx("div",{className:"flex-1 h-1 bg-green-500 mx-4"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"ml-3 text-sm font-medium text-green-600",children:"Website Fee Paid"})]}),e.jsx("div",{className:"flex-1 h-1 bg-green-500 mx-4"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"ml-3 text-sm font-medium text-green-600",children:"Deposit Paid - Complete!"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Agreement Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Property Address"}),e.jsx("span",{className:"font-medium",children:a.property_address})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lease Period"}),e.jsxs("span",{className:"font-medium",children:[a.lease_start_date," - ",a.lease_end_date]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Rent"}),e.jsxs("span",{className:"font-medium",children:["RM ",a.monthly_rent]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),e.jsxs("span",{className:"font-medium",children:["RM ",g.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[e.jsx("span",{className:"text-gray-600",children:"Agreement Status"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What's Next?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-medium mr-3 mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Download Your Agreement"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Keep a copy of your signed tenancy agreement for your records."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-medium mr-3 mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Prepare for Move-in"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Contact your landlord to arrange key collection and move-in details."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 text-blue-600 rounded-full text-sm font-medium mr-3 mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Set Up Utilities"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Arrange for electricity, water, internet, and other utilities as needed."})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 justify-center",children:[e.jsxs("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Agreement"]}),e.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium",children:"Return to Dashboard"}),e.jsx("button",{onClick:()=>r(`/agreements/${n}`),className:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-6 py-3 rounded-lg font-medium",children:"View Agreement Details"})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-gray-600",children:["Need help? Contact our support team at"," ",e.jsx("a",{href:"mailto:support@speedhome.com",className:"text-blue-600 hover:underline",children:"support@speedhome.com"})]})})]})})},I6=()=>{var $,O,T,P,F,J,Z,oe,ae,U,G,Y,xe,C,H,V,X;const{agreementId:n}=en(),r=ws(),{user:a,isLandlord:o,isTenant:c}=Qt(),[d,m]=p.useState(null),[f,g]=p.useState(!0),[x,y]=p.useState(null),[b,w]=p.useState(!1),[S,N]=p.useState(!1);p.useEffect(()=>{v()},[n]);const v=async()=>{try{g(!0);const se=await fetch(`/api/deposits/agreement/${n}`,{credentials:"include"});if(!se.ok)throw new Error("Failed to load deposit data");const le=await se.json();le.success?m(le.deposit):y(le.error||"Failed to load deposit")}catch(se){y("Failed to load deposit data"),console.error("Error loading deposit:",se)}finally{g(!1)}},_=async()=>{try{const le=await(await fetch(`/api/deposits/${d.id}/release`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({release_type:"full",amount:d.amount})})).json();le.success?(w(!1),await v(),alert("Deposit released successfully!")):alert(le.error||"Failed to release deposit")}catch(se){console.error("Error releasing deposit:",se),alert("Failed to release deposit")}},k=()=>{r(`/deposit/${d.id}/claim`)};if(f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading deposit information..."})]})});if(x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Deposit"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x}),e.jsx("button",{onClick:()=>r(o()?"/landlord":"/dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});if(!d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Deposit Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No deposit transaction found for this agreement."}),e.jsx("button",{onClick:()=>r(o()?"/landlord":"/dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});const E=d.tenancy_ending_soon,D=d.tenancy_has_ended,L=o()&&d.status==="held_in_escrow"&&D,M=($=d.inspection_status)==null?void 0:$.is_active,z=(d.status==="disputed"||((O=d.claims)==null?void 0:O.length)>0)&&(!c()||!M);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(o()?"/landlord":"/dashboard"),className:"mr-4 text-gray-500 hover:text-gray-700",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Deposit Management"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${V6(d.status)}`,children:Y6(d.status)})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Deposit Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Property Address"}),e.jsx("p",{className:"text-gray-900",children:d.property_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Tenant Name"}),e.jsx("p",{className:"text-gray-900",children:d.tenant_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Deposit Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["RM ",d.amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Paid On"}),e.jsx("p",{className:"text-gray-900",children:new Date(d.paid_at).toLocaleDateString()})]})]}),d.fund_breakdown&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fund Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.fund_breakdown.released_to_landlord>0&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-600 mb-1",children:["Released to ",d.landlord_name," (Landlord)"]}),e.jsxs("div",{className:"text-xl font-bold text-blue-700",children:["RM ",d.fund_breakdown.released_to_landlord.toFixed(2)]}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Accepted claims"})]}),d.fund_breakdown.refunded_to_tenant>0&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-green-600 mb-1",children:["Refunded to ",d.tenant_name," (Tenant)"]}),e.jsxs("div",{className:"text-xl font-bold text-green-700",children:["RM ",d.fund_breakdown.refunded_to_tenant.toFixed(2)]}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:d.fund_breakdown.status==="refunded"?"Inspection period ended - No claims":"Refunded amount"})]}),d.fund_breakdown.remaining_in_escrow>0&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Held in Escrow"}),e.jsxs("div",{className:"text-xl font-bold text-yellow-700",children:["RM ",d.fund_breakdown.remaining_in_escrow.toFixed(2)]}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:"Disputed amounts"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Fair Release System:"})," Only disputed amounts are held in escrow. Undisputed balances and accepted claims are released immediately."]})})]})]}),E&&!D&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" Tenancy Ending Soon"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"The lease for this property is ending within 7 days. Prepare for the deposit release process."}),o()&&e.jsx("p",{className:"text-sm text-blue-600",children:"You'll be able to inspect the property and manage the deposit after the tenant vacates."}),c()&&e.jsx("p",{className:"text-sm text-blue-600",children:"Please prepare for move-out. Your landlord will have 7 days after tenancy ends to process the deposit."})]}),D&&e.jsxs("div",{className:`border rounded-lg p-4 mb-6 ${(((T=d.inspection_status)==null?void 0:T.days_remaining)||0)>0?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:[e.jsxs("h4",{className:`font-medium mb-2 ${(((P=d.inspection_status)==null?void 0:P.days_remaining)||0)>0?"text-yellow-800":"text-red-800"}`,children:[" Tenancy Has Ended - ",(((F=d.inspection_status)==null?void 0:F.days_remaining)||0)>0?"Inspection Period Active":"Inspection Period Ended"]}),e.jsxs("p",{className:`text-sm mb-4 ${(((J=d.inspection_status)==null?void 0:J.days_remaining)||0)>0?"text-yellow-700":"text-red-700"}`,children:["The tenancy has ended and the property is now vacant. ",(((Z=d.inspection_status)==null?void 0:Z.days_remaining)||0)>0?"The 7-day inspection period is active.":"The 7-day inspection period has ended."]}),o()&&e.jsx("p",{className:`text-sm ${(((oe=d.inspection_status)==null?void 0:oe.days_remaining)||0)>0?"text-yellow-600":"text-red-600"}`,children:(((ae=d.inspection_status)==null?void 0:ae.days_remaining)||0)>0?`You have ${((U=d.inspection_status)==null?void 0:U.days_remaining)||0} days remaining to inspect the property and submit any deduction claims, or release the full deposit.`:"The inspection period has expired. Any undisputed deposit amounts have been automatically released to the tenant."}),c()&&e.jsx("p",{className:`text-sm ${(((G=d.inspection_status)==null?void 0:G.days_remaining)||0)>0?"text-yellow-600":"text-red-600"}`,children:(((Y=d.inspection_status)==null?void 0:Y.days_remaining)||0)>0?`Your landlord has ${((xe=d.inspection_status)==null?void 0:xe.days_remaining)||0} days to inspect and process your deposit. You'll be notified of any claims.`:"The inspection period has ended. Any undisputed deposit amounts have been automatically released to you."})]}),((C=d.claims)==null?void 0:C.length)>0&&(()=>{const se=d.claims.filter(le=>{if(!le.tenant_response_deadline)return!1;const ye=new Date(le.tenant_response_deadline),he=new Date>ye&&(le.status==="submitted"||le.status==="resolved"&&le.resolution_notes&&le.resolution_notes.includes("Auto-approved due to no tenant response")),ie=le.tenant_response&&le.tenant_responded_at;return he||ie});if(se.length>0){const le=se.some(ce=>ce.tenant_response&&ce.tenant_responded_at),ye=se.some(ce=>{const he=new Date(ce.tenant_response_deadline);return new Date>he&&!ce.tenant_response});return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:" Tenant Response Period Ended"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:le&&ye?"The tenant response period has ended. Some claims received responses while others were auto-approved due to no response.":le?"The tenant has responded to the claims. The response period is now closed.":"The 7-day deadline for tenant responses has passed. Claims have been auto-approved for the landlord."}),o()&&e.jsx("p",{className:"text-sm text-red-600",children:le?"You can now review and respond to the tenant's responses. Claims without tenant responses have been automatically approved.":"Claims that received no tenant response have been automatically approved in your favor. Funds have been released accordingly."}),c()&&e.jsx("p",{className:"text-sm text-red-600",children:le?"Your responses have been submitted. The landlord will now review and respond to your responses.":"You did not respond to the deposit claims within the 7-day deadline. Claims have been auto-approved for the landlord."})]})}return null})(),z&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Deposit Claims"}),((H=d.claims)==null?void 0:H.length)>0&&c()&&e.jsx("button",{onClick:()=>r(`/deposit/claims/${d.claims[0].id}`),className:`px-4 py-2 rounded-lg font-medium ${I0(d.claims)?"bg-gray-600 hover:bg-gray-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:I0(d.claims)?"View Your Responses":"Review & Respond to Claims"})]}),((V=d.claims)==null?void 0:V.length)>0?e.jsxs("div",{className:"space-y-4",children:[d.claims.map((se,le)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Item ",le+1,": ",K6(se.title||se.claim_type)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Landlord's Comments:"})," ",se.description]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-red-600",children:["RM ",se.claimed_amount||se.amount]}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${W6(se.status)}`,children:X6(se.status)})})]})]}),se.tenant_response&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tenant's Response:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`text-sm font-medium ${se.tenant_response==="accept"?"text-green-600":se.tenant_response==="partial_accept"?"text-orange-600":"text-red-600"}`,children:se.tenant_response==="accept"?" Accepted - Tenant agreed to pay full amount":se.tenant_response==="partial_accept"?" Partial Accept - Tenant offered different amount":" Rejected - Tenant disputed this charge"})}),se.tenant_response==="partial_accept"&&se.tenant_counter_amount&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Counter-Offer:"}),e.jsxs("span",{className:"ml-1 font-bold text-orange-600",children:["RM ",parseFloat(se.tenant_counter_amount).toFixed(2)]})]}),se.tenant_explanation&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Tenant's Explanation:"}),e.jsxs("p",{className:"mt-1 text-gray-600 italic",children:['"',se.tenant_explanation,'"']})]})]})]})]},se.id)),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Total Claimed:"})," RM ",d.claims.reduce((se,le)=>se+(le.claimed_amount||le.amount||0),0).toFixed(2)]})})]}):e.jsx("p",{className:"text-gray-500",children:"No claims have been made yet."})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[o()&&L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Release Full Deposit"}),e.jsx("button",{onClick:k,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Make Deduction Claim"})]}),o()&&((X=d.claims)==null?void 0:X.some(se=>se.status==="disputed"))&&e.jsx("button",{onClick:()=>r(`/deposit/${d.id}/landlord-response`),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Respond to Disputes"}),z&&e.jsx("button",{onClick:()=>r(`/deposit/${d.id}/claims`),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" View All Claims"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Status Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:G6(d.status,o())})]})]})]})})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Release Full Deposit"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to release the full deposit amount of ",e.jsxs("strong",{children:["RM ",d.amount]})," to the tenant?"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"This action cannot be undone. The tenant will receive the full deposit amount."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md",children:"Cancel"}),e.jsx("button",{onClick:_,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md",children:"Release Deposit"})]})]})})]})},V6=n=>{switch(n){case"held_in_escrow":return"bg-blue-100 text-blue-800";case"pending_release":return"bg-yellow-100 text-yellow-800";case"disputed":return"bg-red-100 text-red-800";case"released":return"bg-green-100 text-green-800";case"partially_released":return"bg-orange-100 text-orange-800";case"refunded":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Y6=n=>{switch(n){case"held_in_escrow":return"Held in Escrow";case"pending_release":return"Pending Release";case"disputed":return"Under Dispute";case"released":return"Released";case"partially_released":return"Partially Released";case"refunded":return"Refunded";default:return n}},G6=(n,r)=>{switch(n){case"held_in_escrow":return r?"The deposit is securely held in escrow. You can release it or make claims when the tenancy ends.":"Your deposit is securely held in escrow and will be returned at the end of your tenancy.";case"pending_release":return"The deposit release process has been initiated and is being processed.";case"disputed":return"There are disputed claims that need to be resolved before the deposit can be released.";case"released":return"The deposit has been fully processed and released to the appropriate parties.";case"partially_released":return"Some funds have been released while others remain in escrow pending resolution.";case"refunded":return"The deposit has been fully refunded to the tenant.";default:return"Status information not available."}},W6=n=>{switch(n){case"submitted":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"disputed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X6=n=>{switch(n){case"submitted":return"Pending Response";case"accepted":return"Accepted";case"disputed":return"Disputed";default:return n}},K6=n=>n?n.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"",I0=n=>!n||n.length===0?!1:n.every(r=>r.status&&!["submitted","tenant_notified"].includes(r.status.toLowerCase())),Z6=()=>{const{depositId:n}=en(),r=ws(),{user:a,isLandlord:o}=Qt(),[c,d]=p.useState(null),[m,f]=p.useState(!0),[g,x]=p.useState(null),[y,b]=p.useState(!1),[w,S]=p.useState([{id:Date.now(),reason:"",amount:"",description:"",evidence_photos:[],evidence_documents:[]}]);p.useEffect(()=>{if(!o()){r("/dashboard");return}N()},[n]);const N=async()=>{try{f(!0);const F=await fetch(`/api/deposits/${n}`,{credentials:"include"});if(!F.ok)throw new Error("Failed to load deposit data");const J=await F.json();J.success?d(J.deposit):x(J.error||"Failed to load deposit")}catch(F){x("Failed to load deposit data"),console.error("Error loading deposit:",F)}finally{f(!1)}},v=()=>{S([...w,{id:Date.now(),reason:"",amount:"",description:"",evidence_photos:[],evidence_documents:[]}])},_=F=>{w.length>1&&S(w.filter(J=>J.id!==F))},k=(F,J,Z)=>{S(w.map(oe=>oe.id===F?{...oe,[J]:Z}:oe))},E=async(F,J,Z)=>{try{const oe=new FormData;Array.from(Z).forEach(U=>{oe.append("files",U)}),oe.append("evidence_type",J);const ae=Array.from(Z).map(U=>({name:U.name,size:U.size,type:U.type,file:U}));k(F,J,[...w.find(U=>U.id===F)[J],...ae])}catch(oe){console.error("Error preparing files for upload:",oe),alert("Failed to prepare files for upload. Please try again.")}},D=async(F,J)=>{try{const Z=J.map(async oe=>{const ae=[],U=[];if(oe.evidence_photos&&oe.evidence_photos.length>0){for(const G of oe.evidence_photos)if(G.file){const Y=new FormData;Y.append("files",G.file),Y.append("evidence_type","evidence_photos");const xe=await fetch(`/api/deposits/${n}/claims/${F}/evidence`,{method:"POST",credentials:"include",body:Y});if(xe.ok){const C=await xe.json();ae.push(...C.files)}else console.error("Failed to upload photo:",await xe.text())}}if(oe.evidence_documents&&oe.evidence_documents.length>0){for(const G of oe.evidence_documents)if(G.file){const Y=new FormData;Y.append("files",G.file),Y.append("evidence_type","evidence_documents");const xe=await fetch(`/api/deposits/${n}/claims/${F}/evidence`,{method:"POST",credentials:"include",body:Y});if(xe.ok){const C=await xe.json();U.push(...C.files)}else console.error("Failed to upload document:",await xe.text())}}return{...oe,evidence_photos:ae,evidence_documents:U}});return await Promise.all(Z)}catch(Z){throw console.error("Error uploading evidence files:",Z),Z}},L=()=>w.reduce((F,J)=>{const Z=parseFloat(J.amount)||0;return F+Z},0),M=()=>c?Math.max(0,c.amount-L()):0,z=()=>{for(const J of w)if(!J.reason||!J.amount||!J.description||parseFloat(J.amount)<=0)return!1;return!(L()>c.amount)},$=async()=>{if(!z()){alert("Please fill in all required fields and ensure claim amounts are valid.");return}try{b(!0);const F={title:"Landlord Claim for Security Deposit",description:"Claim for deductions from the security deposit at the end of the tenancy.",claim_items:w.map(oe=>({title:oe.reason,amount:parseFloat(oe.amount),description:oe.description,evidence_photos:[],evidence_documents:[]}))},Z=await(await fetch(`/api/deposits/${n}/claims`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();if(Z.success){const oe=await fetch(`/api/deposits/${n}/claims`,{credentials:"include"});if(oe.ok){const U=(await oe.json()).claims||[];if(U.length>0)for(let G=0;G<Math.min(w.length,U.length);G++){const Y=U[U.length-w.length+G].id,xe=w[G];try{await D(Y,[xe])}catch(C){console.warn(`Failed to upload evidence for claim ${Y}:`,C)}}}alert("Claim submitted successfully! The tenant will be notified."),r(`/deposit/${n}/manage`)}else alert(Z.error||"Failed to submit claim")}catch(F){console.error("Error submitting claim:",F),alert("Failed to submit claim")}finally{b(!1)}};if(m)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading deposit information..."})]})});if(g||!c)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Deposit"}),e.jsx("p",{className:"text-gray-600 mb-4",children:g||"Deposit not found"}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});const O=L(),T=M(),P=z();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-between items-center py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Claim Deductions from Deposit"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Property Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Property Address"}),e.jsx("p",{className:"text-gray-900",children:c.property_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Tenant Name"}),e.jsx("p",{className:"text-gray-900",children:c.tenant_name})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Deduction Items"}),e.jsx("button",{onClick:v,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"+ Add Item"})]}),e.jsx("div",{className:"space-y-6",children:w.map((F,J)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Item ",J+1]}),w.length>1&&e.jsx("button",{onClick:()=>_(F.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Deduction *"}),e.jsxs("select",{value:F.reason,onChange:Z=>k(F.id,"reason",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"cleaning_fees",children:"Cleaning Fees"}),e.jsx("option",{value:"repair_damages",children:"Repairs for Damages"}),e.jsx("option",{value:"unpaid_rent",children:"Unpaid Rent"}),e.jsx("option",{value:"unpaid_utilities",children:"Unpaid Utilities"}),e.jsx("option",{value:"missing_items",children:"Missing Items"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (RM) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:F.amount,onChange:Z=>k(F.id,"amount",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"0.00",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:F.description,onChange:Z=>k(F.id,"description",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",rows:"3",placeholder:"Please provide a detailed explanation of this charge...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Z=>E(F.id,"evidence_photos",Z.target.files),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"}),F.evidence_photos.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[F.evidence_photos.length," photo(s) selected"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Documents"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Z=>E(F.id,"evidence_documents",Z.target.files),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"}),F.evidence_documents.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[F.evidence_documents.length," document(s) selected"]})]})]})]},F.id))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Claim Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Held:"}),e.jsxs("span",{className:"font-medium",children:["RM ",c.amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Claimed:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["RM ",O.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Amount to be Refunded:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["RM ",T.toFixed(2)]})]})})]}),O>c.amount&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:" Total claimed amount exceeds the deposit. Please adjust your claims."})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:$,disabled:!P||y,className:`w-full py-2 px-4 rounded-md text-sm font-medium ${P&&!y?"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:y?"Submitting...":"Submit Claim to Tenant"}),e.jsx("button",{onClick:()=>r(`/deposit/${n}/manage`),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md text-sm font-medium",children:"Cancel"})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-700",children:" The tenant will have 7 days to review and respond to your claim. Undisputed amounts will be automatically deducted."})})]})]})]})})]})},Q6=()=>{const{claimId:n}=en(),r=ws(),{user:a,isTenant:o,isLandlord:c}=Qt(),[d,m]=p.useState([]),[f,g]=p.useState(null),[x,y]=p.useState(!0),[b,w]=p.useState(null),[S,N]=p.useState(!1),[v,_]=p.useState(null),[k,E]=p.useState({}),D=C=>C?C.split("_").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" "):"",L=()=>!d||d.length===0?!1:d.every(C=>C.status&&!["submitted","tenant_notified"].includes(C.status.toLowerCase())),M=()=>{if(!(f!=null&&f.response_deadline))return!1;const C=new Date(f.response_deadline);return new Date>C};p.useEffect(()=>{z()},[n]),p.useEffect(()=>{if(d.length>0){const C={};d.forEach(H=>{C[H.id]={response:"",counter_amount:"",explanation:"",evidence_photos:[],evidence_documents:[]}}),E(C)}},[d]);const z=async()=>{var C,H;try{y(!0);const V=await fetch(`/api/deposits/claims/${n}`,{credentials:"include"});if(!V.ok)throw new Error("Failed to load claim data");const X=await V.json();if(X.success){if(X.inspection_status&&X.inspection_status.is_active){m([]),g({property_address:X.property_address,landlord_name:X.landlord_name,deposit_amount:X.deposit_amount,inspection_status:X.inspection_status,inspection_message:X.message});return}const se=X.claims||[],ye=se.every(ce=>{var he;return ce.tenant_response&&!["submitted","tenant_notified","pending_response"].includes((he=ce.status)==null?void 0:he.toLowerCase())})?se:se.filter(ce=>!ce.tenant_response||ce.status==="submitted"||ce.status==="tenant_notified"||ce.status==="pending_response");m(ye),g({property_address:X.property_address,landlord_name:X.landlord_name,deposit_amount:X.deposit_amount,created_at:(C=X.claims[0])==null?void 0:C.created_at,response_deadline:(H=X.claims[0])==null?void 0:H.tenant_response_deadline,total_claims:se.length,pending_claims:se.filter(ce=>{var he;return!ce.tenant_response||["submitted","tenant_notified","pending_response"].includes((he=ce.status)==null?void 0:he.toLowerCase())}).length,inspection_status:X.inspection_status})}else w(X.error||"Failed to load claim")}catch(V){w("Failed to load claim data"),console.error("Error loading claim:",V)}finally{y(!1)}},$=(C,H,V)=>{E(X=>({...X,[C]:{...X[C],[H]:V}}))},O=async(C,H,V)=>{try{if(!V||V.length===0)return;const X=Array.from(V).map(se=>({name:se.name,size:se.size,type:se.type,file:se}));$(C,H,X)}catch(X){console.error("Error preparing files for upload:",X),alert("Failed to prepare files for upload. Please try again.")}},T=async C=>{try{const H=Object.entries(C).map(async([V,X])=>{const se=[],le=[];if(X.evidence_photos&&X.evidence_photos.length>0){for(const ye of X.evidence_photos)if(ye.file){const ce=new FormData;ce.append("files",ye.file),ce.append("evidence_type","evidence_photos");const he=await fetch(`/api/deposits/claims/${V}/response-evidence`,{method:"POST",credentials:"include",body:ce});if(he.ok){const ie=await he.json();se.push(...ie.files)}else console.error("Failed to upload tenant photo:",await he.text())}}if(X.evidence_documents&&X.evidence_documents.length>0){for(const ye of X.evidence_documents)if(ye.file){const ce=new FormData;ce.append("files",ye.file),ce.append("evidence_type","evidence_documents");const he=await fetch(`/api/deposits/claims/${V}/response-evidence`,{method:"POST",credentials:"include",body:ce});if(he.ok){const ie=await he.json();le.push(...ie.files)}else console.error("Failed to upload tenant document:",await he.text())}}return{itemId:V,uploadedPhotos:se,uploadedDocuments:le}});return await Promise.all(H)}catch(H){throw console.error("Error uploading tenant evidence files:",H),H}},P=C=>{_(C)},F=()=>{_(null)},J=()=>d.reduce((C,H)=>{var X;if(L())return((X=H.status)==null?void 0:X.toLowerCase())==="accepted"?C+H.claimed_amount:H.tenant_response==="partial_accept"&&H.tenant_counter_amount?C+parseFloat(H.tenant_counter_amount):C;const V=k[H.id];return(V==null?void 0:V.response)==="accept"?C+H.claimed_amount:(V==null?void 0:V.response)==="partial_accept"?C+(parseFloat(V.counter_amount)||0):C},0),Z=()=>d.reduce((C,H)=>{var X;if(L())return((X=H.status)==null?void 0:X.toLowerCase())==="disputed"?H.tenant_response==="partial_accept"&&H.tenant_counter_amount?C+(H.claimed_amount-parseFloat(H.tenant_counter_amount)):C+H.claimed_amount:C;const V=k[H.id];return(V==null?void 0:V.response)==="reject"?C+H.claimed_amount:(V==null?void 0:V.response)==="partial_accept"?C+(H.claimed_amount-(parseFloat(V.counter_amount)||0)):C},0),oe=d.reduce((C,H)=>C+H.claimed_amount,0),ae=()=>{if(d.length===0)return!1;for(const C of d){const H=k[C.id];if(!(H!=null&&H.response)||H.response==="partial_accept"&&(!H.counter_amount||parseFloat(H.counter_amount)<=0||parseFloat(H.counter_amount)>=C.claimed_amount)||H.response!=="accept"&&!H.explanation)return!1}return!0},U=async()=>{if(!ae()){alert("Please respond to all items and provide explanations where required.");return}try{N(!0);let C={};try{(await T(k)).forEach(se=>{C[se.itemId]={evidence_photos:se.uploadedPhotos,evidence_documents:se.uploadedDocuments}})}catch(X){console.warn("Some evidence files failed to upload:",X)}const V=await(await fetch(`/api/deposits/claims/${n}/respond`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:Object.entries(k).map(([X,se])=>{var le,ye;return{item_id:parseInt(X),response:se.response,counter_amount:se.response==="partial_accept"?parseFloat(se.counter_amount):null,explanation:se.explanation,evidence_photos:((le=C[X])==null?void 0:le.evidence_photos)||[],evidence_documents:((ye=C[X])==null?void 0:ye.evidence_documents)||[]}})})})).json();V.success?(alert("Response submitted successfully! Your landlord will be notified."),r("/dashboard")):alert(V.error||"Failed to submit response")}catch(C){console.error("Error submitting response:",C),alert("Failed to submit response")}finally{N(!1)}};if(x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading claim information..."})]})});if(b||!f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Claim"}),e.jsx("p",{className:"text-gray-600 mb-4",children:b||"Claim not found"}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});const G=J(),Y=Z(),xe=ae();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-between items-center py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c()?"Deposit Claim Status":"Review Your Landlord's Deposit Claims"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.inspection_status&&f.inspection_status.is_active?e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-yellow-500 text-4xl mr-4",children:""}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Landlord Inspection Period"}),e.jsx("p",{className:"text-yellow-700 mb-2",children:f.inspection_message}),e.jsx("p",{className:"text-sm text-yellow-600",children:"You will be notified when the inspection period ends and can respond to any claims."})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Claim Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Property Address"}),e.jsx("p",{className:"text-gray-900",children:f.property_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Landlord"}),e.jsx("p",{className:"text-gray-900",children:f.landlord_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Claim Submitted"}),e.jsx("p",{className:"text-gray-900",children:new Date(f.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Response Deadline"}),e.jsx("p",{className:"text-red-600 font-medium",children:new Date(f.response_deadline).toLocaleDateString()})]})]})]}),o()&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:" How to Respond"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Agree:"})," Accept the charge as valid"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Disagree:"})," Dispute the charge completely"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Partial Accept:"})," Accept a different amount"]}),e.jsx("li",{children:" You must provide an explanation for disagreements or partial acceptances"}),e.jsx("li",{children:" You can upload counter-evidence to support your position"})]})]}),f.total_claims>f.pending_claims&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" Claims Status"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Showing ",f.pending_claims," new claim(s) that need your response. You have already responded to ",f.total_claims-f.pending_claims," previous claim(s).",e.jsx("br",{}),e.jsx("strong",{children:"Note:"})," Once you respond to a claim, your response is final and cannot be changed."]})]})]}),c()&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:" Claim Status"}),e.jsxs("p",{className:"text-sm text-green-700",children:["You are viewing the deposit claims you submitted. The tenant has until"," ",e.jsx("strong",{children:new Date(f==null?void 0:f.response_deadline).toLocaleDateString()})," to respond."]})]}),e.jsx("div",{className:"space-y-6",children:d.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[e.jsx("div",{className:"text-green-500 text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"All Claims Responded To"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You have responded to all deposit claims. No new claims require your attention at this time."}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Return to Deposit Management"})]}):d.map((C,H)=>{var V,X,se,le,ye,ce,he,ie,be,ke,Re,Qe,ct,_t,At,qe;return e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Item ",H+1,": ",D(C.title)]}),e.jsxs("span",{className:"text-xl font-bold text-red-600",children:["RM ",C.claimed_amount]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Landlord's Comments:"}),e.jsx("p",{className:"text-gray-600",children:C.description})]}),(((V=C.evidence_photos)==null?void 0:V.length)>0||((X=C.evidence_documents)==null?void 0:X.length)>0)&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:c()?"Your Evidence:":"Landlord's Evidence:"}),((se=C.evidence_photos)==null?void 0:se.length)>0&&e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",C.evidence_photos.length," photo(s)"]}),((le=C.evidence_documents)==null?void 0:le.length)>0&&e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",C.evidence_documents.length," document(s)"]}),e.jsxs("button",{onClick:()=>P(C),className:"text-blue-600 hover:text-blue-800 text-sm font-medium mt-1 cursor-pointer",children:["View ",c()?"Your":"Landlord's"," Evidence "]})]}),o()&&e.jsxs("div",{className:"space-y-4",children:[L()?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Response"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:e.jsx("span",{className:`font-medium ${((ye=C.status)==null?void 0:ye.toLowerCase())==="accepted"?"text-green-600":"text-red-600"}`,children:((ce=C.status)==null?void 0:ce.toLowerCase())==="accepted"?" Accepted - You agreed this charge is valid":C.tenant_response==="partial_accept"?" Partial Accept - You agreed to a different amount":" Disputed - You disagreed with this charge"})}),C.tenant_response==="partial_accept"&&C.tenant_counter_amount&&e.jsx("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:e.jsxs("p",{className:"text-sm font-medium text-orange-800",children:["Your Counter-Offer: RM ",parseFloat(C.tenant_counter_amount).toFixed(2)]})}),C.tenant_explanation&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Your Explanation:"}),e.jsx("p",{className:"text-sm text-blue-700",children:C.tenant_explanation})]})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Response *"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`response_${C.id}`,value:"accept",checked:((he=k[C.id])==null?void 0:he.response)==="accept",onChange:rt=>$(C.id,"response",rt.target.value),className:"mr-2"}),e.jsx("span",{className:"text-green-600 font-medium",children:" Agree - This charge is valid"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`response_${C.id}`,value:"partial_accept",checked:((ie=k[C.id])==null?void 0:ie.response)==="partial_accept",onChange:rt=>$(C.id,"response",rt.target.value),className:"mr-2"}),e.jsx("span",{className:"text-orange-600 font-medium",children:" Partial Accept - I agree to a different amount"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`response_${C.id}`,value:"reject",checked:((be=k[C.id])==null?void 0:be.response)==="reject",onChange:rt=>$(C.id,"response",rt.target.value),className:"mr-2"}),e.jsx("span",{className:"text-red-600 font-medium",children:" Disagree - This charge is not valid"})]})]})]}),!L()&&((ke=k[C.id])==null?void 0:ke.response)==="partial_accept"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount You Agree To Pay (RM) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",max:C.claimed_amount-.01,value:((Re=k[C.id])==null?void 0:Re.counter_amount)||"",onChange:rt=>$(C.id,"counter_amount",rt.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",placeholder:"0.00",required:!0})]}),((Qe=k[C.id])==null?void 0:Qe.response)&&((ct=k[C.id])==null?void 0:ct.response)!=="accept"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation *"}),e.jsx("textarea",{value:((_t=k[C.id])==null?void 0:_t.explanation)||"",onChange:rt=>$(C.id,"explanation",rt.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",rows:"3",placeholder:"Please explain why you dispute this charge...",required:!0})]}),((At=k[C.id])==null?void 0:At.response)&&((qe=k[C.id])==null?void 0:qe.response)!=="accept"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Counter-Evidence Photos"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:rt=>O(C.id,"evidence_photos",rt.target.files),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Counter-Evidence Documents"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:rt=>O(C.id,"evidence_documents",rt.target.files),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]})]}),c()&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Waiting for tenant response by ",new Date(f==null?void 0:f.response_deadline).toLocaleDateString()]})]})]},C.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:c()?"Claim Summary":"Response Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Claimed:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["RM ",oe.toFixed(2)]})]}),o()&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount Accepted:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["RM ",G.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount Disputed:"}),e.jsxs("span",{className:"font-medium text-orange-600",children:["RM ",Y.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Estimated Refund:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:["RM ",(f.deposit_amount-G).toFixed(2)]})]})})]}),c()&&e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Status:"}),e.jsx("span",{className:"font-medium text-orange-600",children:"Pending Response"})]})})]})]}),o()&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:L()?"Response Status":"Actions"}),e.jsx("div",{className:"space-y-3",children:L()?e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Response Submitted Successfully"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your responses have been sent to the landlord. You will be notified of any updates."})]})]})}):M()?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Response Deadline Expired"}),e.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["The deadline to respond to these claims has passed (",new Date(f.response_deadline).toLocaleDateString(),"). Claims will be auto-approved for the landlord."]})]})]})}):e.jsx("button",{onClick:U,disabled:!xe||S,className:`w-full py-2 px-4 rounded-md text-sm font-medium ${xe&&!S?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:S?"Submitting...":"Submit Response to Landlord"})})]}),c()&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Information"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("p",{children:[" The tenant has until ",e.jsx("strong",{children:new Date(f==null?void 0:f.response_deadline).toLocaleDateString()})," to respond"]}),e.jsx("p",{children:" You will be notified when the tenant submits their response"}),e.jsx("p",{children:" Any disputed amounts will go to mediation"})]})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[c()?"Your Evidence":"Landlord's Evidence",": ",D(v.title)]}),e.jsx("button",{onClick:F,className:"h-8 w-8 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:""})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[v.evidence_photos&&v.evidence_photos.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[" Photos (",v.evidence_photos.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.evidence_photos.map((C,H)=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("img",{src:`/api/deposits/evidence/view/${C.split("/").pop()}`,alt:`Evidence photo ${H+1}`,className:"w-full h-48 object-cover cursor-pointer hover:opacity-90",onClick:()=>window.open(`/api/deposits/evidence/view/${C.split("/").pop()}`,"_blank")}),e.jsx("div",{className:"p-2 bg-gray-50",children:e.jsx("p",{className:"text-xs text-gray-600 truncate",children:C.split("/").pop()})})]},H))})]}),v.evidence_documents&&v.evidence_documents.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[" Documents (",v.evidence_documents.length,")"]}),e.jsx("div",{className:"space-y-2",children:v.evidence_documents.map((C,H)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-red-500",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.split("/").pop()}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>window.open(`/api/deposits/evidence/view/${C.split("/").pop()}`,"_blank"),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:"View"}),e.jsx("button",{onClick:()=>{const V=C.createElement("a");V.href=`/api/deposits/evidence/download/${C.split("/").pop()}`,V.download=C.split("/").pop(),V.click()},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 hover:bg-gray-200 rounded",children:"Download"})]})]},H))})]}),v.evidence_description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded",children:v.evidence_description})]}),(!v.evidence_photos||v.evidence_photos.length===0)&&(!v.evidence_documents||v.evidence_documents.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{children:"No evidence files were uploaded for this claim."})]})]}),e.jsx("div",{className:"flex justify-end p-4 border-t",children:e.jsx("button",{onClick:F,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded",children:"Close"})})]})})]})},J6=()=>{var $;const{disputeId:n}=en(),r=ws(),{user:a,isLandlord:o,isTenant:c}=Qt(),[d,m]=p.useState(null),[f,g]=p.useState(!0),[x,y]=p.useState(null),[b,w]=p.useState([]),[S,N]=p.useState(""),[v,_]=p.useState(!1);p.useEffect(()=>{k(),E()},[n]);const k=async()=>{try{g(!0);const O=await fetch(`/api/deposits/disputes/${n}`,{credentials:"include"});if(!O.ok)throw new Error("Failed to load dispute data");const T=await O.json();T.success?m(T.dispute):y(T.error||"Failed to load dispute")}catch(O){y("Failed to load dispute data"),console.error("Error loading dispute:",O)}finally{g(!1)}},E=async()=>{try{const O=await fetch(`/api/deposits/disputes/${n}/messages`,{credentials:"include"});if(O.ok){const T=await O.json();T.success&&w(T.messages||[])}}catch(O){console.error("Error loading messages:",O)}},D=async()=>{if(S.trim())try{_(!0);const T=await(await fetch(`/api/deposits/disputes/${n}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:S.trim()})})).json();T.success?(N(""),await E()):alert(T.error||"Failed to send message")}catch(O){console.error("Error sending message:",O),alert("Failed to send message")}finally{_(!1)}},L=async()=>{try{const T=await(await fetch(`/api/deposits/disputes/${n}/escalate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).json();T.success?(alert("Case escalated to platform mediation. Our team will review and contact you within 2 business days."),await k()):alert(T.error||"Failed to escalate case")}catch(O){console.error("Error escalating case:",O),alert("Failed to escalate case")}};if(f)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dispute information..."})]})});if(x||!d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Dispute"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x||"Dispute not found"}),e.jsx("button",{onClick:()=>r(-1),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Go Back"})]})});const M=d.status==="under_mediation"&&!d.escalated_at,z=d.status==="resolved";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>r(-1),className:"mr-4 text-gray-500 hover:text-gray-700",children:" Back"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Deposit Resolution"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${e5(d.status)}`,children:t5(d.status)})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Dispute Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Property Address"}),e.jsx("p",{className:"text-gray-900",children:d.property_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Dispute Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(d.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Disputed Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["RM ",d.disputed_amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Mediation Deadline"}),e.jsx("p",{className:"text-orange-600 font-medium",children:new Date(d.mediation_deadline).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Disputed Items"}),e.jsx("div",{className:"space-y-4",children:($=d.claim_items)==null?void 0:$.filter(O=>O.tenant_response!=="accept").map((O,T)=>{var P,F;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:O.reason_display}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-red-600",children:["RM ",O.amount]}),O.tenant_response==="partial_accept"&&e.jsxs("p",{className:"text-sm text-green-600",children:["Tenant offers: RM ",O.tenant_counter_amount]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:O.description}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg mb-3",children:[e.jsx("h5",{className:"font-medium text-red-800 mb-1",children:"Landlord's Position:"}),e.jsx("p",{className:"text-sm text-red-700",children:O.description}),((P=O.evidence_photos)==null?void 0:P.length)>0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" ",O.evidence_photos.length," photo(s) provided"]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-1",children:"Tenant's Response:"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsxs("strong",{children:[O.tenant_response==="reject"?"Disagrees":"Partially Agrees",":"]})," ",O.tenant_explanation]}),((F=O.tenant_evidence_photos)==null?void 0:F.length)>0&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[" ",O.tenant_evidence_photos.length," counter-evidence photo(s)"]})]})]},T)})})]}),z&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-green-800 mb-4",children:" Dispute Resolved"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Final Resolution Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["RM ",d.final_resolution_amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Resolved On"}),e.jsx("p",{className:"text-green-800",children:new Date(d.resolved_at).toLocaleDateString()})]}),d.resolution_notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Resolution Notes"}),e.jsx("p",{className:"text-green-700",children:d.resolution_notes})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Discussion Thread"}),e.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:b.length>0?b.map((O,T)=>e.jsx("div",{className:`flex ${O.sender_id===a.id?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${O.sender_id===a.id?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:O.content}),e.jsxs("p",{className:`text-xs mt-1 ${O.sender_id===a.id?"text-blue-100":"text-gray-500"}`,children:[O.sender_name,"  ",new Date(O.created_at).toLocaleString()]})]})},T)):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No messages yet. Start the discussion below."})}),!z&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("textarea",{value:S,onChange:O=>N(O.target.value),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm",rows:"3",placeholder:"Type your message here...",disabled:v}),e.jsx("button",{onClick:D,disabled:!S.trim()||v,className:`px-4 py-2 rounded-md text-sm font-medium ${S.trim()&&!v?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:v?"Sending...":"Send"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Resolution Actions"}),e.jsxs("div",{className:"space-y-3",children:[M&&e.jsx("button",{onClick:L,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm font-medium",children:" Escalate to Platform Mediation"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Resolution Tips"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" Try to reach a mutual agreement through discussion"}),e.jsx("li",{children:" Provide clear evidence to support your position"}),e.jsx("li",{children:" Consider compromise solutions"}),e.jsx("li",{children:" Escalate to mediation if no agreement is reached"})]})]}),d.mediation_deadline&&!z&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:" Timeline"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Mediation deadline: ",new Date(d.mediation_deadline).toLocaleDateString()]}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"If no resolution is reached, the case will be automatically escalated."})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Refund Calculation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Original Deposit:"}),e.jsxs("span",{className:"font-medium",children:["RM ",d.deposit_amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accepted Deductions:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["-RM ",d.accepted_amount||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Disputed Amount:"}),e.jsxs("span",{className:"font-medium text-orange-600",children:["RM ",d.disputed_amount]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:z?"Final Refund:":"Minimum Refund:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["RM ",z?(d.deposit_amount-d.final_resolution_amount).toFixed(2):(d.deposit_amount-(d.accepted_amount||0)-d.disputed_amount).toFixed(2)]})]})})]})]})]})]})})]})},e5=n=>{switch(n){case"under_mediation":return"bg-yellow-100 text-yellow-800";case"escalated":return"bg-orange-100 text-orange-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},t5=n=>{switch(n){case"under_mediation":return"Under Mediation";case"escalated":return"Escalated to Platform";case"resolved":return"Resolved";default:return n}},s5=()=>{const{depositId:n}=en(),r=ws(),{user:a}=Qt(),[o,c]=p.useState(null),[d,m]=p.useState([]),[f,g]=p.useState({}),[x,y]=p.useState(!0),[b,w]=p.useState(!1),[S,N]=p.useState(null);p.useEffect(()=>{v()},[n]);const v=async()=>{try{const z=await fetch(`/api/deposits/agreement/${n}`,{credentials:"include"});if(z.ok){const $=await z.json();if($.success){c($.deposit);const O=$.deposit.claims.filter(P=>P.status==="disputed");m(O);const T={};O.forEach(P=>{T[P.id]={response:"",landlord_notes:""}}),g(T)}else console.error("Failed to fetch deposit details:",$.error)}else console.error("Failed to fetch deposit details")}catch(z){console.error("Error fetching deposit details:",z)}finally{y(!1)}},_=(z,$,O)=>{g(T=>({...T,[z]:{...T[z],[$]:O}}))},k=z=>z?z.split("_").map($=>$.charAt(0).toUpperCase()+$.slice(1)).join(" "):"Other",E=async()=>{w(!0);try{const z={responses:Object.entries(f).map(([O,T])=>({claim_id:parseInt(O),response:T.response,landlord_notes:T.landlord_notes}))};console.log("Submitting landlord response:",z),console.log("Response details:",JSON.stringify(z,null,2));const $=await fetch(`/api/deposits/${n}/landlord-respond`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)});if(console.log("Response status:",$.status),console.log("Response ok:",$.ok),$.ok||$.status===302){console.log("Response successful, processing result...");const O=await $.json();O.success?(alert("Response submitted successfully!"),O.redirect_url?(console.log("Redirecting to:",O.redirect_url),r(O.redirect_url)):r(`/deposit/${n}/manage`)):alert(`Error: ${O.message||"Failed to submit response"}`)}else{console.error("Response failed with status:",$.status);const O=await $.json().catch(()=>({message:"Unknown error"}));alert(`Error: ${O.message||"Failed to submit response"}`)}}catch(z){console.error("Error submitting response:",z),alert("Error submitting response. Please try again.")}finally{w(!1)}},D=()=>Object.values(f).every(z=>z.response!==""),L=z=>{N(z)},M=()=>{N(null)};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dispute details..."})]})}):!o||d.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Disputes Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There are no disputed claims to respond to."}),e.jsx("button",{onClick:()=>r(`/deposit/${n}/manage`),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-md",children:"Back to Deposit Management"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:()=>r(`/deposit/${n}/manage`),className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center",children:" Back to Deposit Management"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Respond to Tenant Disputes"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Review the tenant's responses and decide how to proceed with each disputed claim."})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Review each tenant response carefully"}),e.jsx("li",{children:" You can accept their counter-offer or escalate to mediation"}),e.jsx("li",{children:" Add notes to explain your decision"}),e.jsx("li",{children:" All disputed claims must be addressed before submitting"})]})]}),e.jsx("div",{className:"space-y-6",children:d.map((z,$)=>{var O,T,P,F,J,Z,oe;return e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Item ",$+1,": ",k(z.title)]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Your Original Claim:"})," RM ",z.claimed_amount]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Your Comments:"})," ",z.description]})]}),e.jsx("div",{children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Disputed by Tenant"})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tenant's Response:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`text-sm font-medium ${z.tenant_response==="partial_accept"?"text-orange-600":"text-red-600"}`,children:z.tenant_response==="partial_accept"?" Partial Accept - Offered different amount":" Rejected - Completely disputed this charge"})}),z.tenant_response==="partial_accept"&&z.tenant_counter_amount&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-orange-800",children:"Counter-Offer:"}),e.jsxs("span",{className:"ml-1 font-bold text-orange-600",children:["RM ",parseFloat(z.tenant_counter_amount).toFixed(2)]})]}),z.tenant_explanation&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Tenant's Explanation:"}),e.jsxs("p",{className:"mt-1 text-gray-600 italic",children:['"',z.tenant_explanation,'"']})]})]})]}),(((O=z.tenant_evidence_photos)==null?void 0:O.length)>0||((T=z.tenant_evidence_documents)==null?void 0:T.length)>0)&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Tenant's Counter-Evidence:"}),e.jsxs("div",{className:"space-y-1",children:[((P=z.tenant_evidence_photos)==null?void 0:P.length)>0&&e.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",z.tenant_evidence_photos.length," photo(s)"]}),((F=z.tenant_evidence_documents)==null?void 0:F.length)>0&&e.jsxs("p",{className:"text-sm text-yellow-700",children:[" ",z.tenant_evidence_documents.length," document(s)"]}),e.jsx("button",{onClick:()=>L(z),className:"text-blue-600 hover:text-blue-800 text-sm font-medium mt-1 cursor-pointer",children:"View Tenant's Evidence "})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Your Response:"}),e.jsxs("div",{className:"space-y-3",children:[z.tenant_response==="partial_accept"&&e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"radio",name:`response_${z.id}`,value:"accept_counter",checked:((J=f[z.id])==null?void 0:J.response)==="accept_counter",onChange:ae=>_(z.id,"response",ae.target.value),className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-green-600 font-medium",children:" Accept Counter-Offer"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Accept the tenant's offer of RM ",z.tenant_counter_amount]})]})]}),e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"radio",name:`response_${z.id}`,value:"escalate",checked:((Z=f[z.id])==null?void 0:Z.response)==="escalate",onChange:ae=>_(z.id,"response",ae.target.value),className:"mt-1 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-600 font-medium",children:" Escalate to Mediation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Let a neutral third party resolve this dispute"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Notes (Optional)"}),e.jsx("textarea",{value:((oe=f[z.id])==null?void 0:oe.landlord_notes)||"",onChange:ae=>_(z.id,"landlord_notes",ae.target.value),placeholder:"Explain your decision or provide additional context...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]})]})]},z.id)})}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{onClick:E,disabled:!D()||b,className:`px-6 py-3 rounded-md font-medium ${D()&&!b?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?"Submitting...":"Submit Response"})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Tenant's Counter-Evidence: ",k(S.title)]}),e.jsx("button",{onClick:M,className:"h-8 w-8 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:""})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[S.tenant_evidence_photos&&S.tenant_evidence_photos.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[" Photos (",S.tenant_evidence_photos.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.tenant_evidence_photos.map((z,$)=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("img",{src:`/api/deposits/evidence/view/${z.split("/").pop()}`,alt:`Tenant evidence photo ${$+1}`,className:"w-full h-48 object-cover cursor-pointer hover:opacity-90",onClick:()=>window.open(`/api/deposits/evidence/view/${z.split("/").pop()}`,"_blank")}),e.jsx("div",{className:"p-2 bg-gray-50",children:e.jsx("p",{className:"text-xs text-gray-600 truncate",children:z.split("/").pop()})})]},$))})]}),S.tenant_evidence_documents&&S.tenant_evidence_documents.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:[" Documents (",S.tenant_evidence_documents.length,")"]}),e.jsx("div",{className:"space-y-2",children:S.tenant_evidence_documents.map((z,$)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-red-500",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.split("/").pop()}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>window.open(`/api/deposits/evidence/view/${z.split("/").pop()}`,"_blank"),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded",children:"View"}),e.jsx("button",{onClick:()=>{const O=z.createElement("a");O.href=`/api/deposits/evidence/download/${z.split("/").pop()}`,O.download=z.split("/").pop(),O.click()},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 hover:bg-gray-200 rounded",children:"Download"})]})]},$))})]}),(!S.tenant_evidence_photos||S.tenant_evidence_photos.length===0)&&(!S.tenant_evidence_documents||S.tenant_evidence_documents.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{children:"The tenant did not upload any counter-evidence for this claim."})]})]}),e.jsx("div",{className:"flex justify-end p-4 border-t",children:e.jsx("button",{onClick:M,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded",children:"Close"})})]})})]})},bv="carousel",vv="controller",n5="navigation",r5="no-scroll",Af="portal",a5="root",jv="toolbar",Tm="loading",Am="error",Dm="complete",l5="placeholder",o5=n=>`active-slide-${n}`,wv="flex_center",i5="no_scroll",Nv="no_scroll_padding",Df="slide",c5="slide_wrapper",$r="prev",Fr="next",V0="swipe",Qa="close",Sv="onPointerDown",_v="onPointerMove",Ev="onPointerUp",Cv="onPointerLeave",kv="onPointerCancel",Rv="onKeyDown",d5="onKeyUp",Tv="onWheel",u5="Escape",m5="ArrowLeft",f5="ArrowRight",h5="button",Jm="icon",Av="contain",Y0="cover",p5="Unknown action type",Dv="yarl__";function zn(...n){return[...n].filter(Boolean).join(" ")}function Ze(n){return`${Dv}${n}`}function bs(n){return`--${Dv}${n}`}function Ro(n,r){return`${n}${r?`_${r}`:""}`}function Mf(n){return r=>Ro(n,r)}function Ja(n,r){var a;return(a=n==null?void 0:n[r])!==null&&a!==void 0?a:r}function x5(n,r,a){return Ja(n,"{index} of {total}").replace(/\{index}/g,`${Of(a,r.length)+1}`).replace(/\{total}/g,`${r.length}`)}function Mv(...n){return()=>{n.forEach(r=>{r()})}}function yr(n,r,a){return()=>{const o=p.useContext(a);if(!o)throw new Error(`${n} must be used within a ${r}.Provider`);return o}}function Ov(){return typeof window<"u"}function g5(n,r=0){const a=10**r;return Math.round((n+Number.EPSILON)*a)/a}function Pv(n){return n.type===void 0||n.type==="image"}function y5(n,r){return n.imageFit===Y0||n.imageFit!==Av&&r===Y0}function Fc(n){return typeof n=="string"?Number.parseInt(n,10):n}function wc(n){if(typeof n=="number")return{pixel:n};if(typeof n=="string"){const r=Fc(n);return n.endsWith("%")?{percent:r}:{pixel:r}}return{pixel:0}}function b5(n,r){const a=wc(r),o=a.percent!==void 0?n.width/100*a.percent:a.pixel;return{width:Math.max(n.width-2*o,0),height:Math.max(n.height-2*o,0)}}function Of(n,r){return r>0?(n%r+r)%r:0}function Lv(n){return n.length>0}function Uv(n,r){return n[Of(r,n.length)]}function ef(n,r){return Lv(n)?Uv(n,r):void 0}function v5(n){return Pv(n)?n.src:void 0}function j5(n,r,a=0){return Math.min(n.preload,Math.max(n.finite?r.length-1:Math.floor(r.length/2),a))}const w5=Number(p.version.split(".")[0])>=19;function N5(n){return{inert:w5?n:n?"":void 0}}function S5(n){n.scrollTop}const tf={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Qa]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Av,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Zr(n,r){return{name:n,component:r}}function Yt(n,r){return{module:n,children:r}}function zv(n,r,a){return n.module.name===r?a(n):n.children?[Yt(n.module,n.children.flatMap(o=>{var c;return(c=zv(o,r,a))!==null&&c!==void 0?c:[]}))]:[n]}function qa(n,r,a){return n.flatMap(o=>{var c;return(c=zv(o,r,a))!==null&&c!==void 0?c:[]})}function _5(n,r=[],a=[]){let o=n;const c=S=>{const N=[...o];for(;N.length>0;){const v=N.pop();if((v==null?void 0:v.module.name)===S)return!0;v!=null&&v.children&&N.push(...v.children)}return!1},d=(S,N)=>{if(S===""){o=[Yt(N,o)];return}o=qa(o,S,v=>[Yt(N,[v])])},m=(S,N)=>{o=qa(o,S,v=>[Yt(v.module,[Yt(N,v.children)])])},f=(S,N,v)=>{o=qa(o,S,_=>{var k;return[Yt(_.module,[...v?[Yt(N)]:[],...(k=_.children)!==null&&k!==void 0?k:[],...v?[]:[Yt(N)]])]})},g=(S,N,v)=>{o=qa(o,S,_=>[...v?[Yt(N)]:[],_,...v?[]:[Yt(N)]])},x=S=>{m(vv,S)},y=(S,N)=>{o=qa(o,S,v=>[Yt(N,v.children)])},b=S=>{o=qa(o,S,N=>N.children)},w=S=>{a.push(S)};return r.forEach(S=>{S({contains:c,addParent:d,append:m,addChild:f,addSibling:g,addModule:x,replace:y,remove:b,augment:w})}),{config:o,augmentation:S=>a.reduce((N,v)=>v(N),S)}}const Bv=p.createContext(null),$v=yr("useA11yContext","A11yContext",Bv);function E5({children:n}){const[r,a]=p.useState(!1),[o,c]=p.useState(!1),d=p.useMemo(()=>({focusWithin:r,trackFocusWithin:(f,g)=>{const x=y=>b=>{var w;b.currentTarget.contains(b.relatedTarget)||a(y),(w=y?f:g)===null||w===void 0||w(b)};return{onFocus:x(!0),onBlur:x(!1)}},autoPlaying:o,setAutoPlaying:c}),[r,o]);return p.createElement(Bv.Provider,{value:d},n)}const Fv=p.createContext(null),Pf=yr("useDocument","DocumentContext",Fv);function C5({nodeRef:n,children:r}){const a=p.useMemo(()=>{const o=d=>{var m;return((m=d||n.current)===null||m===void 0?void 0:m.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:d=>{var m;return((m=o(d))===null||m===void 0?void 0:m.defaultView)||window}}},[n]);return p.createElement(Fv.Provider,{value:a},r)}const Hv=p.createContext(null),Hc=yr("useEvents","EventsContext",Hv);function k5({children:n}){const[r]=p.useState({});p.useEffect(()=>()=>{Object.keys(r).forEach(o=>delete r[o])},[r]);const a=p.useMemo(()=>{const o=(m,f)=>{var g;(g=r[m])===null||g===void 0||g.splice(0,r[m].length,...r[m].filter(x=>x!==f))};return{publish:(...[m,f])=>{var g;(g=r[m])===null||g===void 0||g.forEach(x=>x(f))},subscribe:(m,f)=>(r[m]||(r[m]=[]),r[m].push(f),()=>o(m,f)),unsubscribe:o}},[r]);return p.createElement(Hv.Provider,{value:a},n)}const qv=p.createContext(null),To=yr("useLightboxProps","LightboxPropsContext",qv);function R5({children:n,...r}){return p.createElement(qv.Provider,{value:r},n)}const Iv=p.createContext(null),qc=yr("useLightboxState","LightboxStateContext",Iv),Vv=p.createContext(null),T5=yr("useLightboxDispatch","LightboxDispatchContext",Vv);function A5(n,r){switch(r.type){case"swipe":{const{slides:a}=n,o=(r==null?void 0:r.increment)||0,c=n.globalIndex+o,d=Of(c,a.length),m=ef(a,d),f=o||r.duration!==void 0?{increment:o,duration:r.duration,easing:r.easing}:void 0;return{slides:a,currentIndex:d,globalIndex:c,currentSlide:m,animation:f}}case"update":return r.slides!==n.slides||r.index!==n.currentIndex?{slides:r.slides,currentIndex:r.index,globalIndex:r.index,currentSlide:ef(r.slides,r.index)}:n;default:throw new Error(p5)}}function D5({slides:n,index:r,children:a}){const[o,c]=p.useReducer(A5,{slides:n,currentIndex:r,globalIndex:r,currentSlide:ef(n,r)});p.useEffect(()=>{c({type:"update",slides:n,index:r})},[n,r]);const d=p.useMemo(()=>({...o,state:o,dispatch:c}),[o,c]);return p.createElement(Vv.Provider,{value:c},p.createElement(Iv.Provider,{value:d},a))}const Yv=p.createContext(null),Ic=yr("useTimeouts","TimeoutsContext",Yv);function M5({children:n}){const[r]=p.useState([]);p.useEffect(()=>()=>{r.forEach(o=>window.clearTimeout(o)),r.splice(0,r.length)},[r]);const a=p.useMemo(()=>{const o=m=>{r.splice(0,r.length,...r.filter(f=>f!==m))};return{setTimeout:(m,f)=>{const g=window.setTimeout(()=>{o(g),m()},f);return r.push(g),g},clearTimeout:m=>{m!==void 0&&(o(m),window.clearTimeout(m))}}},[r]);return p.createElement(Yv.Provider,{value:a},n)}const Gv=p.forwardRef(function({label:r,className:a,icon:o,renderIcon:c,onClick:d,style:m,...f},g){const{styles:x,labels:y}=To(),b=Ja(y,r);return p.createElement("button",{ref:g,type:"button",title:b,"aria-label":b,className:zn(Ze(h5),a),onClick:d,style:{...m,...x.button},...f},c?c():p.createElement(o,{className:Ze(Jm),style:x.icon}))});function O5(n,r){const a=o=>p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},r);return a.displayName=n,a}function Ao(n,r){return O5(n,p.createElement("g",{fill:"currentColor"},p.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r))}const P5=Ao("Close",p.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),L5=Ao("Previous",p.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),U5=Ao("Next",p.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),z5=Ao("Loading",p.createElement(p.Fragment,null,Array.from({length:8}).map((n,r,a)=>p.createElement("line",{key:r,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/a.length*(r+1),transform:`rotate(${360/a.length*r}, 12, 12)`})))),B5=Ao("Error",p.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Do=Ov()?p.useLayoutEffect:p.useEffect;function Wv(){const[n,r]=p.useState(!1);return p.useEffect(()=>{var a,o;const c=(a=window.matchMedia)===null||a===void 0?void 0:a.call(window,"(prefers-reduced-motion: reduce)");r(c==null?void 0:c.matches);const d=m=>r(m.matches);return(o=c==null?void 0:c.addEventListener)===null||o===void 0||o.call(c,"change",d),()=>{var m;return(m=c==null?void 0:c.removeEventListener)===null||m===void 0?void 0:m.call(c,"change",d)}},[]),n}function $5(n){let r=0,a=0,o=0;const d=window.getComputedStyle(n).transform.match(/matrix.*\((.+)\)/);if(d){const m=d[1].split(",").map(Fc);m.length===6?(r=m[4],a=m[5]):m.length===16&&(r=m[12],a=m[13],o=m[14])}return{x:r,y:a,z:o}}function G0(n,r){const a=p.useRef(void 0),o=p.useRef(void 0),c=Wv();return Do(()=>{var d,m,f;if(n.current&&a.current!==void 0&&!c){const{keyframes:g,duration:x,easing:y,onfinish:b}=r(a.current,n.current.getBoundingClientRect(),$5(n.current))||{};if(g&&x){(d=o.current)===null||d===void 0||d.cancel(),o.current=void 0;try{o.current=(f=(m=n.current).animate)===null||f===void 0?void 0:f.call(m,g,{duration:x,easing:y})}catch(w){console.error(w)}o.current&&(o.current.onfinish=()=>{o.current=void 0,b==null||b()})}}a.current=void 0}),{prepareAnimation:d=>{a.current=d},isAnimationPlaying:()=>{var d;return((d=o.current)===null||d===void 0?void 0:d.playState)==="running"}}}function Xv(){const n=p.useRef(null),r=p.useRef(void 0),[a,o]=p.useState();return{setContainerRef:p.useCallback(d=>{n.current=d,r.current&&(r.current.disconnect(),r.current=void 0);const m=()=>{if(d){const f=window.getComputedStyle(d),g=x=>parseFloat(x)||0;o({width:Math.round(d.clientWidth-g(f.paddingLeft)-g(f.paddingRight)),height:Math.round(d.clientHeight-g(f.paddingTop)-g(f.paddingBottom))})}else o(void 0)};m(),d&&typeof ResizeObserver<"u"&&(r.current=new ResizeObserver(m),r.current.observe(d))},[]),containerRef:n,containerRect:a}}function mc(){const n=p.useRef(void 0),{setTimeout:r,clearTimeout:a}=Ic();return p.useCallback((o,c)=>{a(n.current),n.current=r(o,c>0?c:0)},[r,a])}function Ot(n){const r=p.useRef(n);return Do(()=>{r.current=n}),p.useCallback((...a)=>{var o;return(o=r.current)===null||o===void 0?void 0:o.call(r,...a)},[])}function W0(n,r){typeof n=="function"?n(r):n&&(n.current=r)}function sf(n,r){return p.useMemo(()=>n==null&&r==null?null:a=>{W0(n,a),W0(r,a)},[n,r])}function F5(n,r=!1){const a=p.useRef(!1);Do(()=>{r&&a.current&&(a.current=!1,n())},[r,n]);const o=p.useCallback(()=>{a.current=!0},[]),c=p.useCallback(()=>{a.current=!1},[]);return{onFocus:o,onBlur:c}}function Lf(){const[n,r]=p.useState(!1);return Do(()=>{r(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),n}function H5(){const[n]=p.useState({}),r=p.useCallback((c,d)=>{var m;(m=n[c])===null||m===void 0||m.forEach(f=>{d.isPropagationStopped()||f(d)})},[n]),a=p.useMemo(()=>({onPointerDown:c=>r(Sv,c),onPointerMove:c=>r(_v,c),onPointerUp:c=>r(Ev,c),onPointerLeave:c=>r(Cv,c),onPointerCancel:c=>r(kv,c),onKeyDown:c=>r(Rv,c),onKeyUp:c=>r(d5,c),onWheel:c=>r(Tv,c)}),[r]),o=p.useCallback((c,d)=>(n[c]||(n[c]=[]),n[c].unshift(d),()=>{const m=n[c];m&&m.splice(0,m.length,...m.filter(f=>f!==d))}),[n]);return{registerSensors:a,subscribeSensors:o}}function X0(n,r){const a=p.useRef(0),o=mc(),c=Ot((...d)=>{a.current=Date.now(),n(d)});return p.useCallback((...d)=>{o(()=>{c(d)},r-(Date.now()-a.current))},[r,c,o])}const Mm=Mf("slide"),Om=Mf("slide_image");function q5({slide:n,offset:r,render:a,rect:o,imageFit:c,imageProps:d,onClick:m,onLoad:f,onError:g,style:x}){var y,b,w,S,N,v,_,k;const[E,D]=p.useState(Tm),{publish:L}=Hc(),{setTimeout:M}=Ic(),z=p.useRef(null);p.useEffect(()=>{r===0&&L(o5(E))},[r,E,L]);const $=Ot(V=>{("decode"in V?V.decode():Promise.resolve()).catch(()=>{}).then(()=>{V.parentNode&&(D(Dm),M(()=>{f==null||f(V)},0))})}),O=p.useCallback(V=>{z.current=V,V!=null&&V.complete&&$(V)},[$]),T=p.useCallback(V=>{$(V.currentTarget)},[$]),P=Ot(()=>{D(Am),g==null||g()}),F=y5(n,c),J=(V,X)=>Number.isFinite(V)?V:X,Z=J(Math.max(...((b=(y=n.srcSet)===null||y===void 0?void 0:y.map(V=>V.width))!==null&&b!==void 0?b:[]).concat(n.width?[n.width]:[]).filter(Boolean)),((w=z.current)===null||w===void 0?void 0:w.naturalWidth)||0),oe=J(Math.max(...((N=(S=n.srcSet)===null||S===void 0?void 0:S.map(V=>V.height))!==null&&N!==void 0?N:[]).concat(n.height?[n.height]:[]).filter(Boolean)),((v=z.current)===null||v===void 0?void 0:v.naturalHeight)||0),ae=Z&&oe?{maxWidth:`min(${Z}px, 100%)`,maxHeight:`min(${oe}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},U=(_=n.srcSet)===null||_===void 0?void 0:_.sort((V,X)=>V.width-X.width).map(V=>`${V.src} ${V.width}w`).join(", "),G=()=>o&&!F&&n.width&&n.height?o.height/n.height*n.width:Number.MAX_VALUE,Y=U&&o&&Ov()?`${Math.round(Math.min(G(),o.width))}px`:void 0,{style:xe,className:C,...H}=d||{};return p.createElement(p.Fragment,null,p.createElement("img",{ref:O,onLoad:T,onError:P,onClick:m,draggable:!1,className:zn(Ze(Om()),F&&Ze(Om("cover")),E!==Dm&&Ze(Om("loading")),C),style:{...ae,...x,...xe},...H,alt:(k=n.alt)!==null&&k!==void 0?k:"",sizes:Y,srcSet:U,src:n.src}),E!==Dm&&p.createElement("div",{className:Ze(Mm(l5))},E===Tm&&(a!=null&&a.iconLoading?a.iconLoading():p.createElement(z5,{className:zn(Ze(Jm),Ze(Mm(Tm)))})),E===Am&&(a!=null&&a.iconError?a.iconError():p.createElement(B5,{className:zn(Ze(Jm),Ze(Mm(Am)))}))))}const I5=p.forwardRef(function({className:r,children:a,onFocus:o,onBlur:c,...d},m){const f=p.useRef(null),{trackFocusWithin:g}=$v();return p.createElement(C5,{nodeRef:f},p.createElement("div",{ref:sf(m,f),className:zn(Ze("root"),r),...g(o,c),...d},a))});var rs;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL",n[n.ANIMATION=3]="ANIMATION"})(rs||(rs={}));function V5(n,r,a,o,c){p.useEffect(()=>Mv(n(Sv,r),n(_v,a),n(Ev,o),n(Cv,o),n(kv,o)),[n,r,a,o,c])}var Ws;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL"})(Ws||(Ws={}));const Pm=30;function Y5({disableSwipeNavigation:n,closeOnBackdropClick:r},a,o,c,d,m,f,g,x,y,b,w,S,N,v,_){const k=p.useRef(0),E=p.useRef([]),D=p.useRef(void 0),L=p.useRef(0),M=p.useRef(Ws.NONE),z=p.useCallback(Z=>{D.current===Z.pointerId&&(D.current=void 0,M.current=Ws.NONE);const oe=E.current;oe.splice(0,oe.length,...oe.filter(ae=>ae.pointerId!==Z.pointerId))},[]),$=p.useCallback(Z=>{z(Z),Z.persist(),E.current.push(Z)},[z]),O=p.useCallback(Z=>E.current.find(({pointerId:oe})=>Z.pointerId===oe),[]),T=Ot(Z=>{$(Z)}),P=(Z,oe)=>b&&Z>oe||y&&Z<-oe,F=Ot(Z=>{const oe=O(Z);if(oe)if(D.current===Z.pointerId){const ae=Date.now()-L.current,U=k.current;M.current===Ws.SWIPE?Math.abs(U)>.3*c||Math.abs(U)>5&&ae<d?g(U,ae):x(U):M.current===Ws.PULL&&(P(U,2*Pm)?N(U,ae):v(U)),k.current=0,M.current=Ws.NONE}else{const{target:ae}=Z;r&&ae instanceof HTMLElement&&ae===oe.target&&(ae.classList.contains(Ze(Df))||ae.classList.contains(Ze(c5)))&&_()}z(Z)}),J=Ot(Z=>{const oe=O(Z);if(oe){const ae=D.current===Z.pointerId;if(Z.buttons===0){ae&&k.current!==0?F(Z):z(oe);return}const U=Z.clientX-oe.clientX,G=Z.clientY-oe.clientY;if(D.current===void 0){const Y=xe=>{$(Z),D.current=Z.pointerId,L.current=Date.now(),M.current=xe};Math.abs(U)>Math.abs(G)&&Math.abs(U)>Pm&&o(U)?n||(Y(Ws.SWIPE),m()):Math.abs(G)>Math.abs(U)&&P(G,Pm)&&(Y(Ws.PULL),w())}else ae&&(M.current===Ws.SWIPE?(k.current=U,f(U)):M.current===Ws.PULL&&(k.current=G,S(G)))}});V5(a,T,J,F)}function G5({preventDefaultWheelX:n,preventDefaultWheelY:r}){const a=p.useRef(null),o=Ot(c=>{const d=Math.abs(c.deltaX)>Math.abs(c.deltaY);(d&&n||!d&&r||c.ctrlKey)&&c.preventDefault()});return p.useCallback(c=>{var d;c?c.addEventListener("wheel",o,{passive:!1}):(d=a.current)===null||d===void 0||d.removeEventListener("wheel",o),a.current=c},[o])}function W5(n,r,a,o,c,d,m,f,g){const x=p.useRef(0),y=p.useRef(0),b=p.useRef(void 0),w=p.useRef(void 0),S=p.useRef(0),N=p.useRef(void 0),v=p.useRef(0),{setTimeout:_,clearTimeout:k}=Ic(),E=p.useCallback(()=>{b.current&&(k(b.current),b.current=void 0)},[k]),D=p.useCallback(()=>{w.current&&(k(w.current),w.current=void 0)},[k]),L=Ot(()=>{n!==rs.SWIPE&&(x.current=0,v.current=0,E(),D())});p.useEffect(L,[n,L]);const M=Ot($=>{w.current=void 0,x.current===$&&g(x.current)}),z=Ot($=>{if($.ctrlKey||Math.abs($.deltaY)>Math.abs($.deltaX))return;const O=T=>{S.current=T,k(N.current),N.current=T>0?_(()=>{S.current=0,N.current=void 0},300):void 0};if(n===rs.NONE){if(Math.abs($.deltaX)<=1.2*Math.abs(S.current)){O($.deltaX);return}if(!a(-$.deltaX))return;if(y.current+=$.deltaX,E(),Math.abs(y.current)>30)y.current=0,O(0),v.current=Date.now(),d();else{const T=y.current;b.current=_(()=>{b.current=void 0,T===y.current&&(y.current=0)},c)}}else if(n===rs.SWIPE){let T=x.current-$.deltaX;if(T=Math.min(Math.abs(T),o)*Math.sign(T),x.current=T,m(T),D(),Math.abs(T)>.2*o){O($.deltaX),f(T,Date.now()-v.current);return}w.current=_(()=>M(T),2*c)}else O($.deltaX)});p.useEffect(()=>r(Tv,z),[r,z])}const K0=Mf("container"),Kv=p.createContext(null),Mo=yr("useController","ControllerContext",Kv);function X5({children:n,...r}){var a;const{carousel:o,animation:c,controller:d,on:m,styles:f,render:g}=r,{closeOnPullUp:x,closeOnPullDown:y,preventDefaultWheelX:b,preventDefaultWheelY:w}=d,[S,N]=p.useState(),v=qc(),_=T5(),[k,E]=p.useState(rs.NONE),D=p.useRef(0),L=p.useRef(0),M=p.useRef(1),{registerSensors:z,subscribeSensors:$}=H5(),{subscribe:O,publish:T}=Hc(),P=mc(),F=mc(),J=mc(),{containerRef:Z,setContainerRef:oe,containerRect:ae}=Xv(),U=sf(G5({preventDefaultWheelX:b,preventDefaultWheelY:w}),oe),G=p.useRef(null),Y=sf(G,void 0),{getOwnerDocument:xe}=Pf(),C=Lf(),H=ve=>(C?-1:1)*(typeof ve=="number"?ve:1),V=Ot(()=>{var ve;return(ve=Z.current)===null||ve===void 0?void 0:ve.focus()}),X=Ot(()=>r),se=Ot(()=>v),le=p.useCallback(ve=>T($r,ve),[T]),ye=p.useCallback(ve=>T(Fr,ve),[T]),ce=p.useCallback(()=>T(Qa),[T]),he=ve=>!(o.finite&&(H(ve)>0&&v.currentIndex===0||H(ve)<0&&v.currentIndex===v.slides.length-1)),ie=ve=>{var Ve;D.current=ve,(Ve=Z.current)===null||Ve===void 0||Ve.style.setProperty(bs("swipe_offset"),`${Math.round(ve)}px`)},be=ve=>{var Ve,dt;L.current=ve,M.current=(()=>{const q=y&&ve>0?ve:x&&ve<0?-ve:0;return Math.min(Math.max(g5(1-q/60*(1-.5),2),.5),1)})(),(Ve=Z.current)===null||Ve===void 0||Ve.style.setProperty(bs("pull_offset"),`${Math.round(ve)}px`),(dt=Z.current)===null||dt===void 0||dt.style.setProperty(bs("pull_opacity"),`${M.current}`)},{prepareAnimation:ke}=G0(G,(ve,Ve,dt)=>{if(G.current&&ae)return{keyframes:[{transform:`translate(0, ${ve.rect.y-Ve.y+dt.y}px)`,opacity:ve.opacity},{transform:"translate(0, 0)",opacity:1}],duration:ve.duration,easing:c.easing.fade}}),Re=(ve,Ve)=>{if(x||y){be(ve);let dt=0;G.current&&(dt=c.fade*(Ve?2:1),ke({rect:G.current.getBoundingClientRect(),opacity:M.current,duration:dt})),J(()=>{be(0),E(rs.NONE)},dt),E(rs.ANIMATION),Ve||ce()}},{prepareAnimation:Qe,isAnimationPlaying:ct}=G0(G,(ve,Ve,dt)=>{var ut;if(G.current&&ae&&(!((ut=v.animation)===null||ut===void 0)&&ut.duration)){const Et=wc(o.spacing),q=(Et.percent?Et.percent*ae.width/100:Et.pixel)||0;return{keyframes:[{transform:`translate(${H(v.globalIndex-ve.index)*(ae.width+q)+ve.rect.x-Ve.x+dt.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),_t=Ot(ve=>{var Ve,dt;const ut=ve.offset||0,Et=ut?c.swipe:(Ve=c.navigation)!==null&&Ve!==void 0?Ve:c.swipe,q=!ut&&!ct()?c.easing.navigation:c.easing.swipe;let{direction:ge}=ve;const ne=(dt=ve.count)!==null&&dt!==void 0?dt:1;let Se=rs.ANIMATION,Ae=Et*ne;if(!ge){const Bt=ae==null?void 0:ae.width,ds=ve.duration||0,os=Bt?Et/Bt*Math.abs(ut):Et;ne!==0?(ds<os?Ae=Ae/os*Math.max(ds,os/5):Bt&&(Ae=Et/Bt*(Bt-Math.abs(ut))),ge=H(ut)>0?$r:Fr):Ae=Et/2}let Ke=0;ge===$r?he(H(1))?Ke=-ne:(Se=rs.NONE,Ae=Et):ge===Fr&&(he(H(-1))?Ke=ne:(Se=rs.NONE,Ae=Et)),Ae=Math.round(Ae),F(()=>{ie(0),E(rs.NONE)},Ae),G.current&&Qe({rect:G.current.getBoundingClientRect(),index:v.globalIndex}),E(Se),T(V0,{type:"swipe",increment:Ke,duration:Ae,easing:q})});p.useEffect(()=>{var ve,Ve;!((ve=v.animation)===null||ve===void 0)&&ve.increment&&(!((Ve=v.animation)===null||Ve===void 0)&&Ve.duration)&&P(()=>_({type:"swipe",increment:0}),v.animation.duration)},[v.animation,_,P]);const At=[$,he,(ae==null?void 0:ae.width)||0,c.swipe,()=>E(rs.SWIPE),ve=>ie(ve),(ve,Ve)=>_t({offset:ve,duration:Ve,count:1}),ve=>_t({offset:ve,count:0})],qe=[()=>{y&&E(rs.PULL)},ve=>be(ve),ve=>Re(ve),ve=>Re(ve,!0)];Y5(d,...At,x,y,...qe,ce),W5(k,...At);const rt=Ot(()=>{d.focus&&xe().querySelector(`.${Ze(Af)} .${Ze(K0())}`)&&V()});p.useEffect(rt,[rt]);const Wt=Ot(()=>{var ve;(ve=m.view)===null||ve===void 0||ve.call(m,{index:v.currentIndex})});p.useEffect(Wt,[v.globalIndex,Wt]),p.useEffect(()=>Mv(O($r,ve=>_t({direction:$r,...ve})),O(Fr,ve=>_t({direction:Fr,...ve})),O(V0,ve=>_(ve))),[O,_t,_]);const Jt=p.useMemo(()=>({prev:le,next:ye,close:ce,focus:V,slideRect:ae?b5(ae,o.padding):{width:0,height:0},containerRect:ae||{width:0,height:0},subscribeSensors:$,containerRef:Z,setCarouselRef:Y,toolbarWidth:S,setToolbarWidth:N}),[le,ye,ce,V,$,ae,Z,Y,S,N,o.padding]);return p.useImperativeHandle(d.ref,()=>({prev:le,next:ye,close:ce,focus:V,getLightboxProps:X,getLightboxState:se}),[le,ye,ce,V,X,se]),p.createElement("div",{ref:U,className:zn(Ze(K0()),Ze(wv)),style:{...k===rs.SWIPE?{[bs("swipe_offset")]:`${Math.round(D.current)}px`}:null,...k===rs.PULL?{[bs("pull_offset")]:`${Math.round(L.current)}px`,[bs("pull_opacity")]:`${M.current}`}:null,...d.touchAction!=="none"?{[bs("controller_touch_action")]:d.touchAction}:null,...f.container},tabIndex:-1,...z},ae&&p.createElement(Kv.Provider,{value:Jt},n,(a=g.controls)===null||a===void 0?void 0:a.call(g)))}const K5=Zr(vv,X5);function Br(n){return Ro(bv,n)}function Z0(n){return Ro(Df,n)}function Z5({slide:n,offset:r}){const a=p.useRef(null),{currentIndex:o,slides:c}=qc(),{slideRect:d,focus:m}=Mo(),{render:f,carousel:{imageFit:g,imageProps:x},on:{click:y},styles:{slide:b},labels:w}=To(),{getOwnerDocument:S}=Pf(),N=r!==0;p.useEffect(()=>{var _;N&&(!((_=a.current)===null||_===void 0)&&_.contains(S().activeElement))&&m()},[N,m,S]);const v=()=>{var _,k,E,D;let L=(_=f.slide)===null||_===void 0?void 0:_.call(f,{slide:n,offset:r,rect:d});return!L&&Pv(n)&&(L=p.createElement(q5,{slide:n,offset:r,render:f,rect:d,imageFit:g,imageProps:x,onClick:N?void 0:()=>y==null?void 0:y({index:o})})),L?p.createElement(p.Fragment,null,(k=f.slideHeader)===null||k===void 0?void 0:k.call(f,{slide:n}),((E=f.slideContainer)!==null&&E!==void 0?E:({children:M})=>M)({slide:n,children:L}),(D=f.slideFooter)===null||D===void 0?void 0:D.call(f,{slide:n})):null};return p.createElement("div",{ref:a,className:zn(Ze(Z0()),!N&&Ze(Z0("current")),Ze(wv)),...N5(N),style:b,role:"group","aria-roledescription":Ja(w,"Slide"),"aria-label":x5(w,c,o+r)},v())}function Q5(){const n=To().styles.slide;return p.createElement("div",{className:Ze(Df),style:n})}function J5({carousel:n,labels:r}){const{slides:a,currentIndex:o,globalIndex:c}=qc(),{setCarouselRef:d}=Mo(),{autoPlaying:m,focusWithin:f}=$v(),g=wc(n.spacing),x=wc(n.padding),y=j5(n,a,1),b=[];if(Lv(a))for(let w=o-y;w<=o+y;w+=1){const S=Uv(a,w),N=c-o+w,v=n.finite&&(w<0||w>a.length-1);b.push(v?{key:N}:{key:[`${N}`,v5(S)].filter(Boolean).join("|"),offset:w-o,slide:S})}return p.createElement("div",{ref:d,className:zn(Ze(Br()),b.length>0&&Ze(Br("with_slides"))),style:{[`${bs(Br("slides_count"))}`]:b.length,[`${bs(Br("spacing_px"))}`]:g.pixel||0,[`${bs(Br("spacing_percent"))}`]:g.percent||0,[`${bs(Br("padding_px"))}`]:x.pixel||0,[`${bs(Br("padding_percent"))}`]:x.percent||0},role:"region","aria-live":m&&!f?"off":"polite","aria-roledescription":Ja(r,"Carousel"),"aria-label":Ja(r,"Photo gallery")},b.map(({key:w,slide:S,offset:N})=>S?p.createElement(Z5,{key:w,slide:S,offset:N}):p.createElement(Q5,{key:w})))}const e3=Zr(bv,J5);function Zv(){const{carousel:n}=To(),{slides:r,currentIndex:a}=qc(),o=r.length===0||n.finite&&a===0,c=r.length===0||n.finite&&a===r.length-1;return{prevDisabled:o,nextDisabled:c}}function t3(n){var r;const a=Lf(),{publish:o}=Hc(),{animation:c}=To(),{prevDisabled:d,nextDisabled:m}=Zv(),f=((r=c.navigation)!==null&&r!==void 0?r:c.swipe)/2,g=X0(()=>o($r),f),x=X0(()=>o(Fr),f),y=Ot(b=>{switch(b.key){case u5:o(Qa);break;case m5:(a?m:d)||(a?x:g)();break;case f5:(a?d:m)||(a?g:x)();break}});p.useEffect(()=>n(Rv,y),[n,y])}function Q0({label:n,icon:r,renderIcon:a,action:o,onClick:c,disabled:d,style:m}){return p.createElement(Gv,{label:n,icon:r,renderIcon:a,className:Ze(`navigation_${o}`),disabled:d,onClick:c,style:m,...F5(Mo().focus,d)})}function s3({render:{buttonPrev:n,buttonNext:r,iconPrev:a,iconNext:o},styles:c}){const{prev:d,next:m,subscribeSensors:f}=Mo(),{prevDisabled:g,nextDisabled:x}=Zv();return t3(f),p.createElement(p.Fragment,null,n?n():p.createElement(Q0,{label:"Previous",action:$r,icon:L5,renderIcon:a,style:c.navigationPrev,disabled:g,onClick:d}),r?r():p.createElement(Q0,{label:"Next",action:Fr,icon:U5,renderIcon:o,style:c.navigationNext,disabled:x,onClick:m}))}const n3=Zr(n5,s3),J0=Ze(i5),r3=Ze(Nv);function a3(n){return"style"in n}function ey(n,r,a){const o=window.getComputedStyle(n),c=a?"padding-left":"padding-right",d=a?o.paddingLeft:o.paddingRight,m=n.style.getPropertyValue(c);return n.style.setProperty(c,`${(Fc(d)||0)+r}px`),()=>{m?n.style.setProperty(c,m):n.style.removeProperty(c)}}function l3({noScroll:{disabled:n},children:r}){const a=Lf(),{getOwnerDocument:o,getOwnerWindow:c}=Pf();return p.useEffect(()=>{if(n)return()=>{};const d=[],m=c(),{body:f,documentElement:g}=o(),x=Math.round(m.innerWidth-g.clientWidth);if(x>0){d.push(ey(f,x,a));const y=f.getElementsByTagName("*");for(let b=0;b<y.length;b+=1){const w=y[b];a3(w)&&m.getComputedStyle(w).getPropertyValue("position")==="fixed"&&!w.classList.contains(r3)&&d.push(ey(w,x,a))}}return f.classList.add(J0),()=>{f.classList.remove(J0),d.forEach(y=>y())}},[a,n,o,c]),p.createElement(p.Fragment,null,r)}const o3=Zr(r5,l3);function ty(n){return Ro(Af,n)}function sy(n,r,a){const o=n.getAttribute(r);return n.setAttribute(r,a),()=>{o?n.setAttribute(r,o):n.removeAttribute(r)}}function i3({children:n,animation:r,styles:a,className:o,on:c,portal:d,close:m,labels:f}){const[g,x]=p.useState(!1),[y,b]=p.useState(!1),w=p.useRef([]),S=p.useRef(null),{setTimeout:N}=Ic(),{subscribe:v}=Hc(),k=Wv()?0:r.fade;p.useEffect(()=>(x(!0),()=>{x(!1),b(!1)}),[]);const E=Ot(()=>{w.current.forEach(z=>z()),w.current=[]}),D=Ot(()=>{var z;b(!1),E(),(z=c.exiting)===null||z===void 0||z.call(c),N(()=>{var $;($=c.exited)===null||$===void 0||$.call(c),m()},k)});p.useEffect(()=>v(Qa,D),[v,D]);const L=Ot(z=>{var $,O,T;S5(z),b(!0),($=c.entering)===null||$===void 0||$.call(c);const P=(T=(O=z.parentNode)===null||O===void 0?void 0:O.children)!==null&&T!==void 0?T:[];for(let F=0;F<P.length;F+=1){const J=P[F];["TEMPLATE","SCRIPT","STYLE"].indexOf(J.tagName)===-1&&J!==z&&(w.current.push(sy(J,"inert","")),w.current.push(sy(J,"aria-hidden","true")))}w.current.push(()=>{var F,J;(J=(F=S.current)===null||F===void 0?void 0:F.focus)===null||J===void 0||J.call(F)}),N(()=>{var F;(F=c.entered)===null||F===void 0||F.call(c)},k)}),M=p.useCallback(z=>{z?L(z):E()},[L,E]);return g?nl.createPortal(p.createElement(I5,{ref:M,className:zn(o,Ze(ty()),Ze(Nv),y&&Ze(ty("open"))),"aria-modal":!0,role:"dialog","aria-label":Ja(f,"Lightbox"),style:{...r.fade!==tf.animation.fade?{[bs("fade_animation_duration")]:`${k}ms`}:null,...r.easing.fade!==tf.animation.easing.fade?{[bs("fade_animation_timing_function")]:r.easing.fade}:null,...a.root},onFocus:z=>{S.current||(S.current=z.relatedTarget)}},n),d.root||document.body):null}const c3=Zr(Af,i3);function d3({children:n}){return p.createElement(p.Fragment,null,n)}const u3=Zr(a5,d3);function m3(n){return Ro(jv,n)}function f3({toolbar:{buttons:n},render:{buttonClose:r,iconClose:a},styles:o}){const{close:c,setToolbarWidth:d}=Mo(),{setContainerRef:m,containerRect:f}=Xv();Do(()=>{d(f==null?void 0:f.width)},[d,f==null?void 0:f.width]);const g=()=>r?r():p.createElement(Gv,{key:Qa,label:"Close",icon:P5,renderIcon:a,onClick:c});return p.createElement("div",{ref:m,style:o.toolbar,className:Ze(m3())},n==null?void 0:n.map(x=>x===Qa?g():x))}const h3=Zr(jv,f3);function Qv(n,r){var a;return p.createElement(n.module.component,{key:n.module.name,...r},(a=n.children)===null||a===void 0?void 0:a.map(o=>Qv(o,r)))}function p3(n,r={}){const{easing:a,...o}=n,{easing:c,...d}=r;return{easing:{...a,...c},...o,...d}}function x3({carousel:n,animation:r,render:a,toolbar:o,controller:c,noScroll:d,on:m,plugins:f,slides:g,index:x,...y}){const{animation:b,carousel:w,render:S,toolbar:N,controller:v,noScroll:_,on:k,slides:E,index:D,plugins:L,...M}=tf,{config:z,augmentation:$}=_5([Yt(c3,[Yt(o3,[Yt(K5,[Yt(e3),Yt(h3),Yt(n3)])])])],f||L),O=$({animation:p3(b,r),carousel:{...w,...n},render:{...S,...a},toolbar:{...N,...o},controller:{...v,...c},noScroll:{..._,...d},on:{...k,...m},...M,...y});return O.open?p.createElement(R5,{...O},p.createElement(D5,{slides:g||E,index:Fc(x||D)},p.createElement(M5,null,p.createElement(k5,null,p.createElement(E5,null,Qv(Yt(u3,z),O)))))):null}function wt({className:n,type:r,...a}){return e.jsx("input",{type:r,"data-slot":"input",className:St("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...a})}var g3="Label",Jv=p.forwardRef((n,r)=>e.jsx(We.label,{...n,ref:r,onMouseDown:a=>{var c;a.target.closest("button, input, select, textarea")||((c=n.onMouseDown)==null||c.call(n,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Jv.displayName=g3;var y3=Jv;function Ge({className:n,...r}){return e.jsx(y3,{"data-slot":"label",className:St("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...r})}function sc({className:n,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:St("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...r})}function ny(n,[r,a]){return Math.min(a,Math.max(r,n))}function b3(n){const r=n+"CollectionProvider",[a,o]=rl(r),[c,d]=a(r,{collectionRef:{current:null},itemMap:new Map}),m=v=>{const{scope:_,children:k}=v,E=He.useRef(null),D=He.useRef(new Map).current;return e.jsx(c,{scope:_,itemMap:D,collectionRef:E,children:k})};m.displayName=r;const f=n+"CollectionSlot",g=Ka(f),x=He.forwardRef((v,_)=>{const{scope:k,children:E}=v,D=d(f,k),L=yt(_,D.collectionRef);return e.jsx(g,{ref:L,children:E})});x.displayName=f;const y=n+"CollectionItemSlot",b="data-radix-collection-item",w=Ka(y),S=He.forwardRef((v,_)=>{const{scope:k,children:E,...D}=v,L=He.useRef(null),M=yt(_,L),z=d(y,k);return He.useEffect(()=>(z.itemMap.set(L,{ref:L,...D}),()=>void z.itemMap.delete(L))),e.jsx(w,{[b]:"",ref:M,children:E})});S.displayName=y;function N(v){const _=d(n+"CollectionConsumer",v);return He.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const D=Array.from(E.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((z,$)=>D.indexOf(z.ref.current)-D.indexOf($.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:m,Slot:x,ItemSlot:S},N,o]}var v3=p.createContext(void 0);function j3(n){const r=p.useContext(v3);return n||r||"ltr"}const w3=["top","right","bottom","left"],pr=Math.min,Ms=Math.max,Nc=Math.round,nc=Math.floor,fn=n=>({x:n,y:n}),N3={left:"right",right:"left",bottom:"top",top:"bottom"},S3={start:"end",end:"start"};function nf(n,r,a){return Ms(n,pr(r,a))}function $n(n,r){return typeof n=="function"?n(r):n}function Fn(n){return n.split("-")[0]}function cl(n){return n.split("-")[1]}function Uf(n){return n==="x"?"y":"x"}function zf(n){return n==="y"?"height":"width"}const _3=new Set(["top","bottom"]);function mn(n){return _3.has(Fn(n))?"y":"x"}function Bf(n){return Uf(mn(n))}function E3(n,r,a){a===void 0&&(a=!1);const o=cl(n),c=Bf(n),d=zf(c);let m=c==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[d]>r.floating[d]&&(m=Sc(m)),[m,Sc(m)]}function C3(n){const r=Sc(n);return[rf(n),r,rf(r)]}function rf(n){return n.replace(/start|end/g,r=>S3[r])}const ry=["left","right"],ay=["right","left"],k3=["top","bottom"],R3=["bottom","top"];function T3(n,r,a){switch(n){case"top":case"bottom":return a?r?ay:ry:r?ry:ay;case"left":case"right":return r?k3:R3;default:return[]}}function A3(n,r,a,o){const c=cl(n);let d=T3(Fn(n),a==="start",o);return c&&(d=d.map(m=>m+"-"+c),r&&(d=d.concat(d.map(rf)))),d}function Sc(n){return n.replace(/left|right|bottom|top/g,r=>N3[r])}function D3(n){return{top:0,right:0,bottom:0,left:0,...n}}function ej(n){return typeof n!="number"?D3(n):{top:n,right:n,bottom:n,left:n}}function _c(n){const{x:r,y:a,width:o,height:c}=n;return{width:o,height:c,top:a,left:r,right:r+o,bottom:a+c,x:r,y:a}}function ly(n,r,a){let{reference:o,floating:c}=n;const d=mn(r),m=Bf(r),f=zf(m),g=Fn(r),x=d==="y",y=o.x+o.width/2-c.width/2,b=o.y+o.height/2-c.height/2,w=o[f]/2-c[f]/2;let S;switch(g){case"top":S={x:y,y:o.y-c.height};break;case"bottom":S={x:y,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:b};break;case"left":S={x:o.x-c.width,y:b};break;default:S={x:o.x,y:o.y}}switch(cl(r)){case"start":S[m]-=w*(a&&x?-1:1);break;case"end":S[m]+=w*(a&&x?-1:1);break}return S}const M3=async(n,r,a)=>{const{placement:o="bottom",strategy:c="absolute",middleware:d=[],platform:m}=a,f=d.filter(Boolean),g=await(m.isRTL==null?void 0:m.isRTL(r));let x=await m.getElementRects({reference:n,floating:r,strategy:c}),{x:y,y:b}=ly(x,o,g),w=o,S={},N=0;for(let v=0;v<f.length;v++){const{name:_,fn:k}=f[v],{x:E,y:D,data:L,reset:M}=await k({x:y,y:b,initialPlacement:o,placement:w,strategy:c,middlewareData:S,rects:x,platform:m,elements:{reference:n,floating:r}});y=E??y,b=D??b,S={...S,[_]:{...S[_],...L}},M&&N<=50&&(N++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(x=M.rects===!0?await m.getElementRects({reference:n,floating:r,strategy:c}):M.rects),{x:y,y:b}=ly(x,w,g)),v=-1)}return{x:y,y:b,placement:w,strategy:c,middlewareData:S}};async function bo(n,r){var a;r===void 0&&(r={});const{x:o,y:c,platform:d,rects:m,elements:f,strategy:g}=n,{boundary:x="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:w=!1,padding:S=0}=$n(r,n),N=ej(S),_=f[w?b==="floating"?"reference":"floating":b],k=_c(await d.getClippingRect({element:(a=await(d.isElement==null?void 0:d.isElement(_)))==null||a?_:_.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(f.floating)),boundary:x,rootBoundary:y,strategy:g})),E=b==="floating"?{x:o,y:c,width:m.floating.width,height:m.floating.height}:m.reference,D=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f.floating)),L=await(d.isElement==null?void 0:d.isElement(D))?await(d.getScale==null?void 0:d.getScale(D))||{x:1,y:1}:{x:1,y:1},M=_c(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:E,offsetParent:D,strategy:g}):E);return{top:(k.top-M.top+N.top)/L.y,bottom:(M.bottom-k.bottom+N.bottom)/L.y,left:(k.left-M.left+N.left)/L.x,right:(M.right-k.right+N.right)/L.x}}const O3=n=>({name:"arrow",options:n,async fn(r){const{x:a,y:o,placement:c,rects:d,platform:m,elements:f,middlewareData:g}=r,{element:x,padding:y=0}=$n(n,r)||{};if(x==null)return{};const b=ej(y),w={x:a,y:o},S=Bf(c),N=zf(S),v=await m.getDimensions(x),_=S==="y",k=_?"top":"left",E=_?"bottom":"right",D=_?"clientHeight":"clientWidth",L=d.reference[N]+d.reference[S]-w[S]-d.floating[N],M=w[S]-d.reference[S],z=await(m.getOffsetParent==null?void 0:m.getOffsetParent(x));let $=z?z[D]:0;(!$||!await(m.isElement==null?void 0:m.isElement(z)))&&($=f.floating[D]||d.floating[N]);const O=L/2-M/2,T=$/2-v[N]/2-1,P=pr(b[k],T),F=pr(b[E],T),J=P,Z=$-v[N]-F,oe=$/2-v[N]/2+O,ae=nf(J,oe,Z),U=!g.arrow&&cl(c)!=null&&oe!==ae&&d.reference[N]/2-(oe<J?P:F)-v[N]/2<0,G=U?oe<J?oe-J:oe-Z:0;return{[S]:w[S]+G,data:{[S]:ae,centerOffset:oe-ae-G,...U&&{alignmentOffset:G}},reset:U}}}),P3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var a,o;const{placement:c,middlewareData:d,rects:m,initialPlacement:f,platform:g,elements:x}=r,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:v=!0,..._}=$n(n,r);if((a=d.arrow)!=null&&a.alignmentOffset)return{};const k=Fn(c),E=mn(f),D=Fn(f)===f,L=await(g.isRTL==null?void 0:g.isRTL(x.floating)),M=w||(D||!v?[Sc(f)]:C3(f)),z=N!=="none";!w&&z&&M.push(...A3(f,v,N,L));const $=[f,...M],O=await bo(r,_),T=[];let P=((o=d.flip)==null?void 0:o.overflows)||[];if(y&&T.push(O[k]),b){const oe=E3(c,m,L);T.push(O[oe[0]],O[oe[1]])}if(P=[...P,{placement:c,overflows:T}],!T.every(oe=>oe<=0)){var F,J;const oe=(((F=d.flip)==null?void 0:F.index)||0)+1,ae=$[oe];if(ae&&(!(b==="alignment"?E!==mn(ae):!1)||P.every(Y=>Y.overflows[0]>0&&mn(Y.placement)===E)))return{data:{index:oe,overflows:P},reset:{placement:ae}};let U=(J=P.filter(G=>G.overflows[0]<=0).sort((G,Y)=>G.overflows[1]-Y.overflows[1])[0])==null?void 0:J.placement;if(!U)switch(S){case"bestFit":{var Z;const G=(Z=P.filter(Y=>{if(z){const xe=mn(Y.placement);return xe===E||xe==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(xe=>xe>0).reduce((xe,C)=>xe+C,0)]).sort((Y,xe)=>Y[1]-xe[1])[0])==null?void 0:Z[0];G&&(U=G);break}case"initialPlacement":U=f;break}if(c!==U)return{reset:{placement:U}}}return{}}}};function oy(n,r){return{top:n.top-r.height,right:n.right-r.width,bottom:n.bottom-r.height,left:n.left-r.width}}function iy(n){return w3.some(r=>n[r]>=0)}const L3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(r){const{rects:a}=r,{strategy:o="referenceHidden",...c}=$n(n,r);switch(o){case"referenceHidden":{const d=await bo(r,{...c,elementContext:"reference"}),m=oy(d,a.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:iy(m)}}}case"escaped":{const d=await bo(r,{...c,altBoundary:!0}),m=oy(d,a.floating);return{data:{escapedOffsets:m,escaped:iy(m)}}}default:return{}}}}},tj=new Set(["left","top"]);async function U3(n,r){const{placement:a,platform:o,elements:c}=n,d=await(o.isRTL==null?void 0:o.isRTL(c.floating)),m=Fn(a),f=cl(a),g=mn(a)==="y",x=tj.has(m)?-1:1,y=d&&g?-1:1,b=$n(r,n);let{mainAxis:w,crossAxis:S,alignmentAxis:N}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof N=="number"&&(S=f==="end"?N*-1:N),g?{x:S*y,y:w*x}:{x:w*x,y:S*y}}const z3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var a,o;const{x:c,y:d,placement:m,middlewareData:f}=r,g=await U3(r,n);return m===((a=f.offset)==null?void 0:a.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:m}}}}},B3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:a,y:o,placement:c}=r,{mainAxis:d=!0,crossAxis:m=!1,limiter:f={fn:_=>{let{x:k,y:E}=_;return{x:k,y:E}}},...g}=$n(n,r),x={x:a,y:o},y=await bo(r,g),b=mn(Fn(c)),w=Uf(b);let S=x[w],N=x[b];if(d){const _=w==="y"?"top":"left",k=w==="y"?"bottom":"right",E=S+y[_],D=S-y[k];S=nf(E,S,D)}if(m){const _=b==="y"?"top":"left",k=b==="y"?"bottom":"right",E=N+y[_],D=N-y[k];N=nf(E,N,D)}const v=f.fn({...r,[w]:S,[b]:N});return{...v,data:{x:v.x-a,y:v.y-o,enabled:{[w]:d,[b]:m}}}}}},$3=function(n){return n===void 0&&(n={}),{options:n,fn(r){const{x:a,y:o,placement:c,rects:d,middlewareData:m}=r,{offset:f=0,mainAxis:g=!0,crossAxis:x=!0}=$n(n,r),y={x:a,y:o},b=mn(c),w=Uf(b);let S=y[w],N=y[b];const v=$n(f,r),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(g){const D=w==="y"?"height":"width",L=d.reference[w]-d.floating[D]+_.mainAxis,M=d.reference[w]+d.reference[D]-_.mainAxis;S<L?S=L:S>M&&(S=M)}if(x){var k,E;const D=w==="y"?"width":"height",L=tj.has(Fn(c)),M=d.reference[b]-d.floating[D]+(L&&((k=m.offset)==null?void 0:k[b])||0)+(L?0:_.crossAxis),z=d.reference[b]+d.reference[D]+(L?0:((E=m.offset)==null?void 0:E[b])||0)-(L?_.crossAxis:0);N<M?N=M:N>z&&(N=z)}return{[w]:S,[b]:N}}}},F3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){var a,o;const{placement:c,rects:d,platform:m,elements:f}=r,{apply:g=()=>{},...x}=$n(n,r),y=await bo(r,x),b=Fn(c),w=cl(c),S=mn(c)==="y",{width:N,height:v}=d.floating;let _,k;b==="top"||b==="bottom"?(_=b,k=w===(await(m.isRTL==null?void 0:m.isRTL(f.floating))?"start":"end")?"left":"right"):(k=b,_=w==="end"?"top":"bottom");const E=v-y.top-y.bottom,D=N-y.left-y.right,L=pr(v-y[_],E),M=pr(N-y[k],D),z=!r.middlewareData.shift;let $=L,O=M;if((a=r.middlewareData.shift)!=null&&a.enabled.x&&(O=D),(o=r.middlewareData.shift)!=null&&o.enabled.y&&($=E),z&&!w){const P=Ms(y.left,0),F=Ms(y.right,0),J=Ms(y.top,0),Z=Ms(y.bottom,0);S?O=N-2*(P!==0||F!==0?P+F:Ms(y.left,y.right)):$=v-2*(J!==0||Z!==0?J+Z:Ms(y.top,y.bottom))}await g({...r,availableWidth:O,availableHeight:$});const T=await m.getDimensions(f.floating);return N!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function Vc(){return typeof window<"u"}function dl(n){return sj(n)?(n.nodeName||"").toLowerCase():"#document"}function Ps(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function yn(n){var r;return(r=(sj(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function sj(n){return Vc()?n instanceof Node||n instanceof Ps(n).Node:!1}function Qs(n){return Vc()?n instanceof Element||n instanceof Ps(n).Element:!1}function pn(n){return Vc()?n instanceof HTMLElement||n instanceof Ps(n).HTMLElement:!1}function cy(n){return!Vc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ps(n).ShadowRoot}const H3=new Set(["inline","contents"]);function Oo(n){const{overflow:r,overflowX:a,overflowY:o,display:c}=Js(n);return/auto|scroll|overlay|hidden|clip/.test(r+o+a)&&!H3.has(c)}const q3=new Set(["table","td","th"]);function I3(n){return q3.has(dl(n))}const V3=[":popover-open",":modal"];function Yc(n){return V3.some(r=>{try{return n.matches(r)}catch{return!1}})}const Y3=["transform","translate","scale","rotate","perspective"],G3=["transform","translate","scale","rotate","perspective","filter"],W3=["paint","layout","strict","content"];function $f(n){const r=Ff(),a=Qs(n)?Js(n):n;return Y3.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!r&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!r&&(a.filter?a.filter!=="none":!1)||G3.some(o=>(a.willChange||"").includes(o))||W3.some(o=>(a.contain||"").includes(o))}function X3(n){let r=xr(n);for(;pn(r)&&!el(r);){if($f(r))return r;if(Yc(r))return null;r=xr(r)}return null}function Ff(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const K3=new Set(["html","body","#document"]);function el(n){return K3.has(dl(n))}function Js(n){return Ps(n).getComputedStyle(n)}function Gc(n){return Qs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function xr(n){if(dl(n)==="html")return n;const r=n.assignedSlot||n.parentNode||cy(n)&&n.host||yn(n);return cy(r)?r.host:r}function nj(n){const r=xr(n);return el(r)?n.ownerDocument?n.ownerDocument.body:n.body:pn(r)&&Oo(r)?r:nj(r)}function vo(n,r,a){var o;r===void 0&&(r=[]),a===void 0&&(a=!0);const c=nj(n),d=c===((o=n.ownerDocument)==null?void 0:o.body),m=Ps(c);if(d){const f=af(m);return r.concat(m,m.visualViewport||[],Oo(c)?c:[],f&&a?vo(f):[])}return r.concat(c,vo(c,[],a))}function af(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rj(n){const r=Js(n);let a=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const c=pn(n),d=c?n.offsetWidth:a,m=c?n.offsetHeight:o,f=Nc(a)!==d||Nc(o)!==m;return f&&(a=d,o=m),{width:a,height:o,$:f}}function Hf(n){return Qs(n)?n:n.contextElement}function Xa(n){const r=Hf(n);if(!pn(r))return fn(1);const a=r.getBoundingClientRect(),{width:o,height:c,$:d}=rj(r);let m=(d?Nc(a.width):a.width)/o,f=(d?Nc(a.height):a.height)/c;return(!m||!Number.isFinite(m))&&(m=1),(!f||!Number.isFinite(f))&&(f=1),{x:m,y:f}}const Z3=fn(0);function aj(n){const r=Ps(n);return!Ff()||!r.visualViewport?Z3:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Q3(n,r,a){return r===void 0&&(r=!1),!a||r&&a!==Ps(n)?!1:r}function Wr(n,r,a,o){r===void 0&&(r=!1),a===void 0&&(a=!1);const c=n.getBoundingClientRect(),d=Hf(n);let m=fn(1);r&&(o?Qs(o)&&(m=Xa(o)):m=Xa(n));const f=Q3(d,a,o)?aj(d):fn(0);let g=(c.left+f.x)/m.x,x=(c.top+f.y)/m.y,y=c.width/m.x,b=c.height/m.y;if(d){const w=Ps(d),S=o&&Qs(o)?Ps(o):o;let N=w,v=af(N);for(;v&&o&&S!==N;){const _=Xa(v),k=v.getBoundingClientRect(),E=Js(v),D=k.left+(v.clientLeft+parseFloat(E.paddingLeft))*_.x,L=k.top+(v.clientTop+parseFloat(E.paddingTop))*_.y;g*=_.x,x*=_.y,y*=_.x,b*=_.y,g+=D,x+=L,N=Ps(v),v=af(N)}}return _c({width:y,height:b,x:g,y:x})}function qf(n,r){const a=Gc(n).scrollLeft;return r?r.left+a:Wr(yn(n)).left+a}function lj(n,r,a){a===void 0&&(a=!1);const o=n.getBoundingClientRect(),c=o.left+r.scrollLeft-(a?0:qf(n,o)),d=o.top+r.scrollTop;return{x:c,y:d}}function J3(n){let{elements:r,rect:a,offsetParent:o,strategy:c}=n;const d=c==="fixed",m=yn(o),f=r?Yc(r.floating):!1;if(o===m||f&&d)return a;let g={scrollLeft:0,scrollTop:0},x=fn(1);const y=fn(0),b=pn(o);if((b||!b&&!d)&&((dl(o)!=="body"||Oo(m))&&(g=Gc(o)),pn(o))){const S=Wr(o);x=Xa(o),y.x=S.x+o.clientLeft,y.y=S.y+o.clientTop}const w=m&&!b&&!d?lj(m,g,!0):fn(0);return{width:a.width*x.x,height:a.height*x.y,x:a.x*x.x-g.scrollLeft*x.x+y.x+w.x,y:a.y*x.y-g.scrollTop*x.y+y.y+w.y}}function ek(n){return Array.from(n.getClientRects())}function tk(n){const r=yn(n),a=Gc(n),o=n.ownerDocument.body,c=Ms(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),d=Ms(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let m=-a.scrollLeft+qf(n);const f=-a.scrollTop;return Js(o).direction==="rtl"&&(m+=Ms(r.clientWidth,o.clientWidth)-c),{width:c,height:d,x:m,y:f}}function sk(n,r){const a=Ps(n),o=yn(n),c=a.visualViewport;let d=o.clientWidth,m=o.clientHeight,f=0,g=0;if(c){d=c.width,m=c.height;const x=Ff();(!x||x&&r==="fixed")&&(f=c.offsetLeft,g=c.offsetTop)}return{width:d,height:m,x:f,y:g}}const nk=new Set(["absolute","fixed"]);function rk(n,r){const a=Wr(n,!0,r==="fixed"),o=a.top+n.clientTop,c=a.left+n.clientLeft,d=pn(n)?Xa(n):fn(1),m=n.clientWidth*d.x,f=n.clientHeight*d.y,g=c*d.x,x=o*d.y;return{width:m,height:f,x:g,y:x}}function dy(n,r,a){let o;if(r==="viewport")o=sk(n,a);else if(r==="document")o=tk(yn(n));else if(Qs(r))o=rk(r,a);else{const c=aj(n);o={x:r.x-c.x,y:r.y-c.y,width:r.width,height:r.height}}return _c(o)}function oj(n,r){const a=xr(n);return a===r||!Qs(a)||el(a)?!1:Js(a).position==="fixed"||oj(a,r)}function ak(n,r){const a=r.get(n);if(a)return a;let o=vo(n,[],!1).filter(f=>Qs(f)&&dl(f)!=="body"),c=null;const d=Js(n).position==="fixed";let m=d?xr(n):n;for(;Qs(m)&&!el(m);){const f=Js(m),g=$f(m);!g&&f.position==="fixed"&&(c=null),(d?!g&&!c:!g&&f.position==="static"&&!!c&&nk.has(c.position)||Oo(m)&&!g&&oj(n,m))?o=o.filter(y=>y!==m):c=f,m=xr(m)}return r.set(n,o),o}function lk(n){let{element:r,boundary:a,rootBoundary:o,strategy:c}=n;const m=[...a==="clippingAncestors"?Yc(r)?[]:ak(r,this._c):[].concat(a),o],f=m[0],g=m.reduce((x,y)=>{const b=dy(r,y,c);return x.top=Ms(b.top,x.top),x.right=pr(b.right,x.right),x.bottom=pr(b.bottom,x.bottom),x.left=Ms(b.left,x.left),x},dy(r,f,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function ok(n){const{width:r,height:a}=rj(n);return{width:r,height:a}}function ik(n,r,a){const o=pn(r),c=yn(r),d=a==="fixed",m=Wr(n,!0,d,r);let f={scrollLeft:0,scrollTop:0};const g=fn(0);function x(){g.x=qf(c)}if(o||!o&&!d)if((dl(r)!=="body"||Oo(c))&&(f=Gc(r)),o){const S=Wr(r,!0,d,r);g.x=S.x+r.clientLeft,g.y=S.y+r.clientTop}else c&&x();d&&!o&&c&&x();const y=c&&!o&&!d?lj(c,f):fn(0),b=m.left+f.scrollLeft-g.x-y.x,w=m.top+f.scrollTop-g.y-y.y;return{x:b,y:w,width:m.width,height:m.height}}function Lm(n){return Js(n).position==="static"}function uy(n,r){if(!pn(n)||Js(n).position==="fixed")return null;if(r)return r(n);let a=n.offsetParent;return yn(n)===a&&(a=a.ownerDocument.body),a}function ij(n,r){const a=Ps(n);if(Yc(n))return a;if(!pn(n)){let c=xr(n);for(;c&&!el(c);){if(Qs(c)&&!Lm(c))return c;c=xr(c)}return a}let o=uy(n,r);for(;o&&I3(o)&&Lm(o);)o=uy(o,r);return o&&el(o)&&Lm(o)&&!$f(o)?a:o||X3(n)||a}const ck=async function(n){const r=this.getOffsetParent||ij,a=this.getDimensions,o=await a(n.floating);return{reference:ik(n.reference,await r(n.floating),n.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function dk(n){return Js(n).direction==="rtl"}const uk={convertOffsetParentRelativeRectToViewportRelativeRect:J3,getDocumentElement:yn,getClippingRect:lk,getOffsetParent:ij,getElementRects:ck,getClientRects:ek,getDimensions:ok,getScale:Xa,isElement:Qs,isRTL:dk};function cj(n,r){return n.x===r.x&&n.y===r.y&&n.width===r.width&&n.height===r.height}function mk(n,r){let a=null,o;const c=yn(n);function d(){var f;clearTimeout(o),(f=a)==null||f.disconnect(),a=null}function m(f,g){f===void 0&&(f=!1),g===void 0&&(g=1),d();const x=n.getBoundingClientRect(),{left:y,top:b,width:w,height:S}=x;if(f||r(),!w||!S)return;const N=nc(b),v=nc(c.clientWidth-(y+w)),_=nc(c.clientHeight-(b+S)),k=nc(y),D={rootMargin:-N+"px "+-v+"px "+-_+"px "+-k+"px",threshold:Ms(0,pr(1,g))||1};let L=!0;function M(z){const $=z[0].intersectionRatio;if($!==g){if(!L)return m();$?m(!1,$):o=setTimeout(()=>{m(!1,1e-7)},1e3)}$===1&&!cj(x,n.getBoundingClientRect())&&m(),L=!1}try{a=new IntersectionObserver(M,{...D,root:c.ownerDocument})}catch{a=new IntersectionObserver(M,D)}a.observe(n)}return m(!0),d}function fk(n,r,a,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:g=!1}=o,x=Hf(n),y=c||d?[...x?vo(x):[],...vo(r)]:[];y.forEach(k=>{c&&k.addEventListener("scroll",a,{passive:!0}),d&&k.addEventListener("resize",a)});const b=x&&f?mk(x,a):null;let w=-1,S=null;m&&(S=new ResizeObserver(k=>{let[E]=k;E&&E.target===x&&S&&(S.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var D;(D=S)==null||D.observe(r)})),a()}),x&&!g&&S.observe(x),S.observe(r));let N,v=g?Wr(n):null;g&&_();function _(){const k=Wr(n);v&&!cj(v,k)&&a(),v=k,N=requestAnimationFrame(_)}return a(),()=>{var k;y.forEach(E=>{c&&E.removeEventListener("scroll",a),d&&E.removeEventListener("resize",a)}),b==null||b(),(k=S)==null||k.disconnect(),S=null,g&&cancelAnimationFrame(N)}}const hk=z3,pk=B3,xk=P3,gk=F3,yk=L3,my=O3,bk=$3,vk=(n,r,a)=>{const o=new Map,c={platform:uk,...a},d={...c.platform,_c:o};return M3(n,r,{...c,platform:d})};var jk=typeof document<"u",wk=function(){},fc=jk?p.useLayoutEffect:wk;function Ec(n,r){if(n===r)return!0;if(typeof n!=typeof r)return!1;if(typeof n=="function"&&n.toString()===r.toString())return!0;let a,o,c;if(n&&r&&typeof n=="object"){if(Array.isArray(n)){if(a=n.length,a!==r.length)return!1;for(o=a;o--!==0;)if(!Ec(n[o],r[o]))return!1;return!0}if(c=Object.keys(n),a=c.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!{}.hasOwnProperty.call(r,c[o]))return!1;for(o=a;o--!==0;){const d=c[o];if(!(d==="_owner"&&n.$$typeof)&&!Ec(n[d],r[d]))return!1}return!0}return n!==n&&r!==r}function dj(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function fy(n,r){const a=dj(n);return Math.round(r*a)/a}function Um(n){const r=p.useRef(n);return fc(()=>{r.current=n}),r}function Nk(n){n===void 0&&(n={});const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c,elements:{reference:d,floating:m}={},transform:f=!0,whileElementsMounted:g,open:x}=n,[y,b]=p.useState({x:0,y:0,strategy:a,placement:r,middlewareData:{},isPositioned:!1}),[w,S]=p.useState(o);Ec(w,o)||S(o);const[N,v]=p.useState(null),[_,k]=p.useState(null),E=p.useCallback(Y=>{Y!==z.current&&(z.current=Y,v(Y))},[]),D=p.useCallback(Y=>{Y!==$.current&&($.current=Y,k(Y))},[]),L=d||N,M=m||_,z=p.useRef(null),$=p.useRef(null),O=p.useRef(y),T=g!=null,P=Um(g),F=Um(c),J=Um(x),Z=p.useCallback(()=>{if(!z.current||!$.current)return;const Y={placement:r,strategy:a,middleware:w};F.current&&(Y.platform=F.current),vk(z.current,$.current,Y).then(xe=>{const C={...xe,isPositioned:J.current!==!1};oe.current&&!Ec(O.current,C)&&(O.current=C,nl.flushSync(()=>{b(C)}))})},[w,r,a,F,J]);fc(()=>{x===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,b(Y=>({...Y,isPositioned:!1})))},[x]);const oe=p.useRef(!1);fc(()=>(oe.current=!0,()=>{oe.current=!1}),[]),fc(()=>{if(L&&(z.current=L),M&&($.current=M),L&&M){if(P.current)return P.current(L,M,Z);Z()}},[L,M,Z,P,T]);const ae=p.useMemo(()=>({reference:z,floating:$,setReference:E,setFloating:D}),[E,D]),U=p.useMemo(()=>({reference:L,floating:M}),[L,M]),G=p.useMemo(()=>{const Y={position:a,left:0,top:0};if(!U.floating)return Y;const xe=fy(U.floating,y.x),C=fy(U.floating,y.y);return f?{...Y,transform:"translate("+xe+"px, "+C+"px)",...dj(U.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:xe,top:C}},[a,f,U.floating,y.x,y.y]);return p.useMemo(()=>({...y,update:Z,refs:ae,elements:U,floatingStyles:G}),[y,Z,ae,U,G])}const Sk=n=>{function r(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:n,fn(a){const{element:o,padding:c}=typeof n=="function"?n(a):n;return o&&r(o)?o.current!=null?my({element:o.current,padding:c}).fn(a):{}:o?my({element:o,padding:c}).fn(a):{}}}},_k=(n,r)=>({...hk(n),options:[n,r]}),Ek=(n,r)=>({...pk(n),options:[n,r]}),Ck=(n,r)=>({...bk(n),options:[n,r]}),kk=(n,r)=>({...xk(n),options:[n,r]}),Rk=(n,r)=>({...gk(n),options:[n,r]}),Tk=(n,r)=>({...yk(n),options:[n,r]}),Ak=(n,r)=>({...Sk(n),options:[n,r]});var Dk="Arrow",uj=p.forwardRef((n,r)=>{const{children:a,width:o=10,height:c=5,...d}=n;return e.jsx(We.svg,{...d,ref:r,width:o,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});uj.displayName=Dk;var Mk=uj;function mj(n){const[r,a]=p.useState(void 0);return ls(()=>{if(n){a({width:n.offsetWidth,height:n.offsetHeight});const o=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let m,f;if("borderBoxSize"in d){const g=d.borderBoxSize,x=Array.isArray(g)?g[0]:g;m=x.inlineSize,f=x.blockSize}else m=n.offsetWidth,f=n.offsetHeight;a({width:m,height:f})});return o.observe(n,{box:"border-box"}),()=>o.unobserve(n)}else a(void 0)},[n]),r}var If="Popper",[fj,hj]=rl(If),[Ok,pj]=fj(If),xj=n=>{const{__scopePopper:r,children:a}=n,[o,c]=p.useState(null);return e.jsx(Ok,{scope:r,anchor:o,onAnchorChange:c,children:a})};xj.displayName=If;var gj="PopperAnchor",yj=p.forwardRef((n,r)=>{const{__scopePopper:a,virtualRef:o,...c}=n,d=pj(gj,a),m=p.useRef(null),f=yt(r,m);return p.useEffect(()=>{d.onAnchorChange((o==null?void 0:o.current)||m.current)}),o?null:e.jsx(We.div,{...c,ref:f})});yj.displayName=gj;var Vf="PopperContent",[Pk,Lk]=fj(Vf),bj=p.forwardRef((n,r)=>{var ce,he,ie,be,ke,Re;const{__scopePopper:a,side:o="bottom",sideOffset:c=0,align:d="center",alignOffset:m=0,arrowPadding:f=0,avoidCollisions:g=!0,collisionBoundary:x=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:N,...v}=n,_=pj(Vf,a),[k,E]=p.useState(null),D=yt(r,Qe=>E(Qe)),[L,M]=p.useState(null),z=mj(L),$=(z==null?void 0:z.width)??0,O=(z==null?void 0:z.height)??0,T=o+(d!=="center"?"-"+d:""),P=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},F=Array.isArray(x)?x:[x],J=F.length>0,Z={padding:P,boundary:F.filter(zk),altBoundary:J},{refs:oe,floatingStyles:ae,placement:U,isPositioned:G,middlewareData:Y}=Nk({strategy:"fixed",placement:T,whileElementsMounted:(...Qe)=>fk(...Qe,{animationFrame:S==="always"}),elements:{reference:_.anchor},middleware:[_k({mainAxis:c+O,alignmentAxis:m}),g&&Ek({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?Ck():void 0,...Z}),g&&kk({...Z}),Rk({...Z,apply:({elements:Qe,rects:ct,availableWidth:_t,availableHeight:At})=>{const{width:qe,height:rt}=ct.reference,Wt=Qe.floating.style;Wt.setProperty("--radix-popper-available-width",`${_t}px`),Wt.setProperty("--radix-popper-available-height",`${At}px`),Wt.setProperty("--radix-popper-anchor-width",`${qe}px`),Wt.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),L&&Ak({element:L,padding:f}),Bk({arrowWidth:$,arrowHeight:O}),w&&Tk({strategy:"referenceHidden",...Z})]}),[xe,C]=wj(U),H=Vr(N);ls(()=>{G&&(H==null||H())},[G,H]);const V=(ce=Y.arrow)==null?void 0:ce.x,X=(he=Y.arrow)==null?void 0:he.y,se=((ie=Y.arrow)==null?void 0:ie.centerOffset)!==0,[le,ye]=p.useState();return ls(()=>{k&&ye(window.getComputedStyle(k).zIndex)},[k]),e.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:G?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(be=Y.transformOrigin)==null?void 0:be.x,(ke=Y.transformOrigin)==null?void 0:ke.y].join(" "),...((Re=Y.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:e.jsx(Pk,{scope:a,placedSide:xe,onArrowChange:M,arrowX:V,arrowY:X,shouldHideArrow:se,children:e.jsx(We.div,{"data-side":xe,"data-align":C,...v,ref:D,style:{...v.style,animation:G?void 0:"none"}})})})});bj.displayName=Vf;var vj="PopperArrow",Uk={top:"bottom",right:"left",bottom:"top",left:"right"},jj=p.forwardRef(function(r,a){const{__scopePopper:o,...c}=r,d=Lk(vj,o),m=Uk[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[m]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(Mk,{...c,ref:a,style:{...c.style,display:"block"}})})});jj.displayName=vj;function zk(n){return n!==null}var Bk=n=>({name:"transformOrigin",options:n,fn(r){var _,k,E;const{placement:a,rects:o,middlewareData:c}=r,m=((_=c.arrow)==null?void 0:_.centerOffset)!==0,f=m?0:n.arrowWidth,g=m?0:n.arrowHeight,[x,y]=wj(a),b={start:"0%",center:"50%",end:"100%"}[y],w=(((k=c.arrow)==null?void 0:k.x)??0)+f/2,S=(((E=c.arrow)==null?void 0:E.y)??0)+g/2;let N="",v="";return x==="bottom"?(N=m?b:`${w}px`,v=`${-g}px`):x==="top"?(N=m?b:`${w}px`,v=`${o.floating.height+g}px`):x==="right"?(N=`${-g}px`,v=m?b:`${S}px`):x==="left"&&(N=`${o.floating.width+g}px`,v=m?b:`${S}px`),{data:{x:N,y:v}}}});function wj(n){const[r,a="center"]=n.split("-");return[r,a]}var $k=xj,Fk=yj,Hk=bj,qk=jj;function Nj(n){const r=p.useRef({value:n,previous:n});return p.useMemo(()=>(r.current.value!==n&&(r.current.previous=r.current.value,r.current.value=n),r.current.previous),[n])}var Sj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ik="VisuallyHidden",Vk=p.forwardRef((n,r)=>e.jsx(We.span,{...n,ref:r,style:{...Sj,...n.style}}));Vk.displayName=Ik;var Yk=[" ","Enter","ArrowUp","ArrowDown"],Gk=[" ","Enter"],Xr="Select",[Wc,Xc,Wk]=b3(Xr),[ul,hT]=rl(Xr,[Wk,hj]),Kc=hj(),[Xk,br]=ul(Xr),[Kk,Zk]=ul(Xr),_j=n=>{const{__scopeSelect:r,children:a,open:o,defaultOpen:c,onOpenChange:d,value:m,defaultValue:f,onValueChange:g,dir:x,name:y,autoComplete:b,disabled:w,required:S,form:N}=n,v=Kc(r),[_,k]=p.useState(null),[E,D]=p.useState(null),[L,M]=p.useState(!1),z=j3(x),[$,O]=pc({prop:o,defaultProp:c??!1,onChange:d,caller:Xr}),[T,P]=pc({prop:m,defaultProp:f,onChange:g,caller:Xr}),F=p.useRef(null),J=_?N||!!_.closest("form"):!0,[Z,oe]=p.useState(new Set),ae=Array.from(Z).map(U=>U.props.value).join(";");return e.jsx($k,{...v,children:e.jsxs(Xk,{required:S,scope:r,trigger:_,onTriggerChange:k,valueNode:E,onValueNodeChange:D,valueNodeHasChildren:L,onValueNodeHasChildrenChange:M,contentId:Ga(),value:T,onValueChange:P,open:$,onOpenChange:O,dir:z,triggerPointerDownPosRef:F,disabled:w,children:[e.jsx(Wc.Provider,{scope:r,children:e.jsx(Kk,{scope:n.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{oe(G=>new Set(G).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{oe(G=>{const Y=new Set(G);return Y.delete(U),Y})},[]),children:a})}),J?e.jsxs(Gj,{"aria-hidden":!0,required:S,tabIndex:-1,name:y,autoComplete:b,value:T,onChange:U=>P(U.target.value),disabled:w,form:N,children:[T===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},ae):null]})})};_j.displayName=Xr;var Ej="SelectTrigger",Cj=p.forwardRef((n,r)=>{const{__scopeSelect:a,disabled:o=!1,...c}=n,d=Kc(a),m=br(Ej,a),f=m.disabled||o,g=yt(r,m.onTriggerChange),x=Xc(a),y=p.useRef("touch"),[b,w,S]=Xj(v=>{const _=x().filter(D=>!D.disabled),k=_.find(D=>D.value===m.value),E=Kj(_,v,k);E!==void 0&&m.onValueChange(E.value)}),N=v=>{f||(m.onOpenChange(!0),S()),v&&(m.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(Fk,{asChild:!0,...d,children:e.jsx(We.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Wj(m.value)?"":void 0,...c,ref:g,onClick:lt(c.onClick,v=>{v.currentTarget.focus(),y.current!=="mouse"&&N(v)}),onPointerDown:lt(c.onPointerDown,v=>{y.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(N(v),v.preventDefault())}),onKeyDown:lt(c.onKeyDown,v=>{const _=b.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&w(v.key),!(_&&v.key===" ")&&Yk.includes(v.key)&&(N(),v.preventDefault())})})})});Cj.displayName=Ej;var kj="SelectValue",Rj=p.forwardRef((n,r)=>{const{__scopeSelect:a,className:o,style:c,children:d,placeholder:m="",...f}=n,g=br(kj,a),{onValueNodeHasChildrenChange:x}=g,y=d!==void 0,b=yt(r,g.onValueNodeChange);return ls(()=>{x(y)},[x,y]),e.jsx(We.span,{...f,ref:b,style:{pointerEvents:"none"},children:Wj(g.value)?e.jsx(e.Fragment,{children:m}):d})});Rj.displayName=kj;var Qk="SelectIcon",Tj=p.forwardRef((n,r)=>{const{__scopeSelect:a,children:o,...c}=n;return e.jsx(We.span,{"aria-hidden":!0,...c,ref:r,children:o||""})});Tj.displayName=Qk;var Jk="SelectPortal",Aj=n=>e.jsx(vf,{asChild:!0,...n});Aj.displayName=Jk;var Kr="SelectContent",Dj=p.forwardRef((n,r)=>{const a=br(Kr,n.__scopeSelect),[o,c]=p.useState();if(ls(()=>{c(new DocumentFragment)},[]),!a.open){const d=o;return d?nl.createPortal(e.jsx(Mj,{scope:n.__scopeSelect,children:e.jsx(Wc.Slot,{scope:n.__scopeSelect,children:e.jsx("div",{children:n.children})})}),d):null}return e.jsx(Oj,{...n,ref:r})});Dj.displayName=Kr;var Xs=10,[Mj,vr]=ul(Kr),eR="SelectContentImpl",tR=Ka("SelectContent.RemoveScroll"),Oj=p.forwardRef((n,r)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,side:f,sideOffset:g,align:x,alignOffset:y,arrowPadding:b,collisionBoundary:w,collisionPadding:S,sticky:N,hideWhenDetached:v,avoidCollisions:_,...k}=n,E=br(Kr,a),[D,L]=p.useState(null),[M,z]=p.useState(null),$=yt(r,ce=>L(ce)),[O,T]=p.useState(null),[P,F]=p.useState(null),J=Xc(a),[Z,oe]=p.useState(!1),ae=p.useRef(!1);p.useEffect(()=>{if(D)return eb(D)},[D]),Vy();const U=p.useCallback(ce=>{const[he,...ie]=J().map(Re=>Re.ref.current),[be]=ie.slice(-1),ke=document.activeElement;for(const Re of ce)if(Re===ke||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===he&&M&&(M.scrollTop=0),Re===be&&M&&(M.scrollTop=M.scrollHeight),Re==null||Re.focus(),document.activeElement!==ke))return},[J,M]),G=p.useCallback(()=>U([O,D]),[U,O,D]);p.useEffect(()=>{Z&&G()},[Z,G]);const{onOpenChange:Y,triggerPointerDownPosRef:xe}=E;p.useEffect(()=>{if(D){let ce={x:0,y:0};const he=be=>{var ke,Re;ce={x:Math.abs(Math.round(be.pageX)-(((ke=xe.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Re=xe.current)==null?void 0:Re.y)??0))}},ie=be=>{ce.x<=10&&ce.y<=10?be.preventDefault():D.contains(be.target)||Y(!1),document.removeEventListener("pointermove",he),xe.current=null};return xe.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ie,{capture:!0})}}},[D,Y,xe]),p.useEffect(()=>{const ce=()=>Y(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Y]);const[C,H]=Xj(ce=>{const he=J().filter(ke=>!ke.disabled),ie=he.find(ke=>ke.ref.current===document.activeElement),be=Kj(he,ce,ie);be&&setTimeout(()=>be.ref.current.focus())}),V=p.useCallback((ce,he,ie)=>{const be=!ae.current&&!ie;(E.value!==void 0&&E.value===he||be)&&(T(ce),be&&(ae.current=!0))},[E.value]),X=p.useCallback(()=>D==null?void 0:D.focus(),[D]),se=p.useCallback((ce,he,ie)=>{const be=!ae.current&&!ie;(E.value!==void 0&&E.value===he||be)&&F(ce)},[E.value]),le=o==="popper"?lf:Pj,ye=le===lf?{side:f,sideOffset:g,align:x,alignOffset:y,arrowPadding:b,collisionBoundary:w,collisionPadding:S,sticky:N,hideWhenDetached:v,avoidCollisions:_}:{};return e.jsx(Mj,{scope:a,content:D,viewport:M,onViewportChange:z,itemRefCallback:V,selectedItem:O,onItemLeave:X,itemTextRefCallback:se,focusSelectedItem:G,selectedItemText:P,position:o,isPositioned:Z,searchRef:C,children:e.jsx(jf,{as:tR,allowPinchZoom:!0,children:e.jsx(bf,{asChild:!0,trapped:E.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:lt(c,ce=>{var he;(he=E.trigger)==null||he.focus({preventScroll:!0}),ce.preventDefault()}),children:e.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(le,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ce=>ce.preventDefault(),...k,...ye,onPlaced:()=>oe(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:lt(k.onKeyDown,ce=>{const he=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!he&&ce.key.length===1&&H(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let be=J().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ke=ce.target,Re=be.indexOf(ke);be=be.slice(Re+1)}setTimeout(()=>U(be)),ce.preventDefault()}})})})})})})});Oj.displayName=eR;var sR="SelectItemAlignedPosition",Pj=p.forwardRef((n,r)=>{const{__scopeSelect:a,onPlaced:o,...c}=n,d=br(Kr,a),m=vr(Kr,a),[f,g]=p.useState(null),[x,y]=p.useState(null),b=yt(r,$=>y($)),w=Xc(a),S=p.useRef(!1),N=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:k,focusSelectedItem:E}=m,D=p.useCallback(()=>{if(d.trigger&&d.valueNode&&f&&x&&v&&_&&k){const $=d.trigger.getBoundingClientRect(),O=x.getBoundingClientRect(),T=d.valueNode.getBoundingClientRect(),P=k.getBoundingClientRect();if(d.dir!=="rtl"){const ke=P.left-O.left,Re=T.left-ke,Qe=$.left-Re,ct=$.width+Qe,_t=Math.max(ct,O.width),At=window.innerWidth-Xs,qe=ny(Re,[Xs,Math.max(Xs,At-_t)]);f.style.minWidth=ct+"px",f.style.left=qe+"px"}else{const ke=O.right-P.right,Re=window.innerWidth-T.right-ke,Qe=window.innerWidth-$.right-Re,ct=$.width+Qe,_t=Math.max(ct,O.width),At=window.innerWidth-Xs,qe=ny(Re,[Xs,Math.max(Xs,At-_t)]);f.style.minWidth=ct+"px",f.style.right=qe+"px"}const F=w(),J=window.innerHeight-Xs*2,Z=v.scrollHeight,oe=window.getComputedStyle(x),ae=parseInt(oe.borderTopWidth,10),U=parseInt(oe.paddingTop,10),G=parseInt(oe.borderBottomWidth,10),Y=parseInt(oe.paddingBottom,10),xe=ae+U+Z+Y+G,C=Math.min(_.offsetHeight*5,xe),H=window.getComputedStyle(v),V=parseInt(H.paddingTop,10),X=parseInt(H.paddingBottom,10),se=$.top+$.height/2-Xs,le=J-se,ye=_.offsetHeight/2,ce=_.offsetTop+ye,he=ae+U+ce,ie=xe-he;if(he<=se){const ke=F.length>0&&_===F[F.length-1].ref.current;f.style.bottom="0px";const Re=x.clientHeight-v.offsetTop-v.offsetHeight,Qe=Math.max(le,ye+(ke?X:0)+Re+G),ct=he+Qe;f.style.height=ct+"px"}else{const ke=F.length>0&&_===F[0].ref.current;f.style.top="0px";const Qe=Math.max(se,ae+v.offsetTop+(ke?V:0)+ye)+ie;f.style.height=Qe+"px",v.scrollTop=he-se+v.offsetTop}f.style.margin=`${Xs}px 0`,f.style.minHeight=C+"px",f.style.maxHeight=J+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[w,d.trigger,d.valueNode,f,x,v,_,k,d.dir,o]);ls(()=>D(),[D]);const[L,M]=p.useState();ls(()=>{x&&M(window.getComputedStyle(x).zIndex)},[x]);const z=p.useCallback($=>{$&&N.current===!0&&(D(),E==null||E(),N.current=!1)},[D,E]);return e.jsx(rR,{scope:a,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:z,children:e.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:e.jsx(We.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Pj.displayName=sR;var nR="SelectPopperPosition",lf=p.forwardRef((n,r)=>{const{__scopeSelect:a,align:o="start",collisionPadding:c=Xs,...d}=n,m=Kc(a);return e.jsx(Hk,{...m,...d,ref:r,align:o,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lf.displayName=nR;var[rR,Yf]=ul(Kr,{}),of="SelectViewport",Lj=p.forwardRef((n,r)=>{const{__scopeSelect:a,nonce:o,...c}=n,d=vr(of,a),m=Yf(of,a),f=yt(r,d.onViewportChange),g=p.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Wc.Slot,{scope:a,children:e.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:lt(c.onScroll,x=>{const y=x.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:w}=m;if(w!=null&&w.current&&b){const S=Math.abs(g.current-y.scrollTop);if(S>0){const N=window.innerHeight-Xs*2,v=parseFloat(b.style.minHeight),_=parseFloat(b.style.height),k=Math.max(v,_);if(k<N){const E=k+S,D=Math.min(N,E),L=E-D;b.style.height=D+"px",b.style.bottom==="0px"&&(y.scrollTop=L>0?L:0,b.style.justifyContent="flex-end")}}}g.current=y.scrollTop})})})]})});Lj.displayName=of;var Uj="SelectGroup",[aR,lR]=ul(Uj),oR=p.forwardRef((n,r)=>{const{__scopeSelect:a,...o}=n,c=Ga();return e.jsx(aR,{scope:a,id:c,children:e.jsx(We.div,{role:"group","aria-labelledby":c,...o,ref:r})})});oR.displayName=Uj;var zj="SelectLabel",iR=p.forwardRef((n,r)=>{const{__scopeSelect:a,...o}=n,c=lR(zj,a);return e.jsx(We.div,{id:c.id,...o,ref:r})});iR.displayName=zj;var Cc="SelectItem",[cR,Bj]=ul(Cc),$j=p.forwardRef((n,r)=>{const{__scopeSelect:a,value:o,disabled:c=!1,textValue:d,...m}=n,f=br(Cc,a),g=vr(Cc,a),x=f.value===o,[y,b]=p.useState(d??""),[w,S]=p.useState(!1),N=yt(r,E=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,E,o,c)}),v=Ga(),_=p.useRef("touch"),k=()=>{c||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(cR,{scope:a,value:o,disabled:c,textId:v,isSelected:x,onItemTextChange:p.useCallback(E=>{b(D=>D||((E==null?void 0:E.textContent)??"").trim())},[]),children:e.jsx(Wc.ItemSlot,{scope:a,value:o,disabled:c,textValue:y,children:e.jsx(We.div,{role:"option","aria-labelledby":v,"data-highlighted":w?"":void 0,"aria-selected":x&&w,"data-state":x?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:N,onFocus:lt(m.onFocus,()=>S(!0)),onBlur:lt(m.onBlur,()=>S(!1)),onClick:lt(m.onClick,()=>{_.current!=="mouse"&&k()}),onPointerUp:lt(m.onPointerUp,()=>{_.current==="mouse"&&k()}),onPointerDown:lt(m.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:lt(m.onPointerMove,E=>{var D;_.current=E.pointerType,c?(D=g.onItemLeave)==null||D.call(g):_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(m.onPointerLeave,E=>{var D;E.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:lt(m.onKeyDown,E=>{var L;((L=g.searchRef)==null?void 0:L.current)!==""&&E.key===" "||(Gk.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});$j.displayName=Cc;var xo="SelectItemText",Fj=p.forwardRef((n,r)=>{const{__scopeSelect:a,className:o,style:c,...d}=n,m=br(xo,a),f=vr(xo,a),g=Bj(xo,a),x=Zk(xo,a),[y,b]=p.useState(null),w=yt(r,k=>b(k),g.onItemTextChange,k=>{var E;return(E=f.itemTextRefCallback)==null?void 0:E.call(f,k,g.value,g.disabled)}),S=y==null?void 0:y.textContent,N=p.useMemo(()=>e.jsx("option",{value:g.value,disabled:g.disabled,children:S},g.value),[g.disabled,g.value,S]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=x;return ls(()=>(v(N),()=>_(N)),[v,_,N]),e.jsxs(e.Fragment,{children:[e.jsx(We.span,{id:g.textId,...d,ref:w}),g.isSelected&&m.valueNode&&!m.valueNodeHasChildren?nl.createPortal(d.children,m.valueNode):null]})});Fj.displayName=xo;var Hj="SelectItemIndicator",qj=p.forwardRef((n,r)=>{const{__scopeSelect:a,...o}=n;return Bj(Hj,a).isSelected?e.jsx(We.span,{"aria-hidden":!0,...o,ref:r}):null});qj.displayName=Hj;var cf="SelectScrollUpButton",Ij=p.forwardRef((n,r)=>{const a=vr(cf,n.__scopeSelect),o=Yf(cf,n.__scopeSelect),[c,d]=p.useState(!1),m=yt(r,o.onScrollButtonChange);return ls(()=>{if(a.viewport&&a.isPositioned){let f=function(){const x=g.scrollTop>0;d(x)};const g=a.viewport;return f(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),c?e.jsx(Yj,{...n,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:g}=a;f&&g&&(f.scrollTop=f.scrollTop-g.offsetHeight)}}):null});Ij.displayName=cf;var df="SelectScrollDownButton",Vj=p.forwardRef((n,r)=>{const a=vr(df,n.__scopeSelect),o=Yf(df,n.__scopeSelect),[c,d]=p.useState(!1),m=yt(r,o.onScrollButtonChange);return ls(()=>{if(a.viewport&&a.isPositioned){let f=function(){const x=g.scrollHeight-g.clientHeight,y=Math.ceil(g.scrollTop)<x;d(y)};const g=a.viewport;return f(),g.addEventListener("scroll",f),()=>g.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),c?e.jsx(Yj,{...n,ref:m,onAutoScroll:()=>{const{viewport:f,selectedItem:g}=a;f&&g&&(f.scrollTop=f.scrollTop+g.offsetHeight)}}):null});Vj.displayName=df;var Yj=p.forwardRef((n,r)=>{const{__scopeSelect:a,onAutoScroll:o,...c}=n,d=vr("SelectScrollButton",a),m=p.useRef(null),f=Xc(a),g=p.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return p.useEffect(()=>()=>g(),[g]),ls(()=>{var y;const x=f().find(b=>b.ref.current===document.activeElement);(y=x==null?void 0:x.ref.current)==null||y.scrollIntoView({block:"nearest"})},[f]),e.jsx(We.div,{"aria-hidden":!0,...c,ref:r,style:{flexShrink:0,...c.style},onPointerDown:lt(c.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:lt(c.onPointerMove,()=>{var x;(x=d.onItemLeave)==null||x.call(d),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:lt(c.onPointerLeave,()=>{g()})})}),dR="SelectSeparator",uR=p.forwardRef((n,r)=>{const{__scopeSelect:a,...o}=n;return e.jsx(We.div,{"aria-hidden":!0,...o,ref:r})});uR.displayName=dR;var uf="SelectArrow",mR=p.forwardRef((n,r)=>{const{__scopeSelect:a,...o}=n,c=Kc(a),d=br(uf,a),m=vr(uf,a);return d.open&&m.position==="popper"?e.jsx(qk,{...c,...o,ref:r}):null});mR.displayName=uf;var fR="SelectBubbleInput",Gj=p.forwardRef(({__scopeSelect:n,value:r,...a},o)=>{const c=p.useRef(null),d=yt(o,c),m=Nj(r);return p.useEffect(()=>{const f=c.current;if(!f)return;const g=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(g,"value").set;if(m!==r&&y){const b=new Event("change",{bubbles:!0});y.call(f,r),f.dispatchEvent(b)}},[m,r]),e.jsx(We.select,{...a,style:{...Sj,...a.style},ref:d,defaultValue:r})});Gj.displayName=fR;function Wj(n){return n===""||n===void 0}function Xj(n){const r=Vr(n),a=p.useRef(""),o=p.useRef(0),c=p.useCallback(m=>{const f=a.current+m;r(f),function g(x){a.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>g(""),1e3))}(f)},[r]),d=p.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,c,d]}function Kj(n,r,a){const c=r.length>1&&Array.from(r).every(x=>x===r[0])?r[0]:r,d=a?n.indexOf(a):-1;let m=hR(n,Math.max(d,0));c.length===1&&(m=m.filter(x=>x!==a));const g=m.find(x=>x.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==a?g:void 0}function hR(n,r){return n.map((a,o)=>n[(r+o)%n.length])}var pR=_j,xR=Cj,gR=Rj,yR=Tj,bR=Aj,vR=Dj,jR=Lj,wR=$j,NR=Fj,SR=qj,_R=Ij,ER=Vj;function hy({...n}){return e.jsx(pR,{"data-slot":"select",...n})}function py({...n}){return e.jsx(gR,{"data-slot":"select-value",...n})}function xy({className:n,size:r="default",children:a,...o}){return e.jsxs(xR,{"data-slot":"select-trigger","data-size":r,className:St("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...o,children:[a,e.jsx(yR,{asChild:!0,children:e.jsx(gb,{className:"size-4 opacity-50"})})]})}function gy({className:n,children:r,position:a="popper",...o}){return e.jsx(bR,{children:e.jsxs(vR,{"data-slot":"select-content",className:St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a,...o,children:[e.jsx(CR,{}),e.jsx(jR,{className:St("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(kR,{})]})})}function mr({className:n,children:r,...a}){return e.jsxs(wR,{"data-slot":"select-item",className:St("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(SR,{children:e.jsx(xb,{className:"size-4"})})}),e.jsx(NR,{children:r})]})}function CR({className:n,...r}){return e.jsx(_R,{"data-slot":"select-scroll-up-button",className:St("flex cursor-default items-center justify-center py-1",n),...r,children:e.jsx(K_,{className:"size-4"})})}function kR({className:n,...r}){return e.jsx(ER,{"data-slot":"select-scroll-down-button",className:St("flex cursor-default items-center justify-center py-1",n),...r,children:e.jsx(gb,{className:"size-4"})})}var Zc="Checkbox",[RR,pT]=rl(Zc),[TR,Gf]=RR(Zc);function AR(n){const{__scopeCheckbox:r,checked:a,children:o,defaultChecked:c,disabled:d,form:m,name:f,onCheckedChange:g,required:x,value:y="on",internal_do_not_use_render:b}=n,[w,S]=pc({prop:a,defaultProp:c??!1,onChange:g,caller:Zc}),[N,v]=p.useState(null),[_,k]=p.useState(null),E=p.useRef(!1),D=N?!!m||!!N.closest("form"):!0,L={checked:w,disabled:d,setChecked:S,control:N,setControl:v,name:f,form:m,value:y,hasConsumerStoppedPropagationRef:E,required:x,defaultChecked:hr(c)?!1:c,isFormControl:D,bubbleInput:_,setBubbleInput:k};return e.jsx(TR,{scope:r,...L,children:DR(b)?b(L):o})}var Zj="CheckboxTrigger",Qj=p.forwardRef(({__scopeCheckbox:n,onKeyDown:r,onClick:a,...o},c)=>{const{control:d,value:m,disabled:f,checked:g,required:x,setControl:y,setChecked:b,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:N}=Gf(Zj,n),v=yt(c,y),_=p.useRef(g);return p.useEffect(()=>{const k=d==null?void 0:d.form;if(k){const E=()=>b(_.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[d,b]),e.jsx(We.button,{type:"button",role:"checkbox","aria-checked":hr(g)?"mixed":g,"aria-required":x,"data-state":rw(g),"data-disabled":f?"":void 0,disabled:f,value:m,...o,ref:v,onKeyDown:lt(r,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:lt(a,k=>{b(E=>hr(E)?!0:!E),N&&S&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})})});Qj.displayName=Zj;var Jj=p.forwardRef((n,r)=>{const{__scopeCheckbox:a,name:o,checked:c,defaultChecked:d,required:m,disabled:f,value:g,onCheckedChange:x,form:y,...b}=n;return e.jsx(AR,{__scopeCheckbox:a,checked:c,defaultChecked:d,disabled:f,required:m,onCheckedChange:x,name:o,form:y,value:g,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(Qj,{...b,ref:r,__scopeCheckbox:a}),w&&e.jsx(nw,{__scopeCheckbox:a})]})})});Jj.displayName=Zc;var ew="CheckboxIndicator",tw=p.forwardRef((n,r)=>{const{__scopeCheckbox:a,forceMount:o,...c}=n,d=Gf(ew,a);return e.jsx(So,{present:o||hr(d.checked)||d.checked===!0,children:e.jsx(We.span,{"data-state":rw(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...n.style}})})});tw.displayName=ew;var sw="CheckboxBubbleInput",nw=p.forwardRef(({__scopeCheckbox:n,...r},a)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:m,required:f,disabled:g,name:x,value:y,form:b,bubbleInput:w,setBubbleInput:S}=Gf(sw,n),N=yt(a,S),v=Nj(d),_=mj(o);p.useEffect(()=>{const E=w;if(!E)return;const D=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(D,"checked").set,z=!c.current;if(v!==d&&M){const $=new Event("click",{bubbles:z});E.indeterminate=hr(d),M.call(E,hr(d)?!1:d),E.dispatchEvent($)}},[w,v,d,c]);const k=p.useRef(hr(d)?!1:d);return e.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??k.current,required:f,disabled:g,name:x,value:y,form:b,...r,tabIndex:-1,ref:N,style:{...r.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nw.displayName=sw;function DR(n){return typeof n=="function"}function hr(n){return n==="indeterminate"}function rw(n){return hr(n)?"indeterminate":n?"checked":"unchecked"}function yy({className:n,...r}){return e.jsx(Jj,{"data-slot":"checkbox",className:St("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...r,children:e.jsx(tw,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(xb,{className:"size-3.5"})})})}var Wf="Progress",Xf=100,[MR,xT]=rl(Wf),[OR,PR]=MR(Wf),aw=p.forwardRef((n,r)=>{const{__scopeProgress:a,value:o=null,max:c,getValueLabel:d=LR,...m}=n;(c||c===0)&&!by(c)&&console.error(UR(`${c}`,"Progress"));const f=by(c)?c:Xf;o!==null&&!vy(o,f)&&console.error(zR(`${o}`,"Progress"));const g=vy(o,f)?o:null,x=kc(g)?d(g,f):void 0;return e.jsx(OR,{scope:a,value:g,max:f,children:e.jsx(We.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":kc(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":iw(g,f),"data-value":g??void 0,"data-max":f,...m,ref:r})})});aw.displayName=Wf;var lw="ProgressIndicator",ow=p.forwardRef((n,r)=>{const{__scopeProgress:a,...o}=n,c=PR(lw,a);return e.jsx(We.div,{"data-state":iw(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...o,ref:r})});ow.displayName=lw;function LR(n,r){return`${Math.round(n/r*100)}%`}function iw(n,r){return n==null?"indeterminate":n===r?"complete":"loading"}function kc(n){return typeof n=="number"}function by(n){return kc(n)&&!isNaN(n)&&n>0}function vy(n,r){return kc(n)&&!isNaN(n)&&n<=r&&n>=0}function UR(n,r){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xf}\`.`}function zR(n,r){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var BR=aw,$R=ow;function cw({className:n,value:r,...a}){return e.jsx(BR,{"data-slot":"progress",className:St("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...a,children:e.jsx($R,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}const dw=({applicationId:n,documentType:r,label:a,required:o=!1,uploadedFile:c=null,onUploadSuccess:d=()=>{},onUploadError:m=()=>{},onDelete:f=()=>{},disabled:g=!1})=>{const[x,y]=p.useState(!1),[b,w]=p.useState(0),[S,N]=p.useState(null),[v,_]=p.useState(null),k=p.useRef(null),E=async T=>{const P=T.target.files[0];if(!P)return;N(null);const F=Ks.validateFile(P);if(!F.valid){N(F.error);return}y(!0),w(0);try{const J=await Ks.uploadDocument(n,r,P,Z=>w(Z));J.success?(d(r,{name:P.name,size:P.size,type:P.type,path:J.data.file_path,info:J.data.file_info}),N(null)):(N(J.error),m(r,J.error))}catch{const Z="Upload failed. Please try again.";N(Z),m(r,Z)}finally{y(!1),w(0),k.current&&(k.current.value="")}},D=async()=>{if(!(!c||g))try{const T=await Ks.deleteDocument(n,r);T.success?(f(r),N(null),_(null)):N(T.error)}catch{N("Failed to delete document. Please try again.")}},L=()=>{if(!c||!n)return;const T=Ks.getPreviewUrl(n,r);_(T)},M=()=>{if(!c||!n)return;const T=Ks.getDownloadUrl(n,r);window.open(T,"_blank")},z=()=>{_(null)},$=c&&c.type&&c.type.startsWith("image/"),O=c&&c.type==="application/pdf";return e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 transition-colors hover:border-gray-400",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(Ge,{className:"font-medium text-sm",children:[a,o&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c&&!x&&e.jsx(_f,{className:"h-5 w-5 text-green-500"}),x&&e.jsx(l4,{className:"h-5 w-5 text-blue-500 animate-spin"})]}),x&&e.jsxs("div",{className:"mb-3",children:[e.jsx(cw,{value:b,className:"h-2"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",b,"%"]})]}),c&&!x?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700 bg-gray-50 p-3 rounded-md",children:[e.jsx(d0,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:c.name}),e.jsx("p",{className:"text-xs text-gray-500",children:Ks.formatFileSize(c.size)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[($||O)&&e.jsxs(Ds,{variant:"outline",size:"sm",onClick:L,disabled:g,className:"flex items-center space-x-1",children:[e.jsx(bb,{className:"h-3 w-3"}),e.jsx("span",{children:"Preview"})]}),e.jsxs(Ds,{variant:"outline",size:"sm",onClick:M,disabled:g,className:"flex items-center space-x-1",children:[e.jsx(gc,{className:"h-3 w-3"}),e.jsx("span",{children:"Download"})]}),e.jsxs(Ds,{variant:"outline",size:"sm",onClick:D,disabled:g,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(yc,{className:"h-3 w-3"}),e.jsx("span",{children:"Remove"})]})]})]}):x?null:e.jsxs("div",{children:[e.jsx("input",{ref:k,type:"file",id:`upload-${r}`,accept:".pdf,.jpg,.jpeg,.png",onChange:E,disabled:g||x,className:"hidden"}),e.jsxs(Ge,{htmlFor:`upload-${r}`,className:`flex items-center justify-center space-x-2 cursor-pointer bg-gray-50 hover:bg-gray-100 rounded-md p-4 transition-colors ${g?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(d4,{className:"h-5 w-5 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Click to upload ",a.toLowerCase()]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"PDF, JPG, PNG files only. Max 5MB."})]}),S&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm mt-3 bg-red-50 p-2 rounded-md",children:[e.jsx(yb,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:S})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Preview: ",Ks.getDocumentDisplayName(r)]}),e.jsx(Ds,{variant:"ghost",size:"sm",onClick:z,className:"h-8 w-8 p-0",children:e.jsx(yc,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 p-4 overflow-auto",children:$?e.jsx("img",{src:v,alt:`Preview of ${c.name}`,className:"max-w-full h-auto mx-auto"}):O?e.jsx("iframe",{src:v,className:"w-full h-96 border rounded",title:`Preview of ${c.name}`}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(d0,{className:"h-12 w-12 mx-auto mb-2"}),e.jsx("p",{children:"Preview not available for this file type"}),e.jsx(Ds,{variant:"outline",onClick:M,className:"mt-2",children:"Download to view"})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[e.jsxs(Ds,{variant:"outline",onClick:M,children:[e.jsx(gc,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsx(Ds,{onClick:z,children:"Close"})]})]})})]})},FR=({propertyId:n,onClose:r,onSuccess:a})=>{const[o,c]=p.useState(0),[d,m]=p.useState({full_name:"",phone_number:"",email_address:"",date_of_birth:"",emergency_contact_name:"",emergency_contact_phone:"",employment_status:"",employer_name:"",job_title:"",employment_duration:"",monthly_income:"",additional_income:"",bank_name:"",account_type:"",credit_score:"",monthly_expenses:"",current_rent:"",previous_address:"",previous_landlord_name:"",previous_landlord_phone:"",rental_duration:"",reason_for_moving:"",move_in_date:"",lease_duration_preference:"",number_of_occupants:"",pets:"",smoking:"",additional_notes:""}),[f,g]=p.useState({}),[x,y]=p.useState(!1),[b,w]=p.useState({}),[S,N]=p.useState(null),[v,_]=p.useState(!1);p.useEffect(()=>{console.log("Enhanced Application Form - propertyId received:",n),console.log("Enhanced Application Form - propertyId type:",typeof n)},[n]);const k=[{title:"Personal Information",icon:""},{title:"Employment Details",icon:""},{title:"Financial Information",icon:""},{title:"Rental History",icon:""},{title:"Preferences",icon:""},{title:"Document Upload",icon:""},{title:"Review & Submit",icon:""}],E=(P,F)=>{m(J=>({...J,[P]:F})),f[P]&&g(J=>({...J,[P]:null}))},D=P=>{const F={};switch(P){case 0:d.full_name||(F.full_name="Full name is required"),d.phone_number||(F.phone_number="Phone number is required"),d.email||(F.email="Email is required"),d.date_of_birth||(F.date_of_birth="Date of birth is required");break;case 1:d.employment_status||(F.employment_status="Employment status is required"),d.employment_status==="employed"&&!d.employer_name&&(F.employer_name="Employer name is required"),d.monthly_income||(F.monthly_income="Monthly income is required");break;case 2:d.bank_name||(F.bank_name="Bank name is required");break;case 4:d.move_in_date||(F.move_in_date="Move-in date is required");break;case 5:b.id_document||(F.id_document="ID document is required"),b.income_proof||(F.income_proof="Income proof is required");break}return g(F),Object.keys(F).length===0},L=async()=>{D(o)&&(o===4&&!S&&await M(),c(P=>Math.min(P+1,k.length-1)))},M=async()=>{try{_(!0),console.log("Creating draft application for document uploads..."),console.log("propertyId value:",n,"type:",typeof n);const P={propertyId:n,status:"draft",full_name:d.full_name,phone_number:d.phone_number,email_address:d.email_address,date_of_birth:d.date_of_birth,employment_status:d.employment_status,employer_name:d.employer_name,monthly_income:d.monthly_income};console.log("Draft application data being sent:",P);const F=await Un.createApplication(P);if(console.log("Draft application response:",F),console.log("Response type:",typeof F),console.log("Response keys:",Object.keys(F||{})),F&&F.success&&F.application&&F.application.id){const J=F.application.id;N(J),console.log(" Draft application created successfully with ID:",J),console.log(" ApplicationId state will be updated to:",J),setTimeout(()=>{console.log(" Current applicationId state after timeout:",J)},100)}else console.error(" Failed to create draft application - Invalid response structure"),console.error(" Expected: {success: true, application: {id: number}}"),console.error(" Received:",F),console.error(" Error message:",(F==null?void 0:F.error)||"Unknown error")}catch(P){console.error(" Exception in createDraftApplication:",P),console.error(" Error message:",P.message),console.error(" Error stack:",P.stack)}finally{_(!1),console.log(" Draft creation process completed, isCreatingDraft set to false")}},z=()=>{c(P=>Math.max(P-1,0))},$=async()=>{if(D(o)){if(!n){console.error("Enhanced Application Form - propertyId is missing:",n),g({submit:"Property ID is missing. Please refresh the page and try again."});return}console.log("Enhanced Application Form - Submitting with propertyId:",n),y(!0);try{const P={propertyId:n,...d,step_completed:6,is_complete:!0};let F;S?(console.log("Updating draft application to final status:",S),F=await Un.updateApplication(S,{...P,status:"pending"})):(console.log("Creating new application (no draft found)"),F=await Un.createApplication(P),F.success&&F.data&&F.data.id&&N(F.data.id)),F.success?(console.log("Enhanced Application Form - Calling onSuccess callback"),a&&a()):(console.log("Enhanced Application Form - API response failed:",F.error),g({submit:F.error||"Failed to submit application"}))}catch{g({submit:"An error occurred while submitting the application"})}finally{y(!1)}}},O=()=>{switch(o){case 0:return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"full_name",children:"Full Name *"}),e.jsx(wt,{id:"full_name",value:d.full_name,onChange:P=>E("full_name",P.target.value),className:f.full_name?"border-red-500":""}),f.full_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.full_name})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"phone_number",children:"Phone Number *"}),e.jsx(wt,{id:"phone_number",value:d.phone_number,onChange:P=>E("phone_number",P.target.value),className:f.phone_number?"border-red-500":""}),f.phone_number&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.phone_number})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"email",children:"Email Address *"}),e.jsx(wt,{id:"email",type:"email",value:d.email,onChange:P=>E("email",P.target.value),className:f.email?"border-red-500":""}),f.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.email})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"date_of_birth",children:"Date of Birth *"}),e.jsx(wt,{id:"date_of_birth",type:"date",value:d.date_of_birth,onChange:P=>E("date_of_birth",P.target.value),className:f.date_of_birth?"border-red-500":""}),f.date_of_birth&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.date_of_birth})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"emergency_contact_name",children:"Emergency Contact Name"}),e.jsx(wt,{id:"emergency_contact_name",value:d.emergency_contact_name,onChange:P=>E("emergency_contact_name",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"emergency_contact_phone",children:"Emergency Contact Phone"}),e.jsx(wt,{id:"emergency_contact_phone",value:d.emergency_contact_phone,onChange:P=>E("emergency_contact_phone",P.target.value)})]})]})});case 1:return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"employment_status",children:"Employment Status *"}),e.jsxs(hy,{value:d.employment_status,onValueChange:P=>E("employment_status",P),children:[e.jsx(xy,{className:f.employment_status?"border-red-500":"",children:e.jsx(py,{placeholder:"Select employment status"})}),e.jsxs(gy,{children:[e.jsx(mr,{value:"employed",children:"Employed"}),e.jsx(mr,{value:"self-employed",children:"Self-Employed"}),e.jsx(mr,{value:"unemployed",children:"Unemployed"}),e.jsx(mr,{value:"student",children:"Student"}),e.jsx(mr,{value:"retired",children:"Retired"})]})]}),f.employment_status&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.employment_status})]}),(d.employment_status==="employed"||d.employment_status==="self-employed")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"employer_name",children:"Employer/Company Name *"}),e.jsx(wt,{id:"employer_name",value:d.employer_name,onChange:P=>E("employer_name",P.target.value),className:f.employer_name?"border-red-500":""}),f.employer_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.employer_name})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"job_title",children:"Job Title"}),e.jsx(wt,{id:"job_title",value:d.job_title,onChange:P=>E("job_title",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"employment_duration",children:"Employment Duration"}),e.jsx(wt,{id:"employment_duration",placeholder:"e.g., 2 years",value:d.employment_duration,onChange:P=>E("employment_duration",P.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"monthly_income",children:"Monthly Income (RM) *"}),e.jsx(wt,{id:"monthly_income",type:"number",value:d.monthly_income,onChange:P=>E("monthly_income",P.target.value),className:f.monthly_income?"border-red-500":""}),f.monthly_income&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.monthly_income})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"additional_income",children:"Additional Income (RM)"}),e.jsx(wt,{id:"additional_income",type:"number",value:d.additional_income,onChange:P=>E("additional_income",P.target.value)})]}),d.additional_income&&e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"additional_income_source",children:"Additional Income Source"}),e.jsx(wt,{id:"additional_income_source",value:d.additional_income_source,onChange:P=>E("additional_income_source",P.target.value)})]})]})});case 2:return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"bank_name",children:"Bank Name *"}),e.jsx(wt,{id:"bank_name",value:d.bank_name,onChange:P=>E("bank_name",P.target.value),className:f.bank_name?"border-red-500":""}),f.bank_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.bank_name})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"account_number",children:"Account Number (Last 4 digits)"}),e.jsx(wt,{id:"account_number",value:d.account_number,onChange:P=>E("account_number",P.target.value),placeholder:"****1234"})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"credit_score",children:"Credit Score (if known)"}),e.jsx(wt,{id:"credit_score",type:"number",min:"300",max:"850",value:d.credit_score,onChange:P=>E("credit_score",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"monthly_expenses",children:"Monthly Expenses (RM)"}),e.jsx(wt,{id:"monthly_expenses",type:"number",value:d.monthly_expenses,onChange:P=>E("monthly_expenses",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"current_rent",children:"Current Rent (RM)"}),e.jsx(wt,{id:"current_rent",type:"number",value:d.current_rent,onChange:P=>E("current_rent",P.target.value)})]})]})});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"previous_address",children:"Previous Address"}),e.jsx(sc,{id:"previous_address",value:d.previous_address,onChange:P=>E("previous_address",P.target.value),placeholder:"Enter your previous rental address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"previous_landlord_name",children:"Previous Landlord Name"}),e.jsx(wt,{id:"previous_landlord_name",value:d.previous_landlord_name,onChange:P=>E("previous_landlord_name",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"previous_landlord_phone",children:"Previous Landlord Phone"}),e.jsx(wt,{id:"previous_landlord_phone",value:d.previous_landlord_phone,onChange:P=>E("previous_landlord_phone",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"rental_duration",children:"How long did you rent there?"}),e.jsx(wt,{id:"rental_duration",value:d.rental_duration,onChange:P=>E("rental_duration",P.target.value),placeholder:"e.g., 2 years"})]})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"reason_for_moving",children:"Reason for Moving"}),e.jsx(sc,{id:"reason_for_moving",value:d.reason_for_moving,onChange:P=>E("reason_for_moving",P.target.value),placeholder:"Please explain why you're moving"})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"move_in_date",children:"Preferred Move-in Date *"}),e.jsx(wt,{id:"move_in_date",type:"date",value:d.move_in_date,onChange:P=>E("move_in_date",P.target.value),className:f.move_in_date?"border-red-500":""}),f.move_in_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.move_in_date})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"lease_duration_preference",children:"Lease Duration Preference"}),e.jsxs(hy,{value:d.lease_duration_preference,onValueChange:P=>E("lease_duration_preference",P),children:[e.jsx(xy,{children:e.jsx(py,{placeholder:"Select lease duration"})}),e.jsxs(gy,{children:[e.jsx(mr,{value:"6-months",children:"6 Months"}),e.jsx(mr,{value:"1-year",children:"1 Year"}),e.jsx(mr,{value:"2-years",children:"2 Years"})]})]})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"number_of_occupants",children:"Number of Occupants"}),e.jsx(wt,{id:"number_of_occupants",type:"number",min:"1",value:d.number_of_occupants,onChange:P=>E("number_of_occupants",parseInt(P.target.value))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yy,{id:"pets",checked:d.pets,onCheckedChange:P=>E("pets",P)}),e.jsx(Ge,{htmlFor:"pets",children:"I have pets"})]}),d.pets&&e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"pet_details",children:"Pet Details"}),e.jsx(sc,{id:"pet_details",value:d.pet_details,onChange:P=>E("pet_details",P.target.value),placeholder:"Please describe your pets (type, breed, size, etc.)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yy,{id:"smoking",checked:d.smoking,onCheckedChange:P=>E("smoking",P)}),e.jsx(Ge,{htmlFor:"smoking",children:"I am a smoker"})]})]}),e.jsxs("div",{children:[e.jsx(Ge,{htmlFor:"additional_notes",children:"Additional Notes"}),e.jsx(sc,{id:"additional_notes",value:d.additional_notes,onChange:P=>E("additional_notes",P.target.value),placeholder:"Any additional information you'd like to share"})]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Please upload the required documents. Accepted formats: PDF, JPG, PNG (max 5MB each)"}),v&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-blue-800",children:"Preparing document upload..."})]})}),[{key:"id_document",label:"ID Document",required:!0},{key:"income_proof",label:"Income Proof",required:!0},{key:"employment_letter",label:"Employment Letter",required:!1},{key:"bank_statement",label:"Bank Statement",required:!1},{key:"reference_letter",label:"Reference Letter",required:!1},{key:"credit_check",label:"Credit Check",required:!1}].map(({key:P,label:F,required:J})=>e.jsx(dw,{applicationId:S,documentType:P,label:F,required:J,uploadedFile:b[P],onUploadSuccess:(Z,oe)=>{w(ae=>({...ae,[Z]:oe})),g(ae=>{const U={...ae};return delete U[Z],U})},onUploadError:(Z,oe)=>{g(ae=>({...ae,[Z]:oe}))},onDelete:Z=>{w(oe=>{const ae={...oe};return delete ae[Z],ae})},disabled:v||!S},P)),!S&&!v&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"Document uploads will be enabled once you reach this step from the previous steps."})}),S&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-green-800",children:" Document uploads are now enabled. You can upload your documents and they will be saved with your application."})})]});case 6:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-lg font-semibold mb-4",children:"Review Your Application"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(Ia,{children:[e.jsx(Va,{children:e.jsx(Ya,{className:"text-sm",children:"Personal Information"})}),e.jsxs(uo,{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",d.full_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",d.phone_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Birth:"})," ",d.date_of_birth]})]})]}),e.jsxs(Ia,{children:[e.jsx(Va,{children:e.jsx(Ya,{className:"text-sm",children:"Employment"})}),e.jsxs(uo,{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",d.employment_status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Monthly Income:"})," RM ",d.monthly_income]}),d.employer_name&&e.jsxs("p",{children:[e.jsx("strong",{children:"Employer:"})," ",d.employer_name]})]})]}),e.jsxs(Ia,{children:[e.jsx(Va,{children:e.jsx(Ya,{className:"text-sm",children:"Preferences"})}),e.jsxs(uo,{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Move-in Date:"})," ",d.move_in_date||"Not specified"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Lease Duration:"})," ",d.lease_duration_preference||"Not specified"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Occupants:"})," ",d.number_of_occupants]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pets:"})," ",d.pets?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Smoking:"})," ",d.smoking?"Yes":"No"]})]})]}),e.jsxs(Ia,{children:[e.jsx(Va,{children:e.jsx(Ya,{className:"text-sm",children:"Documents Uploaded"})}),e.jsx(uo,{className:"text-sm space-y-1",children:Object.entries(b).map(([P,F])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_f,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:F.name})]},P))})]})]}),f.submit&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-500 bg-red-50 p-3 rounded-md",children:[e.jsx(yb,{className:"h-4 w-4"}),e.jsx("span",{children:f.submit})]})]});default:return null}},T=(o+1)/k.length*100;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:e.jsxs(Ia,{className:"border-0 shadow-none",children:[e.jsxs(Va,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Ya,{className:"text-2xl",children:"Enhanced Application Form"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Step ",o+1," of ",k.length]}),e.jsxs("span",{children:[Math.round(T),"% Complete"]})]}),e.jsx(cw,{value:T,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:k.map((P,F)=>e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-xs ${F===o?"bg-blue-100 text-blue-800":F<o?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx("span",{children:P.icon}),e.jsx("span",{children:P.title})]},F))})]}),e.jsxs(uo,{children:[e.jsx("div",{className:"min-h-[400px]",children:O()}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(Ds,{variant:"outline",onClick:z,disabled:o===0,children:"Previous"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(Ds,{variant:"outline",onClick:r,children:"Cancel"}),o===k.length-1?e.jsx(Ds,{onClick:$,disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:x?"Submitting...":"Submit Application"}):e.jsx(Ds,{onClick:L,className:"bg-blue-600 hover:bg-blue-700",children:"Next"})]})]})]})]})})})},HR=()=>{const[n,r]=p.useState({}),[a,o]=p.useState(1),c=(f,g)=>{console.log("Upload success:",f,g),r(x=>({...x,[f]:g}))},d=(f,g)=>{console.error("Upload error:",f,g)},m=f=>{console.log("Delete:",f),r(g=>{const x={...g};return delete x[f],x})};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Document Upload System Test"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Test Configuration"}),e.jsxs("p",{className:"text-blue-700",children:[e.jsx("strong",{children:"Application ID:"})," ",a]}),e.jsxs("p",{className:"text-blue-700",children:[e.jsx("strong",{children:"Backend URL:"})," http://localhost:5001"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Upload Required Documents"}),[{key:"id_document",label:"ID Document",required:!0},{key:"income_proof",label:"Income Proof",required:!0},{key:"employment_letter",label:"Employment Letter",required:!1},{key:"bank_statement",label:"Bank Statement",required:!1},{key:"reference_letter",label:"Reference Letter",required:!1},{key:"credit_check",label:"Credit Check",required:!1}].map(({key:f,label:g,required:x})=>e.jsx(dw,{applicationId:a,documentType:f,label:g,required:x,uploadedFile:n[f],onUploadSuccess:c,onUploadError:d,onDelete:m},f))]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Upload Status"}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(n).map(([f,g])=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"font-medium",children:[Ks.getDocumentDisplayName(f),":"]}),e.jsxs("span",{className:"text-green-600",children:[" ",g.name]})]},f)),Object.keys(n).length===0&&e.jsx("p",{className:"text-gray-500 text-sm",children:"No documents uploaded yet"})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-yellow-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Instructions"}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsx("li",{children:" Upload test documents (PDF, JPG, PNG files only)"}),e.jsx("li",{children:" Maximum file size: 5MB per document"}),e.jsx("li",{children:" Click preview to view uploaded documents"}),e.jsx("li",{children:" Click download to save documents locally"}),e.jsx("li",{children:" Use remove to delete uploaded documents"})]})]})]})})})},qR=({properties:n,isFavorite:r,toggleFavorite:a,setSelectedProperty:o,onApplyClick:c,onScheduleClick:d})=>{var O;const{propertyId:m}=en(),[f,g]=p.useState(null),[x,y]=p.useState(!0),[b,w]=p.useState(!1);p.useEffect(()=>{console.log("App.jsx - hasApplied state changed to:",b)},[b]);const[S,N]=p.useState(!1),[v,_]=p.useState(null),[k,E]=p.useState(!1),{isTenant:D,user:L}=Qt();p.useEffect(()=>{var T;if(f){const P=((T=f.gallery_images)==null?void 0:T[0])||f.image||null;_(P)}},[f]),p.useEffect(()=>{(async()=>{if(m){y(!0),w(!1),N(!1);try{const P=await fetch(`http://localhost:5001/api/properties/${m}?_t=${new Date().getTime()}`);if(P.ok){const F=await P.json();if(g(F.property),L&&D()){const J=await Un.hasApplied(m);J.success&&w(J.has_applied);const Z=await Gt.hasScheduled(m);Z.success&&N(Z.has_scheduled)}}else g(null)}catch(P){console.error("Failed to fetch property details:",P),g(null)}finally{y(!1)}}})()},[m,L]),p.useEffect(()=>{f&&o(f)},[f,o]);const M=((O=f==null?void 0:f.gallery_images)==null?void 0:O.map(T=>({src:T})))||[];if(x)return e.jsx("div",{className:"text-center py-12 text-xl",children:"Loading property..."});if(!f)return e.jsxs("div",{className:"text-center py-12 text-xl",children:["Property not found. ",e.jsx(Me,{to:"/",className:"text-yellow-500 hover:underline",children:"Go back home"})]});const z=!D()||S,$=S?" Viewing Requested":"Schedule Viewing";return e.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx(Me,{to:"/",className:"text-yellow-500 hover:text-yellow-600 mb-6 inline-block",children:" Back to Search Results"}),e.jsxs("div",{className:"bg-white shadow-xl rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:"md:col-span-2 relative group aspect-video max-h-[450px]",children:[e.jsx("img",{src:v||"https://placehold.co/800x600/e2e8f0/cccccc?text=Property+Image",alt:f.title,className:"w-full h-full object-cover cursor-pointer rounded-tl-lg",onClick:()=>E(!0)}),e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("button",{onClick:T=>a(f.id,T),className:`p-2 rounded-full transition-colors ${r(f.id)?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})})]}),e.jsx("div",{className:"hidden md:grid col-span-1 grid-rows-2 gap-1",children:f.gallery_images&&f.gallery_images.length>2?f.gallery_images.slice(1,3).map((T,P)=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{_(T),E(!0)},children:[e.jsx("img",{src:T,alt:`${f.title} thumbnail ${P+1}`,className:`w-full h-full object-cover ${P===0?"rounded-tr-lg":""}`}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-all flex items-center justify-center",children:P===1&&f.gallery_images.length>3&&e.jsxs("span",{className:"text-white text-3xl font-bold",children:["+",f.gallery_images.length-3]})})]},P)):Array(2).fill(0).map((T,P)=>e.jsx("div",{className:`bg-gray-200 w-full h-full ${P===0?"rounded-tr-lg":""}`},P))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 p-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:f.location}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-500 mb-4",children:["RM ",f.price,"/month"]})]}),(f.zeroDeposit||f.cookingReady||f.hotProperty)&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.zeroDeposit&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:" Zero Deposit"}),f.cookingReady&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:" Cooking Ready"}),f.hotProperty&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:" Hot Property"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.bedrooms}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.bathrooms}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.sqft}),e.jsx("div",{className:"text-sm text-gray-600",children:"Sq Ft"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.parking}),e.jsx("div",{className:"text-sm text-gray-600",children:"Parking"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:f.description||"This beautiful property offers modern living with excellent amenities and convenient location. Perfect for families or professionals looking for a comfortable home."}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Property Features"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{className:"text-gray-600",children:f.furnished||"Fully Furnished"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{className:"text-gray-600",children:f.propertyType||"Condominium"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsxs("span",{className:"text-gray-600",children:["Move-in: ",f.moveIn||"Immediate"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsxs("span",{className:"text-gray-600",children:["Built-up: ",f.sqft," sq ft"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:(f.amenities||["Swimming Pool","Gym","Security","Parking","Playground","BBQ Area"]).map((T,P)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-yellow-500 mr-2",children:""}),e.jsx("span",{className:"text-gray-600",children:T})]},P))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Location"}),e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-gray-600 mb-2",children:[" ",f.location]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Interactive map coming soon"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Similar Properties"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.filter(T=>T.id!==f.id&&T.location===f.location).slice(0,3).map(T=>e.jsx(Me,{to:`/property/${T.id}`,className:"block",children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("img",{src:T.image||"https://placehold.co/400x300/e2e8f0/4a5568?text=Similar",alt:T.title,className:"w-full h-32 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:T.title}),e.jsxs("p",{className:"text-yellow-500 font-bold text-sm",children:["RM ",f.price,"/month"]})]})]})},T.id))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-[72px]",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Property"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>alert("Chat modal coming soon!"),className:"w-full bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Contact Landlord"]}),e.jsxs("button",{onClick:d,disabled:z,className:`w-full text-white px-6 py-3 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${z?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),$]}),e.jsxs("button",{onClick:()=>alert("Video modal coming soon!"),className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Virtual Tour"]}),D()&&f.status==="Active"&&!b&&e.jsx("button",{onClick:()=>c(w),className:"w-full bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center gap-2",children:"Apply Now"}),D()&&b&&e.jsx("div",{className:"text-center p-3 bg-green-100 text-green-800 rounded-lg font-semibold",children:" You have applied"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white font-semibold",children:"L"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Property Owner"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Verified Landlord"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm font-medium",children:"Message"}),e.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",children:"Call"})]})]})]})})})]})]})]}),e.jsx(x3,{open:k,close:()=>E(!1),slides:M})]})},IR=({searchInput:n,handleSearchChange:r,filters:a,handleFilterChange:o,locations:c,setShowMoreFiltersModal:d,filteredProperties:m,viewMode:f,setViewMode:g,isFavorite:x,toggleFavorite:y})=>e.jsx("div",{className:"bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Find Your Perfect Rental"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Search thousands of properties across Malaysia"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",placeholder:"Search by property name or location...",value:n,onChange:b=>r(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:a.price,onChange:b=>o("price",b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[e.jsx("option",{value:"all",children:"Any Price"}),e.jsx("option",{value:"under1000",children:"Under RM 1,000"}),e.jsx("option",{value:"1000-2000",children:"RM 1,000 - RM 2,000"}),e.jsx("option",{value:"2000-3000",children:"RM 2,000 - RM 3,000"}),e.jsx("option",{value:"3000-5000",children:"RM 3,000 - RM 5,000"}),e.jsx("option",{value:"above5000",children:"Above RM 5,000"})]}),e.jsxs("select",{value:a.type,onChange:b=>o("type",b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[e.jsx("option",{value:"all",children:"Any Type"}),e.jsx("option",{value:"condominium",children:"Condominium"}),e.jsx("option",{value:"apartment",children:"Apartment"}),e.jsx("option",{value:"house",children:"House"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 border border-gray-300 rounded-lg flex items-center gap-2 hover:bg-gray-50",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 16v-2m8-6h2m-18 0H4m14.485-6.515l1.414-1.414M5.101 5.101L6.515 6.515m10.97 10.97l1.414 1.414M5.101 18.899l1.414-1.414M12 18a6 6 0 100-12 6 6 0 000 12z"})}),"More Filters"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"flex items-center justify-center flex-wrap gap-x-6 gap-y-2",children:c.map(b=>e.jsx("button",{onClick:()=>o("location",b.name),className:`text-gray-600 hover:text-yellow-600 transition-colors pb-1 ${a.location===b.name?"font-bold text-yellow-600 border-b-2 border-yellow-600":"font-medium"}`,children:b.short||b.name},b.name))})})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[m.length," properties found"]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>g("grid"),className:`px-4 py-2 text-sm ${f==="grid"?"bg-yellow-500 text-white":"bg-white text-gray-700"}`,children:"Grid"}),e.jsx("button",{onClick:()=>g("list"),className:`px-4 py-2 text-sm ${f==="list"?"bg-yellow-500 text-white":"bg-white text-gray-700"}`,children:"List"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(b=>e.jsx(Me,{to:`/property/${b.id}`,className:"block",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:b.image||"https://placehold.co/600x400/e2e8f0/4a5568?text=Property",alt:b.title,className:"w-full h-48 object-cover"}),e.jsx("button",{onClick:w=>y(b.id,w),className:`absolute top-2 right-2 p-2 rounded-full ${x(b.id)?"bg-red-500 text-white":"bg-white text-gray-600"} hover:bg-red-500 hover:text-white transition-colors`,children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),e.jsx("p",{className:"text-gray-600 mb-2",children:b.location}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-500 mb-2",children:["RM ",b.price]}),(b.zeroDeposit||b.cookingReady||b.hotProperty)&&e.jsxs("div",{className:"flex gap-1 mb-2",children:[b.zeroDeposit&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Zero Deposit"}),b.cookingReady&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:" Cooking Ready"}),b.hotProperty&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" Hot Property"})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:[b.bedrooms," bed"]}),e.jsxs("span",{children:[b.bathrooms," bath"]}),e.jsxs("span",{children:[b.sqft," sqft"]})]})]})]})},b.id))}),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No properties found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search criteria."})]})]})}),VR=()=>e.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Tenant Services"}),e.jsx("p",{className:"text-gray-600",children:"Tenant services page coming soon..."})]})});function YR(){const[n,r]=p.useState([]),[a,o]=p.useState(""),[c,d]=p.useState(""),[m,f]=p.useState([]),[g,x]=p.useState("grid"),[y,b]=p.useState(null),[w,S]=p.useState(!1),[N,v]=p.useState(!1),[_,k]=p.useState(!1),[E,D]=p.useState(!1),[L,M]=p.useState(!1),[z,$]=p.useState(!1),[O,T]=p.useState(!1),[P,F]=p.useState(0),[J,Z]=p.useState([]),[oe,ae]=p.useState(!1),[U,G]=p.useState(null),[Y,xe]=p.useState(null),{user:C,isAuthenticated:H}=Qt(),[V,X]=p.useState([]),se={location:"All Locations",price:"all",type:"all",furnishing:"all",amenities:[],bedrooms:0,bathrooms:0,parking:0,zeroDeposit:!1,petFriendly:!1,availableFrom:""},[le,ye]=p.useState(se),[ce,he]=p.useState(!1),ie={name:"",email:"",phone:"",date:"",time:"",message:"",numberOfOccupants:1,occupation:"",moveInDate:"",nationality:"",monthlyIncome:""},[be,ke]=p.useState(ie);p.useEffect(()=>{C&&ke(ne=>({...ne,name:C.full_name||C.username||"",email:C.email||""}))},[C,E]),p.useEffect(()=>{E&&y&&(async()=>{ae(!0),Z([]),G(null);try{const Se=await ys.getAvailableSlots(y.id);Z(Se)}catch(Se){console.error("Failed to fetch slots:",Se)}finally{ae(!1)}})()},[E,y]),p.useEffect(()=>{if(!H){X([]);return}const ne=async()=>{const Ae=await Mb.getNotifications();Ae.success&&X(Ae.notifications)};ne();const Se=setInterval(ne,2e4);return()=>clearInterval(Se)},[H,C]);const[Re,Qe]=p.useState({bookingId:null,currentDate:"",currentTime:"",newDate:"",newTime:""}),[ct,_t]=p.useState({name:"",location:"",price:"",type:"",furnishing:"",bedrooms:"",bathrooms:"",size:"",description:"",amenities:[]}),At=async ne=>{if(ne.preventDefault(),!y)return alert("An error occurred. No property selected.");if(!U)return alert("Please select an available viewing slot.");try{const Se={viewing_slot_id:U.id,property_id:y.id,name:be.name,email:be.email,phone:be.phone,message:be.message,occupation:be.occupation,monthly_income:be.monthlyIncome,number_of_occupants:be.numberOfOccupants},Ae=await Gt.createBooking(Se);Ae.success?(alert("Your viewing has been confirmed for the selected time!"),D(!1),ke(ie),F(Ke=>Ke+1)):alert(`Error: ${Ae.error||"Could not book slot."}`)}catch(Se){console.error("Failed to book viewing slot:",Se),alert("An unexpected server error occurred.")}},qe=(ne,Se)=>{ke(Ae=>({...Ae,[ne]:Se}))},rt=["Swimming Pool","Gym","Security","Parking","Playground","BBQ Area","Laundry","Concierge","Private Lift","Cooking Allowed","Air Conditioning","Balcony","Water Heater","Internet"],Wt=[{name:"All Locations",short:"All"},{name:"Kuala Lumpur",short:"KL"},{name:"Petaling Jaya",short:"PJ"},{name:"Cyberjaya"},{name:"Puchong"},{name:"Cheras"},{name:"Bangsar"},{name:"Kajang"},{name:"Shah Alam"},{name:"Subang Jaya"},{name:"Ara Damansara"},{name:"Kepong"},{name:"Sentul"}];p.useEffect(()=>{const ne=async()=>{try{const Ke=await fetch("http://localhost:5001/api/properties");if(Ke.ok){const Bt=await Ke.json();r(Bt.properties||[])}else console.error("Failed to load properties from API"),r([])}catch(Ke){console.error("Error loading properties:",Ke),r([])}};ne();const Se=()=>{ne()};window.addEventListener("propertyUpdated",Se);const Ae=localStorage.getItem("speedhomeFavorites");return Ae&&f(JSON.parse(Ae)),()=>{window.removeEventListener("propertyUpdated",Se)}},[]),p.useEffect(()=>{localStorage.setItem("speedhomeFavorites",JSON.stringify(m))},[m]);const Jt=(ne,Se)=>{Se&&(Se.stopPropagation(),Se.preventDefault()),f(Ae=>{const Ke=Ae.includes(ne)?Ae.filter(Bt=>Bt!==ne):[...Ae,ne];return localStorage.setItem("speedhomeFavorites",JSON.stringify(Ke)),Ke})},ve=ne=>m.includes(ne),Ve=n.filter(ne=>{const Se=ne.title.toLowerCase().includes(a.toLowerCase())||ne.location.toLowerCase().includes(a.toLowerCase()),Ae=le.location==="All Locations"||ne.location===le.location;let Ke=!0;if(le.price!=="all"){const Pt=ne.price;switch(le.price){case"under1000":Ke=Pt<1e3;break;case"1000-2000":Ke=Pt>=1e3&&Pt<=2e3;break;case"2000-3000":Ke=Pt>=2e3&&Pt<=3e3;break;case"3000-5000":Ke=Pt>=3e3&&Pt<=5e3;break;case"above5000":Ke=Pt>5e3;break;default:Ke=!0}}const Bt=le.furnishing==="all"||ne.furnished&&ne.furnished.toLowerCase().includes(le.furnishing.toLowerCase()),ds=le.type==="all"||ne.propertyType&&ne.propertyType.toLowerCase().includes(le.type.toLowerCase()),os=le.amenities.length===0||le.amenities.every(Pt=>ne.amenities&&ne.amenities.includes(Pt)),Ns=!le.zeroDeposit||ne.zeroDeposit===!0,$t=!le.petFriendly||ne.petFriendly===!0,us=le.bedrooms===0||ne.bedrooms>=le.bedrooms,ot=le.bathrooms===0||ne.bathrooms>=le.bathrooms,Qr=le.parking===0||ne.parking>=le.parking,Jr=(()=>{if(!le.availableFrom||!ne.moveIn||ne.moveIn.toLowerCase()==="immediate")return!0;const Pt=new Date(ne.moveIn),A=new Date(le.availableFrom);return isNaN(Pt.getTime())||isNaN(A.getTime())?!0:Pt>=A})();return Se&&Ae&&Ke&&Bt&&ds&&os&&Ns&&$t&&Jr&&us&&ot&&Qr}),dt=()=>{o(""),d(""),ye(se),he(!1)},ut=(ne,Se)=>{ye(Ae=>({...Ae,[ne]:Se}))},Et=ne=>{ye(Se=>{const Ae=Se.amenities.includes(ne)?Se.amenities.filter(Ke=>Ke!==ne):[...Se.amenities,ne];return{...Se,amenities:Ae}})},q=(ne,Se,Ae)=>{Qe({bookingId:ne,currentDate:Se,currentTime:Ae,newDate:"",newTime:""}),$(!0)};p.useEffect(()=>(window.appHandleRescheduleRequest=q,()=>{delete window.appHandleRescheduleRequest}),[]);const ge=ne=>{const Se=typeof ne=="string"?ne:ne.target.value;d(Se);const Ae=setTimeout(()=>{o(Se)},300);return()=>clearTimeout(Ae)};return e.jsxs("div",{className:"App",children:[e.jsx(rE,{notifications:V,setNotifications:X}),e.jsxs(w2,{children:[e.jsx(ht,{path:"/",element:e.jsx(IR,{searchInput:c,handleSearchChange:ge,filters:le,handleFilterChange:ut,locations:Wt,setShowMoreFiltersModal:he,filteredProperties:Ve,viewMode:g,setViewMode:x,isFavorite:ve,toggleFavorite:Jt})}),e.jsx(ht,{path:"/property/:propertyId",element:e.jsx(qR,{properties:n,isFavorite:ve,toggleFavorite:Jt,setSelectedProperty:b,onApplyClick:ne=>{console.log("App.jsx - onApplyClick triggered, hasAppliedSetter:",typeof ne),S(!0),xe(()=>ne),console.log("App.jsx - hasAppliedCallback set successfully")},onScheduleClick:()=>D(!0)},P)}),e.jsx(ht,{path:"/landlord",element:e.jsx(t6,{onAddProperty:()=>T(!0)})}),e.jsx(ht,{path:"/tenant",element:e.jsx(VR,{})}),e.jsx(ht,{path:"/about-us",element:e.jsx(lE,{})}),e.jsx(ht,{path:"/faq",element:e.jsx(oE,{})}),e.jsx(ht,{path:"/terms-conditions",element:e.jsx(iE,{})}),e.jsx(ht,{path:"/privacy-policy",element:e.jsx(cE,{})}),e.jsx(ht,{path:"/contact-us",element:e.jsx(dE,{})}),e.jsx(ht,{path:"/dashboard",element:e.jsx(yE,{favorites:m,properties:n,toggleFavorite:Jt})}),e.jsx(ht,{path:"/document-upload-test",element:e.jsx(HR,{})}),e.jsx(ht,{path:"/agreement/:agreementId",element:e.jsx(s6,{})}),e.jsx(ht,{path:"/agreement-demo",element:e.jsx(n6,{})}),e.jsx(ht,{path:"/agreement/:id/payment",element:e.jsx(z6,{})}),e.jsx(ht,{path:"/agreement/:id/payment-success",element:e.jsx(B6,{})}),e.jsx(ht,{path:"/deposit-payment/:agreementId",element:e.jsx(H6,{})}),e.jsx(ht,{path:"/deposit/payment/:agreementId/success",element:e.jsx(q6,{})}),e.jsx(ht,{path:"/deposit/:agreementId/manage",element:e.jsx(I6,{})}),e.jsx(ht,{path:"/deposit/:depositId/claim",element:e.jsx(Z6,{})}),e.jsx(ht,{path:"/deposit/claims/:claimId",element:e.jsx(Q6,{})}),e.jsx(ht,{path:"/deposit/:depositId/landlord-response",element:e.jsx(s5,{})}),e.jsx(ht,{path:"/deposit/disputes/:disputeId",element:e.jsx(J6,{})})]}),e.jsx(aE,{}),w&&y&&e.jsx(FR,{propertyId:y.id,onClose:()=>S(!1),onSuccess:()=>{try{console.log("App.jsx - onSuccess callback triggered"),console.log("App.jsx - hasAppliedCallback:",Y),console.log("App.jsx - hasAppliedCallback type:",typeof Y),S(!1),Y&&typeof Y=="function"?(console.log("App.jsx - Calling hasAppliedCallback(true)"),Y(!0),console.log("App.jsx - hasAppliedCallback(true) completed")):console.log("App.jsx - hasAppliedCallback is not available or not a function"),alert("Application submitted successfully!"),console.log("App.jsx - onSuccess callback completed successfully")}catch(ne){console.log("App.jsx - Error in onSuccess callback:",ne),S(!1),alert("Application submitted successfully!")}}}),E&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-lg w-full shadow-2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Schedule a Viewing"}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:y.title}),e.jsx("p",{className:"text-sm text-gray-600",children:y.location})]}),e.jsxs("form",{onSubmit:At,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"schedule-name",value:be.name,onChange:ne=>qe("name",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"schedule-email",value:be.email,onChange:ne=>qe("email",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"schedule-phone",value:be.phone,onChange:ne=>qe("phone",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-nationality",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),e.jsx("input",{type:"text",id:"schedule-nationality",value:be.nationality,onChange:ne=>qe("nationality",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-occupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation"}),e.jsx("input",{type:"text",id:"schedule-occupation",value:be.occupation,onChange:ne=>qe("occupation",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-income",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Monthly Income (RM)"}),e.jsx("input",{type:"number",id:"schedule-income",value:be.monthlyIncome,onChange:ne=>qe("monthlyIncome",ne.target.value),required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-occupants",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Occupants"}),e.jsx("input",{type:"number",id:"schedule-occupants",value:be.numberOfOccupants,onChange:ne=>qe("numberOfOccupants",ne.target.value),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-move-in",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Move-in Date"}),e.jsx("input",{type:"date",id:"schedule-move-in",value:be.moveInDate,onChange:ne=>qe("moveInDate",ne.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select an available time slot:"}),e.jsx("div",{className:"border rounded-lg p-3",style:{minHeight:"120px"},children:oe?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading slots..."}):J.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:J.map(ne=>e.jsxs("button",{type:"button",onClick:()=>G(ne),className:`w-full text-center p-2 rounded-lg border text-sm transition-colors ${(U==null?void 0:U.id)===ne.id?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-blue-50 hover:border-blue-400"}`,children:[e.jsx("div",{className:"font-semibold",children:new Date(ne.date+"T"+ne.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),e.jsx("div",{children:ne.start_time})]},ne.id))}):e.jsx("div",{className:"text-center py-10 text-gray-500 bg-gray-50 rounded-lg",children:"Sorry, no viewing times are currently available."})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"schedule-message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),e.jsx("textarea",{id:"schedule-message",value:be.message,onChange:ne=>qe("message",ne.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any specific questions or requests?"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Submit Request"})]})]})]})})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"All Filters"}),e.jsx("button",{onClick:()=>he(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Number of Bedrooms"}),e.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(ne=>e.jsx("button",{onClick:()=>ut("bedrooms",ne),className:`px-4 py-2 rounded-full border ${le.bedrooms===ne?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:ne===0?"Any":`${ne}+`},ne))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Number of Bathrooms"}),e.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(ne=>e.jsx("button",{onClick:()=>ut("bathrooms",ne),className:`px-4 py-2 rounded-full border ${le.bathrooms===ne?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:ne===0?"Any":`${ne}+`},ne))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Number of Car Parks"}),e.jsx("div",{className:"flex gap-2",children:[0,1,2,3].map(ne=>e.jsx("button",{onClick:()=>ut("parking",ne),className:`px-4 py-2 rounded-full border ${le.parking===ne?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:ne===0?"Any":`${ne}+`},ne))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Extra Information"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ut("zeroDeposit",!le.zeroDeposit),className:`px-4 py-2 rounded-full border ${le.zeroDeposit?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:"Zero Deposit"}),e.jsx("button",{onClick:()=>ut("petFriendly",!le.petFriendly),className:`px-4 py-2 rounded-full border ${le.petFriendly?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:"Pet-Friendly"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:rt.map(ne=>e.jsx("button",{onClick:()=>Et(ne),className:`px-4 py-2 rounded-full border text-sm ${le.amenities.includes(ne)?"bg-yellow-500 text-white border-yellow-500":"bg-white hover:border-gray-400"}`,children:ne},ne))})]})]}),e.jsxs("div",{className:"p-6 border-t mt-auto flex justify-between items-center bg-gray-50 rounded-b-xl",children:[e.jsx("button",{onClick:dt,className:"text-gray-600 hover:text-black font-semibold",children:"Reset Filter"}),e.jsxs("button",{onClick:()=>he(!1),className:"px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 font-semibold",children:["Filter (",Ve.length,")"]})]})]})})]})}function GR(){return e.jsx(nS,{children:e.jsx(YR,{})})}D1.createRoot(document.getElementById("root")).render(e.jsx(He.StrictMode,{children:e.jsx(V2,{children:e.jsx(GR,{})})}));

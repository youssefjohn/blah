nohup: ignoring input
Stripe API key not configured
SignWell API key not configured
AWS credentials not configured
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
 * Serving Flask app 'main'
 * Debug mode: on
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://169.254.0.21:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug:127.0.0.1 - - [01/Sep/2025 18:26:01] "GET /api/health HTTP/1.1" 200 -
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:src.services.background_scheduler:üåÖ Running daily property lifecycle maintenance...
INFO:src.services.background_scheduler:üåÖ Running daily property lifecycle maintenance...
INFO:services.property_lifecycle_service:üöÄ Starting daily property lifecycle maintenance with deposit workflows...
INFO:services.property_lifecycle_service:üöÄ Starting daily property lifecycle maintenance with deposit workflows...
INFO:services.property_lifecycle_service:üîÑ Checking for upcoming lease expiries (7-day advance)...
INFO:services.property_lifecycle_service:üîÑ Checking for upcoming lease expiries (7-day advance)...
ERROR:services.property_lifecycle_service:‚ùå Error in lease expiry advance notifications: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in lease expiry advance notifications: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting expired agreements check with deposit resolution...
INFO:services.property_lifecycle_service:üîÑ Starting expired agreements check with deposit resolution...
ERROR:services.property_lifecycle_service:‚ùå Error in expired agreements check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in expired agreements check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting pending agreements timeout check...
INFO:services.property_lifecycle_service:üîÑ Starting pending agreements timeout check...
ERROR:services.property_lifecycle_service:‚ùå Error in pending agreements timeout check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in pending agreements timeout check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking for completed deposit resolutions...
INFO:services.property_lifecycle_service:üîÑ Checking for completed deposit resolutions...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit resolution completion check: type object 'DepositTransaction' has no attribute 'resolved_at'
ERROR:services.property_lifecycle_service:‚ùå Error in deposit resolution completion check: type object 'DepositTransaction' has no attribute 'resolved_at'
INFO:services.property_lifecycle_service:üéâ Daily property lifecycle maintenance completed successfully!
INFO:services.property_lifecycle_service:üéâ Daily property lifecycle maintenance completed successfully!
INFO:services.property_lifecycle_service:   - Total properties updated: 0
INFO:services.property_lifecycle_service:   - Total properties updated: 0
INFO:services.property_lifecycle_service:   - Total notifications created: 0
INFO:services.property_lifecycle_service:   - Total notifications created: 0
INFO:src.services.background_scheduler:‚úÖ Daily maintenance completed successfully
INFO:src.services.background_scheduler:‚úÖ Daily maintenance completed successfully
INFO:src.services.background_scheduler:   - Properties updated: 0
INFO:src.services.background_scheduler:   - Properties updated: 0
INFO:src.services.background_scheduler:   - Notifications created: 0
INFO:src.services.background_scheduler:   - Notifications created: 0
INFO:src.services.background_jobs:Starting daily cleanup tasks...
INFO:src.services.background_jobs:Starting daily cleanup tasks...
INFO:src.services.background_jobs:Daily cleanup completed
INFO:src.services.background_jobs:Daily cleanup completed
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:src.services.background_scheduler:üåÖ Running daily property lifecycle maintenance...
INFO:services.property_lifecycle_service:üöÄ Starting daily property lifecycle maintenance with deposit workflows...
INFO:services.property_lifecycle_service:üîÑ Checking for upcoming lease expiries (7-day advance)...
ERROR:services.property_lifecycle_service:‚ùå Error in lease expiry advance notifications: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting expired agreements check with deposit resolution...
ERROR:services.property_lifecycle_service:‚ùå Error in expired agreements check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting pending agreements timeout check...
ERROR:services.property_lifecycle_service:‚ùå Error in pending agreements timeout check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking for completed deposit resolutions...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit resolution completion check: type object 'DepositTransaction' has no attribute 'resolved_at'
INFO:services.property_lifecycle_service:üéâ Daily property lifecycle maintenance completed successfully!
INFO:services.property_lifecycle_service:   - Total properties updated: 0
INFO:services.property_lifecycle_service:   - Total notifications created: 0
INFO:src.services.background_scheduler:‚úÖ Daily maintenance completed successfully
INFO:src.services.background_scheduler:   - Properties updated: 0
INFO:src.services.background_scheduler:   - Notifications created: 0
INFO:src.services.background_jobs:Starting daily cleanup tasks...
INFO:src.services.background_jobs:Daily cleanup completed
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:src.services.background_scheduler:üåÖ Running daily property lifecycle maintenance...
INFO:services.property_lifecycle_service:üöÄ Starting daily property lifecycle maintenance with deposit workflows...
INFO:services.property_lifecycle_service:üîÑ Checking for upcoming lease expiries (7-day advance)...
ERROR:services.property_lifecycle_service:‚ùå Error in lease expiry advance notifications: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting expired agreements check with deposit resolution...
ERROR:services.property_lifecycle_service:‚ùå Error in expired agreements check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting pending agreements timeout check...
ERROR:services.property_lifecycle_service:‚ùå Error in pending agreements timeout check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking for completed deposit resolutions...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit resolution completion check: type object 'DepositTransaction' has no attribute 'resolved_at'
INFO:services.property_lifecycle_service:üéâ Daily property lifecycle maintenance completed successfully!
INFO:services.property_lifecycle_service:   - Total properties updated: 0
INFO:services.property_lifecycle_service:   - Total notifications created: 0
INFO:src.services.background_scheduler:‚úÖ Daily maintenance completed successfully
INFO:src.services.background_scheduler:   - Properties updated: 0
INFO:src.services.background_scheduler:   - Notifications created: 0
INFO:src.services.background_jobs:Starting daily cleanup tasks...
INFO:src.services.background_jobs:Daily cleanup completed
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug:127.0.0.1 - - [03/Sep/2025 13:21:40] "[31m[1mPOST /api/deposits/test HTTP/1.1[0m" 405 -
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug:127.0.0.1 - - [03/Sep/2025 13:25:13] "POST /api/deposits/test HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Sep/2025 13:25:18] "[31m[1mPOST /api/deposits/1/landlord-respond HTTP/1.1[0m" 401 -
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug:127.0.0.1 - - [03/Sep/2025 13:36:41] "POST /api/deposits/test HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:src.services.background_scheduler:‚è∞ Running hourly property lifecycle and deposit checks...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
INFO:services.property_lifecycle_service:üîÑ Starting future availability check...
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in future availability check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit claim deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit claim deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
INFO:services.property_lifecycle_service:üîÑ Checking deposit dispute deadlines...
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
ERROR:services.property_lifecycle_service:‚ùå Error in deposit dispute deadlines check: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
INFO:src.services.background_jobs:Starting expired deposit processing...
INFO:src.services.background_jobs:Starting expired deposit processing...
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
ERROR:src.services.deposit_deadline_service:Error checking expired deposits: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/routes/deposit.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/services/fund_release_service.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/services/fund_release_service.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/admin/admin_config.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
INFO:src.services.background_scheduler:üöÄ Starting background job scheduler...
INFO:src.services.background_scheduler:üîÑ Scheduler loop started
INFO:src.services.background_scheduler:‚úÖ Background scheduler started successfully
INFO:src.services.background_jobs:Starting background job scheduler...
INFO:src.services.background_jobs:Background job scheduler started successfully
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 101-490-343
INFO:werkzeug: * Detected change in '/home/ubuntu/blah/speedhome-backend/src/admin/admin_config.py', reloading
Startup: No agreements to expire
Initializing property lifecycle background scheduler...
‚úÖ Background scheduler started successfully
Starting deposit background jobs...
‚úÖ Deposit background jobs started successfully
INFO:werkzeug: * Restarting with stat
Failed to connect to S3: An error occurred (403) when calling the HeadBucket operation: Forbidden
Traceback (most recent call last):
  File "/home/ubuntu/blah/speedhome-backend/src/main.py", line 91, in <module>
    admin = init_admin(app)
            ^^^^^^^^^^^^^^^
  File "/home/ubuntu/blah/speedhome-backend/src/admin/admin_config.py", line 156, in init_admin
    return setup_admin(app, db)
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/blah/speedhome-backend/src/admin/admin_config.py", line 168, in setup_admin
    admin.add_view(NotificationAdminView(Notification, db.session, name='Notifications', category='System', endpoint='admin_notifications'))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask_admin/contrib/sqla/view.py", line 342, in __init__
    super(ModelView, self).__init__(model, name, category, endpoint, url, static_folder,
  File "/usr/local/lib/python3.11/dist-packages/flask_admin/model/base.py", line 818, in __init__
    self._refresh_cache()
  File "/usr/local/lib/python3.11/dist-packages/flask_admin/model/base.py", line 913, in _refresh_cache
    self._search_supported = self.init_search()
                             ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask_admin/contrib/sqla/view.py", line 591, in init_search
    attr, joins = tools.get_field_with_path(self.model, name)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask_admin/contrib/sqla/tools.py", line 160, in get_field_with_path
    value = getattr(current_model, attribute)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Notification' has no attribute 'title'
